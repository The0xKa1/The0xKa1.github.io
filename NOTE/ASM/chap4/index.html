
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="‰∫∫ÁîüËã¶Áü≠ÔºåÁ∫µÊÉÖÁáÉÁÉß">
      
      
        <meta name="author" content="The0xKa1">
      
      
        <link rel="canonical" href="https://note.the0xka1.cc/NOTE/ASM/chap4/">
      
      
        <link rel="prev" href="../chap3/">
      
      
        <link rel="next" href="../chap5/">
      
      
        
      
      
      <link rel="icon" href="../../../static/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Chapter 4 - ka1ÁöÑÁ¨îËÆ∞Êú¨</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M128%20320H24.5c-24.9%200-40.2-27.1-27.4-48.5L50%20183.3c8.7-14.5%2024.3-23.3%2041.2-23.3h95C262.3%2031.1%20375.8%2024.6%20451.7%2035.7c12.8%201.9%2022.8%2011.9%2024.6%2024.6%2011.1%2075.9%204.6%20189.4-124.3%20265.5v95c0%2016.9-8.8%2032.5-23.3%2041.2l-88.2%2052.9c-21.3%2012.8-48.5-2.6-48.5-27.4V384c0-35.3-28.7-64-64-64h-.1zm272-160a48%2048%200%201%200-96%200%2048%2048%200%201%200%2096%200%22/%3E%3C/svg%3E');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M373.5%2027.1C388.5%209.9%20410.2%200%20433.1%200c43.6%200%2079%2035.4%2079%2079%200%2022.8-9.9%2044.6-27.1%2059.6L283.7%20313.8%20273%20303l-64-64-10.8-10.7zM161.1%20259c.9%201%2026.9%2027%2077.9%2078l13.9%2013.9-17.1%2074.2c-3.9%2017.1-16.9%2030.7-33.8%2035.4L32.2%20508l92.3-92.3c1.2.1%202.3.2%203.5.2%2017.7%200%2032-14.3%2032-32s-14.3-32-32-32-32%2014.3-32%2032c0%201.2.1%202.4.2%203.5L3.9%20479.8%2051.5%20310c4.7-16.9%2018.3-29.9%2035.4-33.8z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M40%2048c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24V72c0-13.3-10.7-24-24-24zm152%2016c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zM16%20232v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24H40c-13.3%200-24%2010.7-24%2024m24%20136c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20384%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M292.9%20384c7.3-22.3%2021.9-42.5%2038.4-59.9C364%20289.7%20384%20243.2%20384%20192%20384%2086%20298%200%20192%200S0%2086%200%20192c0%2051.2%2020%2097.7%2052.7%20132.1%2016.5%2017.4%2031.2%2037.6%2038.4%2059.9h201.7zm-4.9%2048H96v16c0%2044.2%2035.8%2080%2080%2080h32c44.2%200%2080-35.8%2080-80zM184%20112c-39.8%200-72%2032.2-72%2072%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-66.3%2053.7-120%20120-120%2013.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M434.8%2070.1c14.3%2010.4%2017.5%2030.4%207.1%2044.7l-256%20352c-5.5%207.6-14%2012.3-23.4%2013.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200l101.5%20101.5%20234-321.7c10.4-14.3%2030.4-17.5%2044.7-7.1z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%2032c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v208c0%208.8-7.2%2016-16%2016s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v272c0%201.5%200%203.1.1%204.6L67.6%20283c-16-15.2-41.3-14.6-56.6%201.4s-14.6%2041.3%201.4%2056.6l112.4%20107c43.1%2041.1%20100.4%2064%20160%2064H304c97.2%200%20176-78.8%20176-176V128c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v112c0%208.8-7.2%2016-16%2016s-16-7.2-16-16V64c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v176c0%208.8-7.2%2016-16%2016s-16-7.2-16-16z%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%200c14.7%200%2028.2%208.1%2035.2%2021l216%20400c6.7%2012.4%206.4%2027.4-.8%2039.5S486.1%20480%20472%20480H40c-14.1%200-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9%2020.5-21%2035.2-21m0%20352a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m0-192c-18.2%200-32.7%2015.5-31.4%2033.7l7.4%20104c.9%2012.5%2011.4%2022.3%2023.9%2022.3%2012.6%200%2023-9.7%2023.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%203c4.97%200%209%203.58%209%208s-6%2010-9%2010-9-5.58-9-10%204.03-8%209-8m-1.69%207.93C9.29%209.29%207.47%208.58%206.25%209.34s-1.38%202.71-.36%204.35c1.03%201.64%202.85%202.35%204.07%201.59%201.22-.78%201.37-2.71.35-4.35m3.38%200c-1.02%201.64-.87%203.57.35%204.35%201.22.76%203.04.05%204.07-1.59%201.02-1.64.86-3.59-.36-4.35s-3.04-.05-4.06%201.59M12%2017.75c-2%200-2.5-.75-2.5-.75%200%20.03.5%202%202.5%202s2.5-2%202.5-2-.5.75-2.5.75%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M296%2040c0-22.1-17.9-40-40-40s-40%2017.9-40%2040c0%2044.1-53.3%2066.1-84.5%2035-15.6-15.6-40.9-15.6-56.6%200s-15.6%2040.9%200%2056.6c31.2%2031.2%209.1%2084.5-35%2084.5-22.1%200-40%2017.9-40%2040s17.9%2040%2040%2040c44.1%200%2066.1%2053.3%2035%2084.5-15.6%2015.6-15.6%2040.9%200%2056.6s40.9%2015.6%2056.6%200c31.2-31.2%2084.5-9.1%2084.5%2035%200%2022.1%2017.9%2040%2040%2040s40-17.9%2040-40c0-44.1%2053.3-66.1%2084.5-35%2015.6%2015.6%2040.9%2015.6%2056.6%200s15.6-40.9%200-56.6c-31.2-31.2-9.1-84.5%2035-84.5%2022.1%200%2040-17.9%2040-40s-17.9-40-40-40c-44.1%200-66.1-53.3-35-84.5%2015.6-15.6%2015.6-40.9%200-56.6s-40.9-15.6-56.6%200c-31.2%2031.1-84.5%209.1-84.5-35M160%20224a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200m160%2032a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M352%200c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v64h-96c-53%200-96%2043-96%2096v224c0%2053%2043%2096%2096%2096h256c53%200%2096-43%2096-96V160c0-53-43-96-96-96h-96zM160%20368c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24M224%20176a48%2048%200%201%201%200%2096%2048%2048%200%201%201%200-96m144%2048a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m-304%200c0-17.7-14.3-32-32-32S0%20206.3%200%20224v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32zm544-32c-17.7%200-32%2014.3-32%2032v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-96c0-17.7-14.3-32-32-32%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M272%200c-26.5%200-48%2021.5-48%2048v16h-16c-44.2%200-80%2035.8-80%2080v108.8l-21.6%208.6c-14.8%205.9-22.5%2022.4-17.4%2037.5%2010.4%2031.3%2026.8%2059.3%2047.7%2083.1%2020.1-9.2%2041.7-13.9%2063.3-14%2033.1-.2%2066.3%2010.2%2094.4%2031.4l1.6%201.2v-215l-104%2041.6V144c0-8.8%207.2-16%2016-16h224c8.8%200%2016%207.2%2016%2016v83.2l-104-41.6v215l1.6-1.2c27.5-20.7%2059.9-31.2%2092.4-31.4%2022.3-.1%2044.6%204.5%2065.3%2014%2020.9-23.7%2037.3-51.8%2047.7-83.1%205-15.2-2.6-31.6-17.4-37.5l-21.6-8.6V144c0-44.2-35.8-80-80-80h-16V48c0-26.5-21.5-48-48-48zm131.4%20476.1c21.3-16.1%2049.9-16.1%2071.2%200%2019%2014.4%2041.9%2028.2%2067.2%2033.3%2026.5%205.4%2054.3.8%2080.7-19.1%2010.6-8%2012.7-23%204.7-33.6s-23-12.7-33.6-4.7c-14.9%2011.2-28.6%2013.1-42.3%2010.3-14.9-3-30.9-11.9-47.8-24.6-38.4-29-90.5-29-129%200-24%2018.1-40.7%2026.3-54.5%2026.3s-30.5-8.2-54.5-26.3c-38.4-29-90.5-29-129%200-21.6%2016.3-41.3%2025.8-58.9%2025.7-9.6-.1-19.9-3-31.2-11.5-10.6-8-25.6-5.9-33.6%204.7s-5.8%2025.7%204.8%2033.7c19.1%2014.4%2039.4%2021%2059.8%2021.1%2033.9.2%2064.3-17.4%2088.1-35.3%2021.3-16.1%2049.9-16.1%2071.2%200%2024.2%2018.3%2052.3%2035.9%2083.4%2035.9s59.1-17.7%2083.4-35.9z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M419.5%2096c-16.6%200-32.7%204.5-46.8%2012.7-15.8-16-34.2-29.4-54.5-39.5%2028.2-24%2064.1-37.2%20101.3-37.2C505.9%2032%20576%20102%20576%20188.5c0%2041.5-16.5%2081.3-45.8%20110.6l-71.1%2071.1C429.8%20399.5%20390%20416%20348.5%20416%20262.1%20416%20192%20346%20192%20259.5c0-1.5%200-3%20.1-4.5.5-17.7%2015.2-31.6%2032.9-31.1s31.6%2015.2%2031.1%2032.9v2.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2024.5%200%2048-9.7%2065.4-27.1l71.1-71.1c17.3-17.3%2027.1-40.9%2027.1-65.4%200-51.1-41.4-92.5-92.5-92.5zm-144.3%2077.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5%200-48%209.7-65.4%2027.1l-71.1%2071.1C73.8%20275.5%2064%20299.1%2064%20323.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2016.5%200%2032.6-4.4%2046.7-12.6%2015.8%2016%2034.2%2029.4%2054.6%2039.5-28.2%2023.9-64%2037.2-101.3%2037.2C70.1%20480.2%200%20410.2%200%20323.7c0-41.5%2016.5-81.3%2045.8-110.6l71.1-71.1c29.3-29.3%2069.1-45.8%20110.6-45.8%2086.6%200%20156.5%2070.6%20156.5%20156.9v3.9c-.4%2017.7-15.1%2031.6-32.8%2031.2s-31.6-15.1-31.2-32.8v-2.3c0-33.7-18-63.3-44.8-79.6z%22/%3E%3C/svg%3E');}</style>



  
  
    
      
      
        
      
      
    
  
    
      
      
        
      
      
    
  
    
      
      
        
      
      
    
  
  
  <style>:root{.md-tag.md-tag--default-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M32.5%2096v149.5c0%2017%206.7%2033.3%2018.7%2045.3l192%20192c25%2025%2065.5%2025%2090.5%200l149.5-149.5c25-25%2025-65.5%200-90.5l-192-192C279.2%2038.7%20263%2032%20246%2032H96.5c-35.3%200-64%2028.7-64%2064m112%2016a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');}.md-tag.md-tag--hardware-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M176%2024c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40c-35.3%200-64%2028.7-64%2064H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40v56H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40v56H24c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h40c0%2035.3%2028.7%2064%2064%2064v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40h56v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40h56v40c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24v-40c35.3%200%2064-28.7%2064-64h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40v-56h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40v-56h40c13.3%200%2024-10.7%2024-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40h-56V24c0-13.3-10.7-24-24-24s-24%2010.7-24%2024v40h-56zm-16%20104h192c17.7%200%2032%2014.3%2032%2032v192c0%2017.7-14.3%2032-32%2032H160c-17.7%200-32-14.3-32-32V160c0-17.7%2014.3-32%2032-32m16%2048v160h160V176z%22/%3E%3C/svg%3E');}.md-tag.md-tag--software-tag{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.1.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M64%2096c0-35.3%2028.7-64%2064-64h384c35.3%200%2064%2028.7%2064%2064v240h-64V96H128v240H64zM0%20403.2C0%20392.6%208.6%20384%2019.2%20384h601.6c10.6%200%2019.2%208.6%2019.2%2019.2%200%2042.4-34.4%2076.8-76.8%2076.8H76.8C34.4%20480%200%20445.6%200%20403.2M281%20209l-31%2031%2031%2031c9.4%209.4%209.4%2024.6%200%2033.9s-24.6%209.4-33.9%200l-48-48c-9.4-9.4-9.4-24.6%200-33.9l48-48c9.4-9.4%2024.6-9.4%2033.9%200s9.4%2024.6%200%2033.9zm112-34%2048%2048c9.4%209.4%209.4%2024.6%200%2033.9l-48%2048c-9.4%209.4-24.6%209.4-33.9%200s-9.4-24.6%200-33.9l31-31-31-31c-9.4-9.4-9.4-24.6%200-33.9s24.6-9.4%2033.9%200z%22/%3E%3C/svg%3E');}}</style>

    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/print-site.css">
    
      <link rel="stylesheet" href="../../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../../css/timeline.css">
    
      <link rel="stylesheet" href="../../../css/katex.min.css">
    
      <link rel="stylesheet" href="../../../css/cards.css">
    
      <link rel="stylesheet" href="../../../css/card.css">
    
      <link rel="stylesheet" href="../../../css/newfonts.css">
    
      <link rel="stylesheet" href="../../../css/newadmonitions.css">
    
      <link rel="stylesheet" href="../../../css/newcolor.css">
    
      <link rel="stylesheet" href="../../../css/changelogs.css">
    
      <link rel="stylesheet" href="../../../css/tableandsize.css">
    
      <link rel="stylesheet" href="../../../css/flink.css">
    
      <link rel="stylesheet" href="../../../css/float_card.css">
    
      <link rel="stylesheet" href="../../../css/fdtoc.css">
    
      <link rel="stylesheet" href="../../../css/tocindex.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="theme" data-md-color-primary="custom" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-movement-instructions" class="md-skip">
          Ë∑≥ËΩ¨Ëá≥
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="È°µÁúâ">
    <a href="../../.." title="ka1ÁöÑÁ¨îËÆ∞Êú¨" class="md-header__button md-logo" aria-label="ka1ÁöÑÁ¨îËÆ∞Êú¨" data-md-component="logo">
      
  <img src="../../../static/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ka1ÁöÑÁ¨îËÆ∞Êú¨
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 4
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="theme" data-md-color-primary="custom" data-md-color-accent="pink"  aria-label="‰∏áÁ±Å‰ø±ÂØÇ"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="‰∏áÁ±Å‰ø±ÂØÇ" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="custom"  aria-label="ËêßÁëüÂáåÊô®"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="ËêßÁëüÂáåÊô®" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: no-preference)" data-md-color-scheme="simple" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="ÁÉàÊó•ÁÅºÂøÉ"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="ÁÉàÊó•ÁÅºÂøÉ" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="ÊêúÁ¥¢" placeholder="ÊêúÁ¥¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Êü•Êâæ">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="ÂàÜ‰∫´" aria-label="ÂàÜ‰∫´" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" aria-label="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Ê≠£Âú®ÂàùÂßãÂåñÊêúÁ¥¢ÂºïÊìé
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/The0xKa1/The0xKa1.github.io.git" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ùïøùñçùñäùüéùñùùï∂ùñÜùüè
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Ê†áÁ≠æ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  È¶ñÈ°µ

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  üìö Â≠¶‰π†Á¨îËÆ∞

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../friends/" class="md-tabs__link">
        
  
  
    
  
  üöÄ ÂèãÊÉÖÈìæÊé•

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="ÂØºËà™Ê†è" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ka1ÁöÑÁ¨îËÆ∞Êú¨" class="md-nav__button md-logo" aria-label="ka1ÁöÑÁ¨îËÆ∞Êú¨" data-md-component="logo">
      
  <img src="../../../static/images/logo.png" alt="logo">

    </a>
    ka1ÁöÑÁ¨îËÆ∞Êú¨
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/The0xKa1/The0xKa1.github.io.git" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ùïøùñçùñäùüéùñùùï∂ùñÜùüè
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    È¶ñÈ°µ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    üìö Â≠¶‰π†Á¨îËÆ∞
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    üìö Â≠¶‰π†Á¨îËÆ∞
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    üéì ËØæÁ®ãÁ¨îËÆ∞
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    üéì ËØæÁ®ãÁ¨îËÆ∞
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../DB/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Êï∞ÊçÆÂ∫ìÁ≥ªÁªü
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CO/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ËÆ°ÁÆóÊú∫ÁªÑÊàê‰∏éËÆæËÆ°
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../ADS/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    È´òÁ∫ßÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÂàÜÊûê
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../Arch/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑ
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../DataMarket/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Êï∞ÊçÆË¶ÅÁ¥†Â∏ÇÂú∫
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Ê±áÁºñ‰∏éÊé•Âè£
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ê±áÁºñ‰∏éÊé•Âè£
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 4
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ÁõÆÂΩï">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ÁõÆÂΩï
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mode-and-opcode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mode and Opcode
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mode and Opcode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        Machine Language
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operation Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processor-directives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processor Directives
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcode-byte-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opcode Byte 1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mod-reg-rm-field-byte-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOD-REG-R/M Field-Byte 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MOD-REG-R/M Field-Byte 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mod-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOD Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regopcode-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        REG/Opcode Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rm-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        R/M Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-bit-addressing-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        32-Bit Addressing Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-bit-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        64 Bit Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prefixes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prefixes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lock-prefix-group1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lock Prefix - Group1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#segment-override-prefix-group2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Segment Override Prefix - Group2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operand-size-override-prefix-group3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operand-size Override Prefix - Group3
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-size-override-prefix-group4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Address-size Override Prefix - Group4
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-effective-address" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOAD EFFECTIVE ADDRESS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LOAD EFFECTIVE ADDRESS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lea" class="md-nav__link">
    <span class="md-ellipsis">
      
        LEA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lds-les-lfs-lgs-and-lss" class="md-nav__link">
    <span class="md-ellipsis">
      
        LDS, LES, LFS, LGS, and LSS
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-data-transfers" class="md-nav__link">
    <span class="md-ellipsis">
      
        STRING DATA TRANSFERS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="STRING DATA TRANSFERS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#di-and-si" class="md-nav__link">
    <span class="md-ellipsis">
      
        DI and SI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-direction-flag-df" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Direction Flag, DF
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rep-prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        REP prefix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffix" class="md-nav__link">
    <span class="md-ellipsis">
      
        Suffix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lods" class="md-nav__link">
    <span class="md-ellipsis">
      
        LODS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stos" class="md-nav__link">
    <span class="md-ellipsis">
      
        STOS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movs" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOVS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins" class="md-nav__link">
    <span class="md-ellipsis">
      
        INS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outs" class="md-nav__link">
    <span class="md-ellipsis">
      
        OUTS
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-data-transfer-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        MISCELLANEOUS DATA TRANSFER INSTRUCTIONS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MISCELLANEOUS DATA TRANSFER INSTRUCTIONS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xchg" class="md-nav__link">
    <span class="md-ellipsis">
      
        XCHG
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lahf-and-sahf" class="md-nav__link">
    <span class="md-ellipsis">
      
        LAHF and SAHF
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xlat" class="md-nav__link">
    <span class="md-ellipsis">
      
        XLAT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input and Output Ports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-out" class="md-nav__link">
    <span class="md-ellipsis">
      
        IN &amp; OUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movsx-and-movzx" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOVSX and MOVZX
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bswap" class="md-nav__link">
    <span class="md-ellipsis">
      
        BSWAP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmov" class="md-nav__link">
    <span class="md-ellipsis">
      
        CMOV
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segment-override-prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        SEGMENT OVERRIDE PREFIX
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SEGMENT OVERRIDE PREFIX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directives-vs-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Directives Vs Instructions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Directives Vs Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directives-in-masm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Directives in MASM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-data-in-memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storing Data in Memory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assume-equ-and-org" class="md-nav__link">
    <span class="md-ellipsis">
      
        Assume EQU and ORG
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-and-endp" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROC and ENDP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macro-and-endm" class="md-nav__link">
    <span class="md-ellipsis">
      
        MACRO and ENDM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#include" class="md-nav__link">
    <span class="md-ellipsis">
      
        INCLUDE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory organization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Memory organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#full-segment-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full-Segment Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assume" class="md-nav__link">
    <span class="md-ellipsis">
      
        Assume
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end" class="md-nav__link">
    <span class="md-ellipsis">
      
        END
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Models
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chap11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter 11
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    üî¨ Êï∞Â≠¶‰∏éÁâ©ÁêÜ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    üî¨ Êï∞Â≠¶‰∏éÁâ©ÁêÜ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../LA/linear-algebra/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Á∫øÊÄß‰ª£Êï∞ (LINEAR-ALGEBRA)
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../Probability/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Ê¶ÇÁéáËÆ∫
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../MA/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Êï∞Â≠¶ÂàÜÊûê
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../Physics/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ÊôÆÈÄöÁâ©ÁêÜÂ≠¶‰∫å
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CS/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    üíª Ëá™Â≠¶Á¨îËÆ∞
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    üíª Ëá™Â≠¶Á¨îËÆ∞
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CS/TMS/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Missing Semester (TMS)
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CS/GIT/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Git ÁâàÊú¨ÊéßÂà∂
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CS/Verilog/verilog/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ÁºñÁ®ãËØ≠Ë®Ä
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CS/CV/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ËÆ°ÁÆóÊú∫ËßÜËßâ (Computer Vision)
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../Language/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    ËØ≠Ë®ÄÂ≠¶‰π†
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    üõ°Ô∏è ÂÆâÂÖ®‰∏éÁ´ûËµõ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    üõ°Ô∏è ÂÆâÂÖ®‰∏éÁ´ûËµõ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../CTF/CTF/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    CTF Á´ûËµõ
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../friends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üöÄ ÂèãÊÉÖÈìæÊé•
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ÁõÆÂΩï">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ÁõÆÂΩï
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mode-and-opcode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mode and Opcode
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mode and Opcode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        Machine Language
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operation Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processor-directives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Processor Directives
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcode-byte-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opcode Byte 1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mod-reg-rm-field-byte-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOD-REG-R/M Field-Byte 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MOD-REG-R/M Field-Byte 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mod-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOD Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regopcode-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        REG/Opcode Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rm-field" class="md-nav__link">
    <span class="md-ellipsis">
      
        R/M Field
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-bit-addressing-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        32-Bit Addressing Modes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-bit-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        64 Bit Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prefixes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prefixes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lock-prefix-group1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lock Prefix - Group1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#segment-override-prefix-group2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Segment Override Prefix - Group2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operand-size-override-prefix-group3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operand-size Override Prefix - Group3
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-size-override-prefix-group4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Address-size Override Prefix - Group4
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-effective-address" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOAD EFFECTIVE ADDRESS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LOAD EFFECTIVE ADDRESS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lea" class="md-nav__link">
    <span class="md-ellipsis">
      
        LEA
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lds-les-lfs-lgs-and-lss" class="md-nav__link">
    <span class="md-ellipsis">
      
        LDS, LES, LFS, LGS, and LSS
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-data-transfers" class="md-nav__link">
    <span class="md-ellipsis">
      
        STRING DATA TRANSFERS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="STRING DATA TRANSFERS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#di-and-si" class="md-nav__link">
    <span class="md-ellipsis">
      
        DI and SI
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-direction-flag-df" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Direction Flag, DF
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rep-prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        REP prefix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffix" class="md-nav__link">
    <span class="md-ellipsis">
      
        Suffix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lods" class="md-nav__link">
    <span class="md-ellipsis">
      
        LODS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stos" class="md-nav__link">
    <span class="md-ellipsis">
      
        STOS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movs" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOVS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins" class="md-nav__link">
    <span class="md-ellipsis">
      
        INS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outs" class="md-nav__link">
    <span class="md-ellipsis">
      
        OUTS
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-data-transfer-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        MISCELLANEOUS DATA TRANSFER INSTRUCTIONS
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MISCELLANEOUS DATA TRANSFER INSTRUCTIONS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xchg" class="md-nav__link">
    <span class="md-ellipsis">
      
        XCHG
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lahf-and-sahf" class="md-nav__link">
    <span class="md-ellipsis">
      
        LAHF and SAHF
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xlat" class="md-nav__link">
    <span class="md-ellipsis">
      
        XLAT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input and Output Ports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-out" class="md-nav__link">
    <span class="md-ellipsis">
      
        IN &amp; OUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movsx-and-movzx" class="md-nav__link">
    <span class="md-ellipsis">
      
        MOVSX and MOVZX
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bswap" class="md-nav__link">
    <span class="md-ellipsis">
      
        BSWAP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmov" class="md-nav__link">
    <span class="md-ellipsis">
      
        CMOV
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segment-override-prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        SEGMENT OVERRIDE PREFIX
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SEGMENT OVERRIDE PREFIX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directives-vs-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Directives Vs Instructions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Directives Vs Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directives-in-masm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Directives in MASM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-data-in-memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Storing Data in Memory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assume-equ-and-org" class="md-nav__link">
    <span class="md-ellipsis">
      
        Assume EQU and ORG
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-and-endp" class="md-nav__link">
    <span class="md-ellipsis">
      
        PROC and ENDP
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macro-and-endm" class="md-nav__link">
    <span class="md-ellipsis">
      
        MACRO and ENDM
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#include" class="md-nav__link">
    <span class="md-ellipsis">
      
        INCLUDE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory organization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Memory organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#full-segment-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full-Segment Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assume" class="md-nav__link">
    <span class="md-ellipsis">
      
        Assume
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end" class="md-nav__link">
    <span class="md-ellipsis">
      
        END
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Models
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="ÂØºËà™Ê†è" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../../.." class="md-path__link">
        
  <span class="md-ellipsis">
    È¶ñÈ°µ
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    üìö Â≠¶‰π†Á¨îËÆ∞
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      
  
  
    
    
      <li class="md-path__item">
        <a href="../../DB/" class="md-path__link">
          
  <span class="md-ellipsis">
    üéì ËØæÁ®ãÁ¨îËÆ∞
  </span>

        </a>
      </li>
    
  

    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    Ê±áÁºñ‰∏éÊé•Âè£
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="data-movement-instructions">Data Movement Instructions<a class="headerlink" href="#data-movement-instructions" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> Á∫¶ 12263 ‰∏™Â≠ó <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span> 245 Ë°å‰ª£Á†Å <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 50 Âº†ÂõæÁâá <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> È¢ÑËÆ°ÈòÖËØªÊó∂Èó¥ 45 ÂàÜÈíü</p>
</div>
<h2 id="mode-and-opcode">Mode and Opcode<a class="headerlink" href="#mode-and-opcode" title="Permanent link">&para;</a></h2>
<h3 id="machine-language">Machine Language<a class="headerlink" href="#machine-language" title="Permanent link">&para;</a></h3>
<ul>
<li>ÂæÆÂ§ÑÁêÜÂô®‰ΩøÁî®Êú¨Âú∞‰∫åËøõÂà∂‰ª£Á†Å‰Ωú‰∏∫Êåá‰ª§Êù•ÊéßÂà∂Ëøê‰Ωú„ÄÇ</li>
<li>Êåá‰ª§ÈïøÂ∫¶‰ªé 1 Â≠óËäÇÂà∞ 15 Â≠óËäÇ‰∏çÁ≠â„ÄÇ</li>
<li>Êú∫Âô®ËØ≠Ë®ÄÊåá‰ª§ÊúâË∂ÖËøá 10 ‰∏áÁßçÂèò‰Ωì„ÄÇ</li>
<li>Ê≤°Êúâ‰∏Ä‰ªΩÂÆåÊï¥ÁöÑÂèò‰ΩìÂàóË°®„ÄÇ</li>
<li>Êú∫Âô®ËØ≠Ë®ÄÊåá‰ª§ÁöÑ‰∏Ä‰∫õ‰ΩçÊòØÂõ∫ÂÆöÁöÑÔºåÂâ©‰∏ãÁöÑ‰ΩçÂàôÊ†πÊçÆÊåá‰ª§ÁöÑÂÖ∑‰ΩìÂèò‰ΩìËÄåÂÆö„ÄÇ</li>
</ul>
<h3 id="operation-mode">Operation Mode<a class="headerlink" href="#operation-mode" title="Permanent link">&para;</a></h3>
<ul>
<li>Êìç‰ΩúÊúâ‰∏âÁßçÊ®°ÂºèÔºåÂÖ∂ÈªòËÆ§Âú∞ÂùÄÂíåÊìç‰ΩúÊï∞ÈïøÂ∫¶Â¶Ç‰∏ãÔºö<ul>
<li>16 ‰ΩçÊ®°ÂºèÔºàÂÆûÊ®°Âºè„ÄÅvm86„ÄÅ‰øùÊä§Ê®°ÂºèÔºâÔºöÈªòËÆ§Âú∞ÂùÄÂíåÊìç‰ΩúÊï∞ÈïøÂ∫¶‰∏∫ 16 ‰Ωç</li>
<li>32 ‰Ωç‰øùÊä§Ê®°ÂºèÔºà‰øùÊä§Ê®°ÂºèÔºâÔºöÈªòËÆ§Âú∞ÂùÄÂíåÊìç‰ΩúÊï∞ÈïøÂ∫¶‰∏∫ 32 ‰Ωç</li>
<li>64 ‰ΩçÊ®°ÂºèÔºöÈªòËÆ§Âú∞ÂùÄÈïøÂ∫¶‰∏∫ 64 ‰ΩçÔºåÈªòËÆ§Êìç‰ΩúÊï∞ÈïøÂ∫¶‰∏∫ 32 ‰Ωç</li>
</ul>
</li>
</ul>
<h3 id="processor-directives">Processor Directives<a class="headerlink" href="#processor-directives" title="Permanent link">&para;</a></h3>
<p>Âú® MASM ‰∏≠ÔºåÂ§ÑÁêÜÂô®Êåá‰ª§ÔºàProcessor directiveÔºâÊòØ‰∏ÄÁßç‰º™Êåá‰ª§ÔºåÁî®‰∫éÂëäËØâÊ±áÁºñÂô®Âú®Ê±áÁºñËøáÁ®ã‰∏≠Â∫îÂêØÁî®Âì™‰∫õÊåá‰ª§ÈõÜ„ÄÅÂ§ÑÁêÜÂô®Á±ªÂûã‰ª•ÂèäÁõ∏Â∫îÁöÑÁâπÊÄß„ÄÇÂÆÉÂÜ≥ÂÆö‰∫Ü‰ª•‰∏ãÂÜÖÂÆπÔºö</p>
<ul>
<li>Âì™‰∫õ CPU Êåá‰ª§ÊòØÊúâÊïàÁöÑ</li>
<li>ÈªòËÆ§ÁöÑÊìç‰ΩúÊï∞ÂíåÂú∞ÂùÄÈïøÂ∫¶Ôºà16 ‰Ωç Êàñ 32 ‰ΩçÔºâ</li>
<li>ÂèØÁî®ÁöÑÂØÑÂ≠òÂô®ÂíåÂØªÂùÄÊñπÂºè</li>
<li>ÂÖÅËÆ∏ÁöÑËØ≠Ê≥ï</li>
</ul>
<p>MASM ‰∏≠ÁöÑÂ§ÑÁêÜÂô®Êåá‰ª§ÂåÖÊã¨Ôºö</p>
<ul>
<li>16 ‰ΩçÔºö.8086Ôºå.186Ôºå.286</li>
<li>32 ‰ΩçÔºö.386Ôºå.486Ôºå.586Ôºå.686</li>
<li>ÊµÆÁÇπÔºö.8087Ôºå.287Ôºå.387</li>
<li>ÁâπÊÆäÁî®ÈÄîÔºö.MMXÔºå.XMM</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><div class="language-asm highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">.286</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nf">.MODEL</span><span class="w"> </span><span class="nv">small</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nf">.CODE</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="w"> </span><span class="err">@</span><span class="nv">data</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">DS</span><span class="p">,</span><span class="w"> </span><span class="nb">AX</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">AH</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nf">int</span><span class="w"> </span><span class="mh">21H</span>
</span></code></pre></div>
.286 ÂëäËØâÊ±áÁºñÂô®‰ΩøÁî® 16 ‰ΩçÊ®°Âºè„ÄÇ
.MODEL small ÂëäËØâÊ±áÁºñÂô®‰ΩøÁî® small Ê®°Âûã„ÄÇ<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>
.CODE ÂëäËØâÊ±áÁºñÂô®ÂºÄÂßã‰ª£Á†ÅÊÆµ„ÄÇ
mov AX, <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/data" title="GitHub User: data">@data</a> Â∞Ü <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/data" title="GitHub User: data">@data</a> ÊÆµÂú∞ÂùÄÂä†ËΩΩÂà∞ AX ÂØÑÂ≠òÂô®„ÄÇ
mov DS, AX Â∞Ü DS ÂØÑÂ≠òÂô®ËÆæÁΩÆ‰∏∫ AX ÂØÑÂ≠òÂô®ÁöÑÂÄº„ÄÇ
mov AH, 9 Â∞Ü AH ÂØÑÂ≠òÂô®ËÆæÁΩÆ‰∏∫ 9„ÄÇ
int 21H Ë∞ÉÁî® DOS ‰∏≠Êñ≠ 21H„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nf">.386</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nf">.MODEL</span><span class="w"> </span><span class="nv">flat</span><span class="p">,</span><span class="w"> </span><span class="nv">stdcall</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nf">.CODE</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nb">EBX</span><span class="p">]</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nf">add</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="nb">ECX</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="nf">ret</span>
</span></code></pre></div>
<p>.386 ÂëäËØâÊ±áÁºñÂô®‰ΩøÁî® 32 ‰ΩçÊ®°Âºè„ÄÇ
.MODEL flat, stdcall ÂëäËØâÊ±áÁºñÂô®‰ΩøÁî® flat Ê®°ÂûãÂíå stdcall Ë∞ÉÁî®Á∫¶ÂÆö<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>„ÄÇ
.CODE ÂëäËØâÊ±áÁºñÂô®ÂºÄÂßã‰ª£Á†ÅÊÆµ„ÄÇ
mov EAX, [EBX] Â∞Ü EBX ÂØÑÂ≠òÂô®‰∏≠ÁöÑÂÄºÂä†ËΩΩÂà∞ EAX ÂØÑÂ≠òÂô®„ÄÇ
add EAX, ECX Â∞Ü ECX ÂØÑÂ≠òÂô®‰∏≠ÁöÑÂÄºÂä†ËΩΩÂà∞ EAX ÂØÑÂ≠òÂô®„ÄÇ
ret ËøîÂõû„ÄÇ</p>
</div>
<p>Processor directiveÁöÑ‰ΩúÁî®Ôºö</p>
<ul>
<li>Ê£ÄÊü•Êåá‰ª§ÁöÑÂêàÊ≥ïÊÄßÔºå‰æãÂ¶ÇÔºåÂú® .286 Ê®°Âºè‰∏ãÔºå
  <div class="language-asm highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="w"> </span><span class="nb">BX</span><span class="w">       </span><span class="o">//</span><span class="w"> </span><span class="err">ÂêàÊ≥ï</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="nb">EBX</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="err">ÈùûÊ≥ïÔºà</span><span class="nv">.286</span><span class="w"> </span><span class="err">‰∏çÊîØÊåÅ</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="err">‰ΩçÂØÑÂ≠òÂô®Ôºâ</span>
</span></code></pre></div></li>
<li>Ê†πÊçÆÈªòËÆ§Êìç‰ΩúÊï∞/Âú∞ÂùÄÂ§ßÂ∞èÔºåÁîüÊàêÊ≠£Á°ÆÁöÑÊåá‰ª§ÁºñÁ†ÅÔºå‰æãÂ¶ÇÔºö</li>
</ul>
<div align="center">
<img src="../img/chap4/proc_dir.png" alt="fig4-1" width="500">
</div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p><div align="center">
<img src="../img/chap4/inst_format.png" width="500">
</div></p>
<p>Êìç‰ΩúÊï∞Â§ßÂ∞èÂâçÁºÄ <code>66H</code> Áî®‰∫éÂàáÊç¢Êåá‰ª§ÁöÑÊìç‰ΩúÊï∞‰ΩçÂÆΩÔºàÊØîÂ¶ÇÂú® 32 ‰ΩçÊ®°Âºè‰∏ã‰ΩøÁî® 16 ‰ΩçÊìç‰ΩúÊï∞ÔºåÊàñÂèç‰πãÔºâ„ÄÇ<br />
Âú∞ÂùÄÂ§ßÂ∞èÂâçÁºÄ <code>67H</code> Áî®‰∫éÂàáÊç¢ÂÜÖÂ≠òÊìç‰ΩúÊï∞ÁöÑÈªòËÆ§ÂØªÂùÄ‰ΩçÂÆΩÔºàÊØîÂ¶ÇÂú® 32 ‰ΩçÊ®°Âºè‰∏ã‰ΩøÁî® 16 ‰ΩçÂú∞ÂùÄÂØªÂùÄÔºâ„ÄÇ</p>
</div>
<div align="center">
<img src="../img/chap4/code_seg.png" width="500">
<center>Code Segment Descriptor</center>
</div>

<p>Âú®‰ª£Á†ÅÊÆµÊèèËø∞Á¨¶‰∏≠ÔºåD/B-bit Âíå L-bit ÊåáÁ§∫Êìç‰ΩúÊ®°ÂºèÔºö</p>
<ul>
<li>L=0 and D/B =0 Ë°®Á§∫ 16-‰ΩçÊåá‰ª§Ê®°Âºè</li>
<li>L=0 and D/B =1 Ë°®Á§∫ 32-‰ΩçÊåá‰ª§Ê®°Âºè</li>
<li>L=1 Ë°®Á§∫ 64-‰ΩçÊåá‰ª§Ê®°Âºè</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Instruction Store in Memory</p>
<p>Êåá‰ª§Âú®ÂÜÖÂ≠ò‰∏≠‰ª•Â∞èÁ´ØÂ∫èÔºàlittle-endianÔºâÊ†ºÂºèÂ≠òÂÇ®„ÄÇÊåá‰ª§ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇ‰Ωç‰∫éÊúÄ‰ΩéÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</p>
<ul>
<li>Áî±‰∫éÊåá‰ª§Êú¨Ë¥®‰∏äÊòØÂ≠óËäÇ‰∏≤ÔºåÂõ†Ê≠§ÂÆÉ‰ª¨ÂèØ‰ª•‰ªé‰ªªÊÑèÂÜÖÂ≠òÂú∞ÂùÄÂºÄÂßãÂ≠òÊîæ„ÄÇ</li>
<li>Êåá‰ª§ÁöÑÊÄªÈïøÂ∫¶ÂøÖÈ°ªÂ∞è‰∫éÊàñÁ≠â‰∫é15Â≠óËäÇ„ÄÇÂ¶ÇÊûúË∂ÖËøáËØ•ÈôêÂà∂ÔºåÂ∞Ü‰ºöËß¶ÂèëÈÄöÁî®‰øùÊä§ÂºÇÂ∏∏Ôºàgeneral-protection exceptionÔºâ„ÄÇ</li>
</ul>
<p><div align="center">
<img src="../img/chap4/inst_store.png" width="500">
</div></p>
</div>
<h3 id="opcode-byte-1">Opcode Byte 1<a class="headerlink" href="#opcode-byte-1" title="Permanent link">&para;</a></h3>
<p>Opcode Â≠óËäÇÂÜ≥ÂÆö‰∫ÜÂæÆÂ§ÑÁêÜÂô®Ë¶ÅÊâßË°åÁöÑÊìç‰ΩúÔºàÂ¶ÇÂä†Ê≥ï„ÄÅÂáèÊ≥ïÁ≠âÔºâ„ÄÇÂØπ‰∫éÂ§ßÂ§öÊï∞Êåá‰ª§Êù•ËØ¥ÔºåOpcode Â≠óËäÇÈïøÂ∫¶‰∏∫1Êàñ2Â≠óËäÇ„ÄÇ‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÂæàÂ§öÊåá‰ª§ÁöÑÁ¨¨‰∏Ä‰∏™Êìç‰ΩúÁ†ÅÂ≠óËäÇÁöÑ‰∏ÄËà¨ÁªìÊûÑÔºö</p>
<div align="center">
<img src="../img/chap4/opcode1.png" width="500">
</div>

<ul>
<li>Á¨¨‰∏ÄÂ≠óËäÇÁöÑÂâç6‰Ωç‰∏∫‰∫åËøõÂà∂Êìç‰ΩúÁ†ÅÔºàopcodeÔºâÔºå</li>
<li>Ââ©‰Ωô2‰ΩçÂàÜÂà´Áî®‰∫éË°®Á§∫ÊñπÂêë‰ΩçÔºàDÔºâÂíåÊï∞ÊçÆÂ§ßÂ∞è‰ΩçÔºàWÔºâÔºö<ul>
<li>ÊñπÂêë‰ΩçDÔºåÁî®‰∫éÁ°ÆÂÆöÊï∞ÊçÆÊµÅÁöÑÊñπÂêëÔºõ</li>
<li>Êï∞ÊçÆÂ§ßÂ∞è‰ΩçWÔºåÁî®‰∫éÊåáÁ§∫Êï∞ÊçÆÈïøÂ∫¶ÔºàÂ≠óËäÇÊàñÂ≠ó/ÂèåÂ≠óÔºâ„ÄÇ</li>
</ul>
</li>
</ul>
<div align="center">
<img src="../img/chap4/opcode2.png" width="500">
</div>

<ul>
<li>Ëã•D=1, Êï∞ÊçÆÊµÅÂêëÂØÑÂ≠òÂô®ÔºàREG Â≠óÊÆµÔºâÊù•Ëá™R/MÂ≠óÊÆµÔºõ</li>
<li>Ëã•D=0, Êï∞ÊçÆÊµÅÂêëR/MÂ≠óÊÆµÊù•Ëá™ÂØÑÂ≠òÂô®ÔºàREG Â≠óÊÆµÔºâ„ÄÇ  <ul>
<li>MOV R/M, REGÔºàD=0ÔºâË°®Á§∫‰ªéÂØÑÂ≠òÂô®ÂêëR/MÂ≠òÂÇ®ÂçïÂÖÉÁßªÂä®Êï∞ÊçÆ„ÄÇ</li>
<li>MOV REG, R/MÔºàD=1ÔºâË°®Á§∫‰ªéR/MÂ≠òÂÇ®ÂçïÂÖÉÂêëÂØÑÂ≠òÂô®ÁßªÂä®Êï∞ÊçÆ.</li>
<li>ËøôÊ†∑Ë°®Á§∫‰∏§Êù°Êåá‰ª§Âè™ÈúÄË¶Å‰øÆÊîπD‰ΩçÂç≥ÂèØ</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ËÆ∞ÂøÜÊñπÂºè‰πüÂæàÁÆÄÂçïÔºåD=1Ôºå‰ª£Ë°®inÔºå‰ªéR/MÂ≠óÊÆµÂà∞REGÂ≠óÊÆµÔºõD=0Ôºå‰ª£Ë°®outÔºå‰ªéREGÂ≠óÊÆµÂà∞R/MÂ≠óÊÆµ„ÄÇ</p>
</div>
<ul>
<li>Ëã•W=1ÔºåÊï∞ÊçÆÂ§ßÂ∞è‰∏∫Â≠óÔºà16‰ΩçÔºâÊàñÂèåÂ≠óÔºà32‰ΩçÔºâ„ÄÇ</li>
<li>Ëã•W=0ÔºåÊï∞ÊçÆÂ§ßÂ∞è‰∏∫Â≠óËäÇÔºà8‰ΩçÔºâ„ÄÇ</li>
<li>Âú®Â§ßÂ§öÊï∞Êåá‰ª§‰∏≠ÈÉΩÂ≠òÂú®W‰ΩçÔºåD‰ΩçÂàô‰∏ªË¶ÅÂá∫Áé∞Âú®MOVÂèäÂ∞ëÊï∞ÂÖ∂‰ªñÊåá‰ª§‰∏≠„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/opcode3.png" width="500">
</div>

<blockquote>
<p>WÁî®‰∫éÂú®Â≠óËäÇÂíåÈªòËÆ§Êï∞ÊçÆ‰πãÈó¥ÂàáÊç¢Ôºå66HÂíå67HÁî®‰∫éÂú®ÈªòËÆ§Êï∞ÊçÆÂíåÈùûÈªòËÆ§Êï∞ÊçÆ‰πãÈó¥ÂàáÊç¢„ÄÇ</p>
</blockquote>
<div class="admonition question">
<p class="admonition-title">Why Direction Bit?</p>
<p>Êó¢ÁÑ∂Ê±áÁºñËØ≠Ê≥ïÔºàÂ¶Ç MOV AX, BXÔºâÂ∑≤ÁªèÂå∫ÂàÜ‰∫ÜÊ∫êÊìç‰ΩúÊï∞ÂíåÁõÆÊ†áÊìç‰ΩúÊï∞ÔºåÂπ∂‰∏îÊòéÁ°Æ‰∫ÜÊï∞ÊçÆÊµÅÁöÑÊñπÂêëÔºå‰∏∫‰ªÄ‰πà MOD-REG-R/M Â≠óËäÇ‰∏çÁõ¥Êé•ÊääÁõÆÊ†áÊìç‰ΩúÊï∞ÁºñÁ†ÅÂà∞ ‚ÄúREG‚Äù Â≠óÊÆµÔºåÊääÊ∫êÊìç‰ΩúÊï∞ÁºñÁ†ÅÂà∞ ‚ÄúR/M‚Äù Â≠óÊÆµÂë¢Ôºü</p>
<ul>
<li>
<p>Âú® MOD-REG-R/M Â≠óËäÇ‰∏≠ÔºåÂ¶ÇÊûúÂ∞ÜÁõÆÊ†áÂíåÊ∫êÊìç‰ΩúÊï∞ÁöÑ‰ΩçÁΩÆÂõ∫ÂÆö‰∏ãÊù•ËøõË°åÁºñÁ†ÅÔºåÈÇ£‰πàÂú®‰∏§ËÄÖÈÉΩ‰ΩøÁî®ÂØÑÂ≠òÂô®ÂØªÂùÄÊó∂ÔºåËøôÁßçÂÅöÊ≥ïÂæàÊúâÊïà„ÄÇ‰ΩÜ‰∏ÄÊó¶Ê∂âÂèäÂà∞ÂÜÖÂ≠òÂØªÂùÄÔºåÊÉÖÂÜµÂ∞±ÂèòÂæóÂ§çÊùÇ„ÄÇÂú® ModR/M Â≠óËäÇÁöÑËÆæËÆ°‰∏≠ÔºåÂè™Êúâ R/M Â≠óÊÆµÔºàÈÖçÂêà Mod ‰ΩçÔºâÊâçÊúâËÉΩÂäõÊèèËø∞Â§çÊùÇÁöÑÂÜÖÂ≠òÂØªÂùÄÊñπÂºèÔºàÊØîÂ¶Ç [BX+SI+DISP] ËøôÁßçÔºâ„ÄÇREG Â≠óÊÆµ Âè™ËÉΩË°®Á§∫Á∫ØÂØÑÂ≠òÂô®„ÄÇËÄåÂÜÖÂ≠òÊó¢ÂèØ‰ª•‰Ωú‰∏∫ÁõÆÊ†áÔºå‰πüÂèØ‰ª•‰Ωú‰∏∫Ê∫êÔºåÂõ†Ê≠§ÈúÄË¶Å‰∏Ä‰∏™ÊñπÂêë‰ΩçÊù•Âå∫ÂàÜ„ÄÇ</p>
</li>
<li>
<p>Âü∫‰∫é‰∏ÄÊù°Êåá‰ª§ÊúÄÂ§öÂè™‰ºöÊúâ‰∏Ä‰∏™Êìç‰ΩúÊï∞‰ΩøÁî®ÂÜÖÂ≠òÂØªÂùÄËøô‰∏™‰∫ãÂÆûÔºåIntel ËÆæËÆ°‰∫ÜÊñπÂêë‰ΩçÔºàD ‰ΩçÔºâÔºåÁî®Êù•ÊåáÁ§∫Êï∞ÊçÆÊòØÊµÅÂÖ• R/MÔºà‰Ωú‰∏∫ÁõÆÁöÑÂú∞ÔºâÔºåËøòÊòØÊµÅÂá∫ R/MÔºà‰Ωú‰∏∫Ê∫êÔºâ„ÄÇËøôÁßçËÆæËÆ°ÊñπÊ°àÊõ¥È´òÊïà‰πüÊõ¥‰ºòÈõÖ„ÄÇ</p>
</li>
<li>
<p>Âú® RISC Êû∂ÊûÑÔºàÂ¶Ç RISC-V„ÄÅARMÔºâ‰∏≠ÔºåÁî±‰∫éÂÖ∂Âπ∂‰∏çÊîØÊåÅÂ§öÁßçÂ§çÊùÇÁöÑÂØªÂùÄÊñπÂºèÔºåÊåá‰ª§Ê†ºÂºè‰∏≠ÁöÑÊ∫êÂíåÁõÆÁöÑÊìç‰ΩúÊï∞‰ΩçÁΩÆÈÉΩÊòØÂõ∫ÂÆöÁöÑ„ÄÇÂõ†Ê≠§ÔºåÊï∞ÊçÆÊµÅÊñπÂêëÂÖ∂ÂÆûÂ∑≤ÁªèÁî±Êìç‰ΩúÊï∞Â≠óÊÆµÂú®Êåá‰ª§‰∏≠ÁöÑ‰ΩçÁΩÆËá™ÁÑ∂Á°ÆÂÆö‰∫ÜÔºåÊó†ÈúÄÂÜçÂçïÁã¨Âä†ÊñπÂêë‰Ωç„ÄÇ</p>
</li>
</ul>
</div>
<h3 id="mod-reg-rm-field-byte-2">MOD-REG-R/M Field-Byte 2<a class="headerlink" href="#mod-reg-rm-field-byte-2" title="Permanent link">&para;</a></h3>
<div align="center">
<img src="../img/chap4/mod_field.png" width="500">
</div>

<h4 id="mod-field">MOD Field<a class="headerlink" href="#mod-field" title="Permanent link">&para;</a></h4>
<p>MOD Â≠óÊÆµÁî®‰∫éÊåáÂÆöÊâÄÈÄâÊåá‰ª§ÁöÑÂØªÂùÄÊñπÂºèÔºàMODÔºåÂØªÂùÄÊ®°ÂºèÔºâ„ÄÇ</p>
<ul>
<li>
<p>MOD Â≠óÊÆµÂÜ≥ÂÆö‰∫Ü‰ΩøÁî®Âì™ÁßçÁ±ªÂûãÁöÑÂØªÂùÄÊñπÂºèÔºå‰ª•ÂèäÂú®ËØ•Á±ªÂûã‰∏ãÊòØÂê¶ÂåÖÂê´‰ΩçÁßªÈáèÔºàdisplacementÔºâ„ÄÇ</p>
</li>
<li>
<p>MOD Â≠óÊÆµÂÖ∑‰ΩìÂÆö‰πâ‰∫ÜÂØªÂùÄÊñπÂºèÔºàMODÔºâÔºåÂπ∂ÊåáÂÆöÊâÄÈÄâÁ±ªÂûã‰∏ãÊòØÂê¶ÂåÖÂê´‰ΩçÁßª„ÄÇ</p>
<ul>
<li>Â¶ÇÊûú MOD Â≠óÊÆµ‰∏∫ 11Ôºà‰∫åËøõÂà∂ÔºâÔºåÂàôÈÄâÊã©ÂØÑÂ≠òÂô®ÂØªÂùÄÊ®°ÂºèÔºàregister addressing modeÔºâ.ÂØÑÂ≠òÂô®ÂØªÂùÄÊòØÊåá‰ΩøÁî® R/M Â≠óÊÆµÊåáÂÆöÁöÑÂØÑÂ≠òÂô®‰Ωú‰∏∫Êìç‰ΩúÊï∞ÔºåËÄå‰∏çÊòØÂÜÖÂ≠ò‰ΩçÁΩÆ„ÄÇ</li>
<li>Â¶ÇÊûú MOD Â≠óÊÆµ‰∏∫ 00„ÄÅ01 Êàñ 10ÔºåÂàô R/M Â≠óÊÆµÈÄâÊã©Â§öÁßçÊï∞ÊçÆÂÜÖÂ≠òÂØªÂùÄÊñπÂºè„ÄÇ</li>
</ul>
</li>
</ul>
<h4 id="regopcode-field">REG/Opcode Field<a class="headerlink" href="#regopcode-field" title="Permanent link">&para;</a></h4>
<p>REG/Opcode Â≠óÊÆµÊó¢ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂØÑÂ≠òÂô®ÁºñÂè∑Ôºå‰πüÂèØ‰ª•‰Ωú‰∏∫È¢ùÂ§ñÁöÑ 3 ‰ΩçÊìç‰ΩúÁ†ÅÔºàopcodeÔºâ‰ø°ÊÅØ„ÄÇ</p>
<div align="center">
<img src="../img/chap4/reg_opcode.png" width="500">
</div>

<h4 id="rm-field">R/M Field<a class="headerlink" href="#rm-field" title="Permanent link">&para;</a></h4>
<p>R/M Â≠óÊÆµÊó¢ÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂØÑÂ≠òÂô®‰Ωú‰∏∫Êìç‰ΩúÊï∞Ôºå‰πüÂèØ‰ª•ÁªìÂêà MOD Â≠óÊÆµÂÖ±ÂêåÁºñÁ†Å‰∏ÄÁßçÂØªÂùÄÊ®°Âºè„ÄÇ
- ÂΩì MOD Â≠óÊÆµ‰∏∫ 00„ÄÅ01 Êàñ 10 Êó∂ÔºåR/M Â≠óÊÆµÂ∞ÜÊúâÊñ∞ÁöÑÂê´‰πâÔºåÁî®Êù•Ë°®Á§∫Â§öÁßç‰∏çÂêåÁöÑÂØªÂùÄÊñπÂºè„ÄÇ</p>
<div align="center">
<img src="../img/chap4/r_m_field.png" width="500">
</div>

<p>ËØ•ÂõæÂ±ïÁ§∫‰∫ÜÊåá‰ª§ MOV DL,[DI]ÔºàÊú∫Âô®Á†Å‰∏∫ 8A15HÔºâÁöÑÁºñÁ†ÅÊñπÂºèÔºö</p>
<p>ËØ•Êåá‰ª§ÂÖ± 2 Â≠óËäÇÔºåÂåÖÂê´ op-code 100010ÔºåD=1ÔºàÊï∞ÊçÆ‰ªé R/M ÊµÅÂêë REG/OpcodeÔºâÔºåW=0ÔºàÂ≠óËäÇÊìç‰ΩúÔºâÔºåMOD=00ÔºàÊó†displacementÔºâÔºåREG/Opcode=010ÔºàDLÔºâÔºåR/M=101Ôºà[DI]Ôºâ„ÄÇ</p>
<p>Â¶ÇÊûúÊåá‰ª§Âèò‰∏∫ 8A5501HÔºåÊåá‰ª§ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇ‰øùÊåÅ‰∏çÂèòÔºåMOD Â≠óÊÆµÂèò‰∏∫ 01ÔºàË°®Á§∫Êúâ 8 ‰Ωç‰ΩçÁßªÔºâÔºåÊï¥Êù°Êåá‰ª§Âèò‰∏∫ MOV DL, [DI+1]</p>
<div align="center">
<img src="../img/chap4/r_m_field_2.png" width="500">
</div>

<p>ÊúÄÂêéÂú®Êú´Â∞æÂ§ö‰∫Ü‰∏Ä‰∏™displacementÂ≠óÊÆµÔºåÁî®‰∫éÂ≠òÂÇ®‰ΩçÁßªÈáè„ÄÇ</p>
<h4 id="32-bit-addressing-modes">32-Bit Addressing Modes<a class="headerlink" href="#32-bit-addressing-modes" title="Permanent link">&para;</a></h4>
<p>ÂΩì R/M=100 Êó∂ÔºåÊåá‰ª§‰∏≠‰ºöÈ¢ùÂ§ñÂá∫Áé∞‰∏Ä‰∏™Áß∞‰∏∫scaled-index byteÁöÑÂ≠óËäÇÔºåÁî®‰∫éÊåáÁ§∫Êõ¥Â§öÁßçÁ±ªÁöÑÁº©ÊîæÁ¥¢ÂºïÂØªÂùÄÊñπÂºè„ÄÇ</p>
<div align="center">
<img src="../img/chap4/scaled_index.png" width="500">
</div>

<p>‰ªÖÂú® 80386 Âà∞ Core2 ÂæÆÂ§ÑÁêÜÂô®‰∏≠ÔºåMOV Êåá‰ª§ÁöÑÂèò‰ΩìÂ∞±Ë∂ÖËøá‰∫Ü 32,000 Áßç„ÄÇ
‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÂΩì 80386 Âèä‰ª•‰∏äÂ§ÑÁêÜÂô®Âú®‰ΩøÁî® 32 ‰ΩçÂú∞ÂùÄÊó∂ÔºåR/M Â≠óÊÆµÂèñÂÄº‰∏∫ 100 Êó∂ÊâÄÈÄâÊã©ÁöÑ scaled-index Â≠óËäÇÁöÑÊ†ºÂºè„ÄÇ</p>
<div align="center">
<img src="../img/chap4/32mc.png" width="500">
</div>

<div align="center">
<img src="../img/chap4/scale.png" width="500">
</div>

<p>ÊúÄÂ∑¶‰æßÁöÑ 2 ‰ΩçÁî®‰∫éÈÄâÊã©Áº©ÊîæÂõ†Â≠êÔºà‰πòÊï∞ÔºâÔºåÂÖ∂ÂèñÂÄºÂèØ‰ª•‰∏∫ 1x„ÄÅ2x„ÄÅ4x Êàñ 8x„ÄÇ
Áº©ÊîæÁ¥¢ÂºïÂØªÂùÄÂêåÊ†∑ÂÖÅËÆ∏ÂØπÂçï‰∏ÄÂØÑÂ≠òÂô®Â∫îÁî®Áº©ÊîæÂõ†Â≠êËøõË°å‰πòÊ≥ïËøêÁÆó„ÄÇ</p>
<p>‰æãÂ¶Ç</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w"> </span><span class="nf">MOV</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nb">EBX</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="nb">ECX</span><span class="p">]</span><span class="w"> </span>
</span></code></pre></div>
<p>ÁºñÁ†Å‰∏∫ 8B048BH</p>
<ul>
<li>First byte (8BH):100010 11 ‚Üí D = 1</li>
<li>Second byte (04H): 00 000 100 ‚Üí Mod=00ÔºåÊ≤°ÊúâdispÔºåREG=000 ‰ª£Ë°®EAXÔºåR/M=100 scaled-index ÂØªÂùÄ.</li>
<li>Third byte (8BH): 10 001 011 ‚Üí SS=10ÔºåË°®Á§∫4ÂÄçÁº©Êîæ,Index=001 ‰ª£Ë°®ECXÔºåBase=101 ‰ª£Ë°®EBX</li>
</ul>
<h4 id="64-bit-mode">64 Bit Mode<a class="headerlink" href="#64-bit-mode" title="Permanent link">&para;</a></h4>
<p>Âú®64‰ΩçÊ®°Âºè‰∏ãÔºåÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Áß∞‰∏∫REXÔºàÂØÑÂ≠òÂô®Êâ©Â±ïÔºâÁöÑÂâçÁºÄÔºåÁî®‰∫éÊâ©Â±ïÊìç‰ΩúÊï∞Â§ßÂ∞è‰ª•ÂèäÊîØÊåÅR8-R15Á≠âÊñ∞ÂØÑÂ≠òÂô®ÁöÑ‰ΩøÁî®„ÄÇ</p>
<ul>
<li>REXÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊï∞ÂÄºÔºåËÄåÊòØ‰∏Ä‰∏™ËåÉÂõ¥Ôºà40h Âà∞ 4FhÔºâÔºå‰Ωç‰∫éÂÖ∂‰ªñÂâçÁºÄ‰πãÂêé„ÄÅÊìç‰ΩúÁ†Å‰πãÂâç„ÄÇ</li>
<li>REXÁöÑ‰ΩúÁî®ÊòØ‰øÆÊîπÊåá‰ª§Á¨¨‰∫åÂ≠óËäÇ‰∏≠ÁöÑregÂíår/mÂ≠óÊÆµ„ÄÇ</li>
<li>ÈÄöËøáREXÂâçÁºÄÂèØ‰ª•ËÆøÈóÆR8-R15Á≠âÊâ©Â±ïÂØÑÂ≠òÂô®„ÄÇ</li>
</ul>
<p>REX ÂâçÁºÄÂåÖÂê´‰∫î‰∏™Â≠óÊÆµ„ÄÇÈ´òÂçäÂ≠óËäÇÁî®‰∫éÂîØ‰∏ÄÊ†áËØÜ REX ÂâçÁºÄ„ÄÇ‰ΩéÂçäÂ≠óËäÇË¢´ÂàÜ‰∏∫Âõõ‰∏™‰ΩçÔºàW„ÄÅR„ÄÅX Âíå BÔºâÔºåÊØè‰∏™‰ΩçÂêÑÂç†‰∏Ä‰Ωç„ÄÇ</p>
<div align="center">
<img src="../img/chap4/REX.png" width="500">
</div>

<table>
<thead>
<tr>
<th style="text-align: center;">‰Ωç (Bit)</th>
<th style="text-align: left;">Â≠óÊÆµÂêçÁß∞</th>
<th style="text-align: left;">Âê´‰πâ (Meaning)</th>
<th style="text-align: left;">ÂÖ≥ËÅîÁªìÊûÑ (Extension Target)</th>
<th style="text-align: left;">ÂäüËÉΩÊèèËø∞ &amp; ÈÄö‰øóËß£Èáä</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: left;"><strong>REX.W</strong></td>
<td style="text-align: left;"><strong>W</strong> idth<br>(Êìç‰ΩúÊï∞ÂÆΩÂ∫¶)</td>
<td style="text-align: left;">Êìç‰ΩúÊï∞Â§ßÂ∞èÂ±ûÊÄß</td>
<td style="text-align: left;"><strong>0</strong>: ÈªòËÆ§Â§ßÂ∞èÔºàÈÄöÂ∏∏ 32 ‰ΩçÔºåÂ¶Ç <code>EAX</code>Ôºâ<br><strong>1</strong>: Âº∫Âà∂ <strong>64 ‰Ωç</strong> Â§ßÂ∞èÔºàÂ¶Ç <code>RAX</code>Ôºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: left;"><strong>REX.R</strong></td>
<td style="text-align: left;"><strong>R</strong> egister<br>(ÂØÑÂ≠òÂô®Êâ©Â±ï)</td>
<td style="text-align: left;"><strong>ModR/M</strong> Â≠óËäÇ‰∏≠ÁöÑ<br><code>reg</code> Â≠óÊÆµ</td>
<td style="text-align: left;"><strong>Reg Â≠óÊÆµÊâ©Â±ï‰Ωç (MSB)</strong><br>Â∞ÜÂéüÊúâÁöÑ 3 ‰Ωç <code>reg</code> Êâ©Â±ï‰∏∫ 4 ‰ΩçÔºåÂÖÅËÆ∏Âú®ÈÄöÁî®ÂØÑÂ≠òÂô®‰ΩçÁΩÆ‰ΩøÁî® <strong>R8-R15</strong>„ÄÇ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: left;"><strong>REX.X</strong></td>
<td style="text-align: left;">Inde <strong>X</strong> <br>(Á¥¢ÂºïÊâ©Â±ï)</td>
<td style="text-align: left;"><strong>SIB</strong> Â≠óËäÇ‰∏≠ÁöÑ<br><code>index</code> Â≠óÊÆµ</td>
<td style="text-align: left;"><strong>Index Â≠óÊÆµÊâ©Â±ï‰Ωç (MSB)</strong><br>Áî®‰∫éÂ§çÊùÇÂÜÖÂ≠òÂØªÂùÄÔºàÂ¶ÇÊï∞ÁªÑÁ¥¢ÂºïÔºâ„ÄÇÂÖÅËÆ∏‰ΩøÁî® <strong>R8-R15</strong> ‰Ωú‰∏∫Á¥¢ÂºïÂØÑÂ≠òÂô®„ÄÇ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: left;"><strong>REX.B</strong></td>
<td style="text-align: left;"><strong>B</strong> ase<br>(Âü∫ÂùÄÊâ©Â±ï)</td>
<td style="text-align: left;"><strong>ModR/M</strong> Â≠óËäÇ‰∏≠ÁöÑ <code>r/m</code><br>Êàñ <strong>SIB</strong> Â≠óËäÇ‰∏≠ÁöÑ <code>base</code></td>
<td style="text-align: left;"><strong>Base/RM Â≠óÊÆµÊâ©Â±ï‰Ωç (MSB)</strong><br>ÂÖÅËÆ∏‰ΩøÁî® <strong>R8-R15</strong> ‰Ωú‰∏∫Ôºö<br>1. ÂØªÂùÄÁöÑÂü∫Âú∞ÂùÄ (Base Address)<br>2. <code>r/m</code> ÊåáÂÆöÁöÑÊ∫ê/ÁõÆÁöÑÊìç‰ΩúÊï∞</td>
</tr>
</tbody>
</table>
<p>Êé•‰∏ãÊù•ÈÄöËøá‰∏§‰∏™Êåá‰ª§Êü•ÁúãREXÁöÑÊïàÊûú:</p>
<div align="center">
<img src="../img/chap4/REX_exp1.png" width="500">
</div>

<div class="language-asm highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">R10</span><span class="p">,</span><span class="w"> </span><span class="nb">R15</span>
</span></code></pre></div>
<p>ÁºñÁ†Å‰∏∫ 4D 89 FA H</p>
<ul>
<li>First byte (4DH): 0100 1101 ‚Üí 0100ÊòØREXÂõ∫ÂÆöÂâçÁºÄÔºåW=1ÔºåR=1ÔºåX=0ÔºåB=1ÔºåË°®Á§∫64‰ΩçÊ®°ÂºèÔºåRegÊâ©Â±ïÂíåBaseÊâ©Â±ïÂºÄÂêØ</li>
<li>Second byte (89H): 100010 01 ‚Üí D = 0 MOD-REG-R/MÂ≠óÊÆµ‰∏≠ÔºåREGÂ≠òÊîæR15ÔºåR/MÂ≠òÊîæR10</li>
<li>Third byte (FAH): 11 111 010 ‚Üí R15, R10ÔºåMODÂ≠óÊÆµ‰∏∫11Ôºå‰ª£Ë°®R/MÂ≠óÊÆµÊ≠§Êó∂Â≠òÊîæÂØÑÂ≠òÂô®ÔºåREGÂ≠óÊÆµ‰∏∫111ÔºåÂÜçÊãº‰∏äREX.R=1111Ôºå‰ª£Ë°®R15ÔºåR/MÊãº‰∏äREX.B=1111Ôºå‰ª£Ë°®R10</li>
</ul>
<div align="center">
<img src="../img/chap4/REX_exp2.png" width="500">
</div>

<div class="language-asm highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">R10</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nb">R15</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="nb">R11</span><span class="p">]</span>
</span></code></pre></div>
<p>ÁºñÁ†Å‰∏∫ 4F8B149F H</p>
<ul>
<li>
<p>First byte (4FH): 0100 1111 ‚Üí 0100ÊòØREXÂõ∫ÂÆöÂâçÁºÄÔºåW=1ÔºåR=1ÔºåX=1ÔºåB=1ÔºåË°®Á§∫64‰ΩçÊ®°ÂºèÔºåReg,Index,BaseÊâ©Â±ïÂÖ®ÈÉ®ÂºÄÂêØ</p>
</li>
<li>
<p>Second byte (8BH): 100010 11 ‚Üí D = 1Ôºå‰ª£Ë°®Êï∞ÊçÆ‰ªéR/MÊµÅÂêëREGÔºåÊâÄ‰ª•REGÂ≠óÊÆµÂ≠òÊîæR10ÔºåR/MÂ≠óÊÆµÂ≠òÊîæ[R15+4*R11]</p>
</li>
<li>
<p>Third byte (14H): 00 010 100 ‚Üí 00 ‰ª£Ë°®Êó†DisplacementÁöÑÂÜÖÂ≠òÂØªÂùÄÔºå010 Êãº‰∏äÊâ©Â±ïÁöÑREX.RÂèòÊàê1010Ôºå‰ª£Ë°®R10ÔºåR/M=100‰ª£Ë°®Scaled-indexÂØªÂùÄ</p>
</li>
<li>
<p>Fourth byte (9FH): 10 011 111 ‚Üí SS=10ÔºåË°®Á§∫4ÂÄçÁº©Êîæ,Index=011 Êãº‰∏äÊâ©Â±ïÁöÑREX.XÂèòÊàê1011Ôºå‰ª£Ë°®R11‰Ωú‰∏∫indexÔºåBase=111Êãº‰∏äÊâ©Â±ïÁöÑREX.BÂèòÊàê1111Ôºå‰ª£Ë°®R15‰Ωú‰∏∫base</p>
</li>
</ul>
<h2 id="prefixes">Prefixes<a class="headerlink" href="#prefixes" title="Permanent link">&para;</a></h2>
<p>Êåá‰ª§ÂâçÁºÄÂàÜ‰∏∫ÂõõÁªÑÔºåÂØπ‰∫éÊØèÊù°Êåá‰ª§ÔºåÊØè‰∏ÄÁªÑ‰∏≠ÊúÄÂ§öÂè™ËÉΩ‰ΩøÁî®‰∏Ä‰∏™ÂâçÁºÄ„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÁªÑÂà´ (Group)</th>
<th>Á±ªÂà´ÊèèËø∞</th>
<th>ÂçÅÂÖ≠ËøõÂà∂Á†Å (Hex)</th>
<th>Âä©ËÆ∞Á¨¶/ÊèèËø∞ (Mnemonic/Description)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Group 1</strong></td>
<td><strong>ÈîÅ‰∏éÈáçÂ§çÂâçÁºÄ</strong></td>
<td><code>0xF0</code></td>
<td>LOCK (ÊÄªÁ∫øÈîÅ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0xF2</code></td>
<td>REPNE / REPNZ (‰∏çÁõ∏Á≠â/ÈùûÈõ∂Êó∂ÈáçÂ§ç)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0xF3</code></td>
<td>REP or REPE / REPZ (ÈáçÂ§ç Êàñ Áõ∏Á≠â/‰∏∫Èõ∂Êó∂ÈáçÂ§ç)</td>
</tr>
<tr>
<td><strong>Group 2</strong></td>
<td><strong>ÊÆµË¶ÜÁõñÂâçÁºÄ</strong> (Segment override)</td>
<td><code>0x2E</code></td>
<td>CS segment override (‰ª£Á†ÅÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x36</code></td>
<td>SS segment override (Â†ÜÊ†àÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x3E</code></td>
<td>DS segment override (Êï∞ÊçÆÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x26</code></td>
<td>ES segment override (ÈôÑÂä†ÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x64</code></td>
<td>FS segment override (FSÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x65</code></td>
<td>GS segment override (GSÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>0x2E</code></td>
<td>CS segment override (‰ª£Á†ÅÊÆµË¶ÜÁõñ)</td>
</tr>
<tr>
<td><strong>Group 3</strong></td>
<td><strong>Êìç‰ΩúÊï∞Â§ßÂ∞èË¶ÜÁõñ</strong></td>
<td><code>0x66</code></td>
<td>Operand-size override prefix (Êìç‰ΩúÊï∞ÂÆΩÂ∫¶ÁøªËΩ¨ÔºåÂ¶Ç 16‰Ωç‚Üî32‰Ωç)</td>
</tr>
<tr>
<td><strong>Group 4</strong></td>
<td><strong>Âú∞ÂùÄÂ§ßÂ∞èË¶ÜÁõñ</strong></td>
<td><code>0x67</code></td>
<td>Address-size override prefix (Âú∞ÂùÄÂÆΩÂ∫¶ÁøªËΩ¨ÔºåÂ¶Ç 16‰Ωç‚Üî32‰Ωç)</td>
</tr>
</tbody>
</table>
<h3 id="lock-prefix-group1">Lock Prefix - Group1<a class="headerlink" href="#lock-prefix-group1" title="Permanent link">&para;</a></h3>
<p>LOCK ÂâçÁºÄÁî®‰∫é‰ΩøÊüê‰∫õÂØπÂÜÖÂ≠òÁöÑ‚ÄúËØª-Êîπ-ÂÜô‚ÄùÊåá‰ª§‰ª•ÂéüÂ≠êÊñπÂºèÊâßË°åÊìç‰Ωú„ÄÇ</p>
<ul>
<li>ËØ•ÂâçÁºÄÁöÑÁõÆÁöÑÊòØÂú®Â§öÂ§ÑÁêÜÂô®Á≥ªÁªü‰∏≠Ôºå‰ΩøÂ§ÑÁêÜÂô®ÂèØ‰ª•Áã¨Âç†ÂØπÂÖ±‰∫´ÂÜÖÂ≠òÁöÑ‰ΩøÁî®„ÄÇ</li>
<li>LOCK ÂâçÁºÄÂè™ËÉΩÁî®‰∫é‰ª•‰∏ãÂØπÂÜÖÂ≠òÊìç‰ΩúÊï∞ËøõË°åÂÜôÊìç‰ΩúÁöÑÊåá‰ª§ÔºöBTC„ÄÅBTR„ÄÅBTS„ÄÅADC„ÄÅADD„ÄÅAND„ÄÅDEC„ÄÅINC„ÄÅNEG„ÄÅNOT„ÄÅOR„ÄÅSBB„ÄÅSUB„ÄÅXOR„ÄÅCMPXCHG„ÄÅCMPXCHG8B„ÄÅCMPXCHG16B„ÄÅXADD Âíå XCHG„ÄÇ</li>
<li>Â¶ÇÊûú LOCK ÂâçÁºÄË¢´Áî®‰∫éÂÖ∂‰ªñÊåá‰ª§ÔºåÂàô‰ºö‰∫ßÁîüÊú™ÂÆö‰πâÊìç‰ΩúÁ†ÅÂºÇÂ∏∏Ôºà#UDÔºâ„ÄÇ</li>
</ul>
<h3 id="segment-override-prefix-group2">Segment Override Prefix - Group2<a class="headerlink" href="#segment-override-prefix-group2" title="Permanent link">&para;</a></h3>
<p>Â§ÑÁêÜÂô®‰ºöÊ†πÊçÆ‰ª•‰∏ãËßÑÂàôËá™Âä®ÈÄâÊã©ÈªòËÆ§ÊÆµÂØÑÂ≠òÂô®Ôºö</p>
<ul>
<li>Êåá‰ª§ÂèñÊåáÔºöCS</li>
<li>Â±ÄÈÉ®Êï∞ÊçÆÔºöDS</li>
<li>Â†ÜÊ†àÔºöSS</li>
<li>Â≠óÁ¨¶‰∏≤Êìç‰ΩúÁöÑÁõÆÁöÑÊìç‰ΩúÊï∞ÔºöES</li>
</ul>
<p>Á®ãÂ∫èÂëòÂèØ‰ª•ÈÄöËøáÊÆµÈáçÂÜôÂâçÁºÄÔºàsegment-override prefixÔºâÊù•Ë¶ÜÁõñÈªòËÆ§ÊÆµÂØÑÂ≠òÂô®ÔºåËØ•ÂâçÁºÄÊòØÂä†Âú®Êåá‰ª§ÂâçÁöÑ‰∏Ä‰∏™Â≠óËäÇ„ÄÇ</p>
<p>‰æãÂ¶ÇÔºåÂú®32‰ΩçÊ®°Âºè‰∏ãÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nb">EBX</span><span class="p">]</span><span class="w">         </span><span class="c1">; 8B 03ÔºåÈªòËÆ§ÊÆµ‰∏∫DS</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="nb">CS</span><span class="p">:[</span><span class="nb">EBX</span><span class="p">]</span><span class="w">      </span><span class="c1">; 2E 8B 03ÔºåÂÖ∂‰∏≠2EÂ∞±ÊòØCSÊÆµÈáçÂÜôÂâçÁºÄ</span>
</span></code></pre></div>
<h3 id="operand-size-override-prefix-group3">Operand-size Override Prefix - Group3<a class="headerlink" href="#operand-size-override-prefix-group3" title="Permanent link">&para;</a></h3>
<p>Âú®64‰ΩçÊ®°Âºè‰∏ãÔºåÊåá‰ª§ÈªòËÆ§Êìç‰ΩúÊï∞Â§ßÂ∞è‰∏∫32‰Ωç„ÄÇ
ÈÄöËøáÂâçÁºÄÂÖÅËÆ∏ÂêåÊó∂‰ΩøÁî®16‰Ωç„ÄÅ32‰ΩçÂíå64‰ΩçÊï∞ÊçÆÔºö</p>
<ul>
<li>REX (REX.W) ÂâçÁºÄÂèØÊåáÂÆöÊìç‰ΩúÊï∞‰∏∫64‰Ωç</li>
<li>66H ÂâçÁºÄÂèØÊåáÂÆöÊìç‰ΩúÊï∞‰∏∫16‰Ωç</li>
<li>Ëã•ÂêåÊó∂Â≠òÂú®ÔºåREXÂâçÁºÄ‰ºòÂÖàÁ∫ßÈ´ò‰∫é66HÂâçÁºÄ</li>
</ul>
<div align="center">
<img src="../img/chap4/operand_size.png" width="500">
</div>

<div class="admonition question">
<p class="admonition-title">How can  instructions share an opcode?</p>
<p><div align="center">
<img src="../img/chap4/opcode_share.png" width="500">
</div></p>
<p>ÈªòËÆ§ÁöÑÊìç‰ΩúÊï∞Â§ßÂ∞èÁî±ÂΩìÂâçÁöÑÊìç‰ΩúÊ®°ÂºèÂÜ≥ÂÆöÔºå‰ΩÜÊìç‰ΩúÊï∞Â§ßÂ∞èË¶ÜÁõñÂâçÁºÄÔºàREX Êàñ 66HÔºâÂèØ‰ª•ÊîπÂèòÈªòËÆ§ÁöÑÊìç‰ΩúÊï∞Â§ßÂ∞è„ÄÇ‰æãÂ¶ÇÔºåÂú®64‰ΩçÊ®°Âºè‰∏ãÔºàÈªòËÆ§Êìç‰ΩúÊï∞Â§ßÂ∞è‰∏∫32‰ΩçÔºâÔºö</p>
<p><div align="center">
<img src="../img/chap4/opcode_shared.png" width="500">
</div></p>
</div>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<ul>
<li>Êìç‰ΩúÁ†Å‰∏≠ÁöÑ W ‰ΩçÁî®‰∫éÂå∫ÂàÜ 8 ‰ΩçÊìç‰ΩúÊï∞Âíå‚ÄúÈùû 8 ‰Ωç‚ÄùÊìç‰ΩúÊï∞ÔºàÂç≥ÔºåÈªòËÆ§Êìç‰ΩúÊï∞Â§ßÂ∞èÔºâ„ÄÇ</li>
<li>Êìç‰ΩúÊï∞Â§ßÂ∞èÂâçÁºÄÔºà66HÔºâÂèØÂú® 16 ‰ΩçÂíå 32 ‰ΩçÊìç‰ΩúÊï∞Â§ßÂ∞è‰πãÈó¥ÂàáÊç¢„ÄÇ</li>
<li>Âú® 64 ‰ΩçÊ®°Âºè‰∏ãÔºåREX.W ‰ΩçÂèØÂú® 32 ‰ΩçÂíå 64 ‰ΩçÊìç‰ΩúÊï∞Â§ßÂ∞è‰πãÈó¥ÂàáÊç¢„ÄÇ    </li>
</ul>
<p>‰ª•‰∏ãÊµÅÁ®ãÂõæËØ¥Êòé‰∫ÜÂú®64‰ΩçÊ®°Âºè‰∏ãÔºåÂà§Êñ≠Êìç‰ΩúÊï∞Â§ßÂ∞èÁöÑËøáÁ®ãÔºö
<pre class="mermaid"><code>graph TD
Start("ÂºÄÂßã: Á°ÆÂÆöÊìç‰ΩúÊï∞Â§ßÂ∞è") --&gt; Step1{"1. Ê£ÄÊü• Opcode W-bit"}

%% Á¨¨‰∏ÄÂ±ÇÁ∫ß: Opcode W-bit
Step1 -- "W=0 (8-bit)" --&gt; Res8["ÁªìÊûú: 8-bit Êìç‰ΩúÊï∞"]
Step1 -- "W=1 (Full-size)" --&gt; Step2{"2. Ê£ÄÊü• REX.W ‰Ωç&lt;br/&gt;(‰ªÖÈôê 64‰ΩçÊ®°Âºè)"}

%% Á¨¨‰∫åÂ±ÇÁ∫ß: REX.W
Step2 -- "W=1" --&gt; Res64["ÁªìÊûú: 64-bit Êìç‰ΩúÊï∞"]
Step2 -- "W=0 (ÊàñÊó† REX)" --&gt; Step3{"3. Ê£ÄÊü• 0x66 ÂâçÁºÄ"}

%% Á¨¨‰∏âÂ±ÇÁ∫ß: 0x66 Prefix
Step3 -- "Â≠òÂú® (Yes)" --&gt; Res16["ÁªìÊûú: 16-bit Êìç‰ΩúÊï∞"]
Step3 -- "‰∏çÂ≠òÂú® (No)" --&gt; Res32["ÁªìÊûú: 32-bit Êìç‰ΩúÊï∞&lt;br/&gt;(ÈªòËÆ§Áº∫ÁúÅÂÄº)"]

%% Ê†∑ÂºèÂÆö‰πâ
style Start fill:#f9f,stroke:#333,stroke-width:2px
style Res8 fill:#ff9,stroke:#333
style Res64 fill:#f96,stroke:#333
style Res16 fill:#9cf,stroke:#333
style Res32 fill:#cfc,stroke:#333</code></pre></p>
</div>
<h3 id="address-size-override-prefix-group4">Address-size Override Prefix - Group4<a class="headerlink" href="#address-size-override-prefix-group4" title="Permanent link">&para;</a></h3>
<p>Âú® 64 ‰ΩçÊ®°Âºè‰∏ãÔºåÈªòËÆ§ÁöÑÂú∞ÂùÄÂ§ßÂ∞èÊòØ 64 ‰Ωç„ÄÇËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÂâçÁºÄÂ∞ÜÂú∞ÂùÄÂ§ßÂ∞èË¶ÜÁõñ‰∏∫ 32 ‰ΩçÔºå‰ΩÜ‰∏çÊîØÊåÅ 16 ‰ΩçÂú∞ÂùÄ„ÄÇ Âú∞ÂùÄÂ§ßÂ∞èË¶ÜÁõñÂâçÁºÄÔºà67HÔºâÁî®‰∫éÈÄâÊã©ÈùûÈªòËÆ§ÁöÑÂú∞ÂùÄÂ§ßÂ∞è„ÄÇ</p>
<div align="center">
<img src="../img/chap4/address_size.png" width="500">
</div>

<div class="admonition question">
<p class="admonition-title">How to change the address size?</p>
<p>ÂÜÖÂ≠òÊìç‰ΩúÊï∞ÁöÑÈªòËÆ§Âú∞ÂùÄÂ§ßÂ∞èÁî±ÂΩìÂâçÁöÑÊìç‰ΩúÊ®°ÂºèÂÜ≥ÂÆöÔºå‰ΩÜÂèØ‰ª•ÈÄöËøáÂú∞ÂùÄÂ§ßÂ∞èË¶ÜÁõñÂâçÁºÄÔºà67HÔºâËøõ
‰æãÂ¶ÇÔºö</p>
<ul>
<li>Âú® 64 ‰ΩçÊ®°Âºè‰∏ãÔºåÂú∞ÂùÄÈªòËÆ§ÊòØ 64 ‰ΩçÔºå‰ΩÜÂèØ‰ª•ÈÄöËøáÂú∞ÂùÄÂ§ßÂ∞èÂâçÁºÄÂ∞ÜÂÖ∂ÂàáÊç¢‰∏∫ 32 ‰Ωç„ÄÇ</li>
</ul>
<p><div align="center">
<img src="../img/chap4/address_size_exp1.png" width="500">
</div></p>
<ul>
<li>Âú® 32 ‰ΩçÊ®°Âºè‰∏ãÔºåÂú∞ÂùÄÈªòËÆ§ÊòØ 32 ‰ΩçÔºå‰ΩÜÂèØ‰ª•ÈÄöËøáÂú∞ÂùÄÂ§ßÂ∞èÂâçÁºÄÂ∞ÜÂÖ∂ÂàáÊç¢‰∏∫ 16 ‰Ωç„ÄÇ</li>
</ul>
<p><div align="center">
<img src="../img/chap4/address_size_exp2.png" width="500">
</div></p>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Problem: In 32-bit operation mode, which prefix (or prefixes) will be applied to the instruction: MOV AL, [BX] ?</p>
<ul>
<li>A. Operand-size prefix only</li>
<li>B. Address-size prefix only</li>
<li>C. Both operand-size and address-size prefixes</li>
<li>D. None</li>
</ul>
<p>Answer: B</p>
<p>Ëß£ÈáäÔºöÂú® 32 ‰ΩçÊìç‰ΩúÊ®°Âºè‰∏ãÔºåÈªòËÆ§ÁöÑÂú∞ÂùÄÂ§ßÂ∞èÊòØ 32 ‰Ωç„ÄÇÂèØ‰ª•‰ΩøÁî®Âú∞ÂùÄÂ§ßÂ∞èË¶ÜÁõñÂâçÁºÄÔºà67HÔºâÂ∞ÜÂú∞ÂùÄÂ§ßÂ∞èÊõ¥Êîπ‰∏∫ 16 ‰Ωç„ÄÇËÄåÂèØ‰ª•Áõ¥Êé•Áî®W=0Êù•Â∞ÜÊìç‰ΩúÊï∞Â§ßÂ∞èÊõ¥Êîπ‰∏∫ 8 ‰ΩçÔºåÁî±OpcodeÂÜ≥ÂÆö„ÄÇ</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>ÂØπ‰∫éÂêÑÁßçÂâçÁºÄÁöÑÈ°∫Â∫èÔºå‰º†ÁªüÂâçÁºÄ‰πãÈó¥ (Â¶Ç 66H Âíå 67H)Ê≤°ÊúâÈ°∫Â∫èË¶ÅÊ±ÇÔºåË∞ÅÂÖàË∞ÅÂêéÈÉΩÂèØ‰ª•„ÄÇÂõ†‰∏∫Âú®Êú∫Âô®Á†ÅÂ±ÇÈù¢ÔºåCPU ÁöÑÊåá‰ª§Ëß£Á†ÅÂô®ÔºàDecoderÔºâËÉΩÂ§üËØÜÂà´Âá∫ 0x66 Âíå 0x67 ÈÉΩÊòØ‰º†ÁªüÂâçÁºÄÔºàLegacy PrefixesÔºâ„ÄÇÂè™Ë¶ÅÂÆÉ‰ª¨Â±û‰∫é‰∏çÂêåÁöÑ‚ÄúÁªÑ‚ÄùÔºàGroupÔºâÔºåÂ∞±ÂèØ‰ª•ÂÖ±Â≠òÔºå‰∏îÈ°∫Â∫è‰∫íÊç¢ÂÆåÂÖ®‰∏çÂΩ±ÂìçÊåá‰ª§ÊâßË°å„ÄÇ</p>
<p>‰ΩÜÊòØÔºåÂΩìÊ∂âÂèä REX ÂâçÁºÄÊó∂ÔºåÈ°∫Â∫èÂ∞±ÂæàÈáçË¶Å‰∫Ü„ÄÇREX ÂâçÁºÄÂøÖÈ°ªÊéíÂú®ÊâÄÊúâ‰º†ÁªüÂâçÁºÄ‰πãÂêéÔºåÁ¥ßÊå®ÁùÄ Opcode„ÄÇ</p>
</div>
<h2 id="load-effective-address">LOAD EFFECTIVE ADDRESS<a class="headerlink" href="#load-effective-address" title="Permanent link">&para;</a></h2>
<p>Load-effective address Êåá‰ª§ÈõÜÊó®Âú®ÊîØÊåÅÈ´òÁ∫ßËØ≠Ë®ÄÔºàÂ¶Ç CÔºâ„ÄÇ‰∏ªË¶ÅÊúâ‰∏§Á±ª load-effective address Êåá‰ª§Ôºö</p>
<ul>
<li>LEAÔºöÂä†ËΩΩÊúâÊïàÂú∞ÂùÄÔºàoffsetÔºâ„ÄÇ</li>
<li>LDS„ÄÅLES„ÄÅLFS„ÄÅLGS Âíå LSSÔºöÂä†ËΩΩËøúÊåáÈíàÔºàsegment selector and offsetÔºâ„ÄÇ</li>
</ul>
<h3 id="lea">LEA<a class="headerlink" href="#lea" title="Permanent link">&para;</a></h3>
<p>Â∞Ü 16 ‰ΩçÊàñ 32 ‰ΩçÂØÑÂ≠òÂô®Âä†ËΩΩ‰∏∫Êìç‰ΩúÊï∞ÊåáÂÆöÊï∞ÊçÆÁöÑÂÅèÁßªÂú∞ÂùÄ„ÄÇ</p>
<ul>
<li>ÈÄöËøáÂØπÊØî LEA Âíå MOVÔºåÂèØ‰ª•ÂèëÁé∞Ôºö<ul>
<li>LEA BX,[DI] ‰ºöÂ∞Ü [DI]ÔºàÂç≥ DI ÁöÑÂÜÖÂÆπÔºâÊåáÂÆöÁöÑÂÅèÁßªÂú∞ÂùÄÂä†ËΩΩÂà∞ BX ÂØÑÂ≠òÂô®‰∏≠Ôºõ</li>
<li>MOV BX,[DI] Âàô‰ºöÂ∞Ü [DI] ÊâÄÊåáÂÆöÂÜÖÂ≠òÂú∞ÂùÄ‰∏≠ÁöÑÊï∞ÊçÆÂä†ËΩΩÂà∞ BX ÂØÑÂ≠òÂô®‰∏≠„ÄÇ</li>
</ul>
</li>
<li>SEG Âíå OFFSET ‰º™Êåá‰ª§ÂàÜÂà´ËøîÂõûÊüê‰∏ÄÂÜÖÂ≠ò‰ΩçÁΩÆÁöÑÊÆµÂú∞ÂùÄÂíåÂÅèÁßªÂú∞ÂùÄ„ÄÇ</li>
</ul>
<blockquote>
<p>Â¶ÇÊûúÊìç‰ΩúÊï∞ÊòØ‰ΩçÁßªÈáèÔºàdisplacementÔºâÔºåOFFSET ‰º™Êåá‰ª§ÁöÑ‰ΩúÁî®‰∏é LEA Êåá‰ª§Áõ∏Âêå„ÄÇ</p>
</blockquote>
<div align="center">
<img src="../img/chap4/lea_exp1.png" width="500">
</div>

<p>Â∞Ü SI Âä†ËΩΩ‰∏∫ DATA1 ÁöÑÂú∞ÂùÄÔºåÂ∞Ü DI Âä†ËΩΩ‰∏∫ DATA2 ÁöÑÂú∞ÂùÄ„ÄÇÁÑ∂Âêé‰∫§Êç¢Ëøô‰∏§‰∏™ÂÜÖÂ≠ò‰ΩçÁΩÆ‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇ</p>
<p>OFFSET ÊØî LEA Êåá‰ª§Êõ¥È´òÊïà</p>
<ul>
<li>Âú® 80486 ÂæÆÂ§ÑÁêÜÂô®‰∏≠ÔºåMOV BX,OFFSET LIST Âè™ÈúÄ‰∏Ä‰∏™Êó∂ÈíüÂë®ÊúüÔºå ËÄå LEA BX,LIST ÈúÄË¶Å‰∏§‰∏™Êó∂ÈíüÂë®Êúü</li>
<li>MOV BX,OFFSET LIST ÂÆûÈôÖ‰∏ä‰ºöË¢´Ê±áÁºñ‰∏∫Á´ãÂç≥Êï∞‰º†ÈÄÅÊåá‰ª§ÔºàÂ¶Ç MOV BX, 0x9ÔºâÔºåÂõ†Ê≠§Êõ¥È´òÊïà„ÄÇ</li>
</ul>
<p>Â¶ÇÊûú OFFSET ËÉΩÂÆåÊàêÂêåÊ†∑ÁöÑÂäüËÉΩÔºå‰∏∫‰ªÄ‰πàËøòÈúÄË¶Å LEA Êåá‰ª§Ôºü</p>
<ul>
<li>OFFSET Âè™ËÉΩÁî®‰∫éÁÆÄÂçïÊìç‰ΩúÊï∞ÔºàÂ¶Ç LISTÔºâÔºå‰∏çËÉΩÁî®‰∫éÁ±ª‰ºº [DI]„ÄÅLIST [SI] ËøôÊ†∑ÁöÑÊìç‰ΩúÊï∞„ÄÇ
‰æãÂ¶ÇÔºåLEA BX, [DI] Áõ∏ÂΩì‰∫é MOV BX, DI</li>
<li>LEA SI, [BX+DI]ÔºöËØ•Êåá‰ª§Â∞Ü BX Âíå DI Áõ∏Âä†ÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÖ• SI ÂØÑÂ≠òÂô®‰∏≠„ÄÇËØ•ÁªìÊûúÊòØ‰∏Ä‰∏™Ê®° 64K ÁöÑÂíå„ÄÇ</li>
</ul>
<h3 id="lds-les-lfs-lgs-and-lss">LDS, LES, LFS, LGS, and LSS<a class="headerlink" href="#lds-les-lfs-lgs-and-lss" title="Permanent link">&para;</a></h3>
<p>LEA Êåá‰ª§Â∞Ü‰ªªÊÑè 16 ‰ΩçÂØÑÂ≠òÂô®Âä†ËΩΩ‰∏∫ÂÅèÁßªÂú∞ÂùÄÔºåÂÅèÁßªÂú∞ÂùÄÁî±ÊâÄÈÄâÂÆöÁöÑÂØªÂùÄÊñπÂºèÂÜ≥ÂÆö„ÄÇ</p>
<p>LDS Âíå LES Êåá‰ª§Áî®‰∫é‰ªéÂÜÖÂ≠ò‰∏≠Âä†ËΩΩËøúÂú∞ÂùÄ</p>
<ul>
<li>‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñÂÅèÁßªÂú∞ÂùÄÔºåÂπ∂Âä†ËΩΩÂà∞ 16 ‰ΩçÊàñ 32 ‰ΩçÂØÑÂ≠òÂô®‰∏≠Ôºõ</li>
<li>ÈöèÂêéÂÜç‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑ÂèñÊÆµÂú∞ÂùÄÊàñÊÆµÈÄâÊã©Â≠êÔºåÂàÜÂà´Âä†ËΩΩÂà∞ DS Êàñ ES ‰∏≠„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/lds_exp.png" width="500">
</div>

<p>ÂΩì DS=1000H ‰∏î DI=1000H Êó∂ÔºåLDS BX,[DI] Êåá‰ª§‰ºö‰ªéÂú∞ÂùÄ 11000H Âíå 11001H Âä†ËΩΩÊï∞ÊçÆÂà∞ BX ÂØÑÂ≠òÂô®ÔºåÂπ∂‰ªéÂú∞ÂùÄ 11002H Âíå 11003H Âä†ËΩΩÊï∞ÊçÆÂà∞ DS ÂØÑÂ≠òÂô®„ÄÇ‰∏äÂõæÂ±ïÁ§∫‰∫ÜËØ•Êåá‰ª§Âú® DS Âç≥Â∞ÜÂèò‰∏∫ 3000H„ÄÅBX Âç≥Â∞ÜÂèò‰∏∫ 127AH ‰πãÂâçÁöÑÁä∂ÊÄÅ„ÄÇ</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ê≥®ÊÑèÔºåLEAÂä†ËΩΩÂú∞ÂùÄÊó∂‰∏ç‰ºöËÆøÈóÆÂÜÖÂ≠òÔºåËÄåLDS‰ºöËÆøÈóÆÂÜÖÂ≠òÔºåÂ∞ÜÂÅèÁßªÈáè‰ªéÂÜÖÂ≠òËØªÂá∫Âä†ËΩΩÂà∞ÁõÆÁöÑÂØÑÂ≠òÂô®ÔºåÂ∞ÜÊÆµÈÄâÊã©Â≠ê‰ªéÂÜÖÂ≠òËØªÂá∫Âä†ËΩΩÂà∞ÊÆµÂØÑÂ≠òÂô®„ÄÇ</p>
</div>
<p>Êåá‰ª§ÂèØ‰ª•‰ΩøÁî®‰ªª‰ΩïÂÜÖÂ≠òÂØªÂùÄÊñπÂºèËÆøÈóÆÂåÖÂê´ÊÆµÂú∞ÂùÄÂíåÂÅèÁßªÂú∞ÂùÄÁöÑ 32 ‰ΩçÊàñ 48 ‰ΩçÂÜÖÂ≠òÂå∫Âüü„ÄÇ  </p>
<ul>
<li>32 ‰ΩçËøúÊåáÈíàÔºö16 ‰ΩçÊÆµÂú∞ÂùÄ + 16 ‰ΩçÂÅèÁßªÂú∞ÂùÄ  </li>
<li>48 ‰ΩçËøúÊåáÈíàÔºö16 ‰ΩçÈÄâÊã©Â≠ê + 32 ‰ΩçÂÅèÁßªÂú∞ÂùÄ  </li>
</ul>
<p>Âú® 80386 Âèä‰ª•‰∏äÂ§ÑÁêÜÂô®‰∏≠ÔºåLFS„ÄÅLGS Âíå LSS Êåá‰ª§Ë¢´Âä†ÂÖ•Êåá‰ª§ÈõÜ„ÄÇËøô‰∫õÊåá‰ª§ÂèØ‰ª•Â∞Ü‰ªª‰Ωï 16 ‰ΩçÊàñ 32 ‰ΩçÈÄöÁî®ÂØÑÂ≠òÂô®Âä†ËΩΩ‰∏∫ÂÅèÁßªÂú∞ÂùÄÔºåÂêåÊó∂Â∞Ü DS„ÄÅES„ÄÅFS„ÄÅGS Êàñ SS ÊÆµÂØÑÂ≠òÂô®Âä†ËΩΩ‰∏∫ÊÆµÂú∞ÂùÄÊàñÊÆµÈÄâÊã©Â≠ê„ÄÇ</p>
<p>LDS„ÄÅLES„ÄÅLFS„ÄÅLGS Âíå LSS Êåá‰ª§‰ªéÂÜÖÂ≠ò‰∏≠Ëé∑Âèñ‰∏Ä‰∏™Êñ∞ÁöÑËøúÂú∞ÂùÄ„ÄÇ</p>
<ul>
<li>È¶ñÂÖàÊòØÂÅèÁßªÂú∞ÂùÄÔºåÁÑ∂ÂêéÊòØÊÆµÂú∞ÂùÄÊàñÊÆµÈÄâÊã©Â≠ê„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/lea_instr.png" width="500">
</div>

<p>Ê±áÁºñÁ®ãÂ∫èÂèØ‰ª•Â∞ÜËøúÂú∞ÂùÄÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠„ÄÇÂú®Ëøô‰∫õÂä†ËΩΩÊåá‰ª§‰∏≠ÔºåÊúÄÊúâÁî®ÁöÑÊòØ LSS Êåá‰ª§„ÄÇ‰ª•‰∏ãÁ®ãÂ∫èÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÂà©Áî® LSS Êåá‰ª§ÂêåÊó∂Âä†ËΩΩ SS Âíå SPÔºå‰ªéËÄåÈáçÊñ∞ÊøÄÊ¥ªÊóßÁöÑÂ†ÜÊ†àÂå∫„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nf">CLI</span><span class="w">                       </span><span class="c1">; Á¶ÅÊ≠¢‰∏≠Êñ≠ÔºåÈÅøÂÖçÂàáÊç¢Â†ÜÊ†àËøáÁ®ã‰∏≠Ë¢´‰∏≠Êñ≠ÊâìÊñ≠</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nb">SP</span><span class="w">               </span><span class="c1">; Â§á‰ªΩÂΩìÂâçÂ†ÜÊ†àÊåáÈíàÔºàSPÔºâÂà∞AX</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nf">MOV</span><span class="w"> </span><span class="kt">WORD</span><span class="w"> </span><span class="nv">PTR</span><span class="w"> </span><span class="nv">SADDR</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nb">AX</span><span class="w">   </span><span class="c1">; Â∞ÜÂΩìÂâçSPÂÄºÂ≠òÂÇ®Âà∞ÂÜÖÂ≠òSADDRÂ§Ñ</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nb">SS</span><span class="w">               </span><span class="c1">; Â§á‰ªΩÂΩìÂâçÂ†ÜÊ†àÊÆµÔºàSSÔºâÂà∞AX</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nf">MOV</span><span class="w"> </span><span class="kt">WORD</span><span class="w"> </span><span class="nv">PTR</span><span class="w"> </span><span class="nv">SADDR</span><span class="o">+</span><span class="mi">2</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nb">AX</span><span class="w"> </span><span class="c1">; Â∞ÜÂΩìÂâçSSÂÄºÂ≠òÂÇ®Âà∞SADDR+2Â§ÑÔºàÂç≥SADDR: ‰Ωé2Â≠óËäÇ‰øùÂ≠òSPÔºåÈ´ò2Â≠óËäÇ‰øùÂ≠òSSÔºâ</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="nb">DS</span><span class="w">                 </span><span class="c1">; ÂèñÂæóÊï∞ÊçÆÊÆµÂØÑÂ≠òÂô®DSÁöÑÂÄº</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">SS</span><span class="p">,</span><span class="nb">AX</span><span class="w">                 </span><span class="c1">; Áî®DSÁöÑÂÄºËÆæÁΩÆSSÔºåËøôÊ†∑ÂèØ‰ª•ÂàáÊç¢Âà∞‰ª•DS‰∏∫ÊÆµÁöÑÂ†ÜÊ†àÔºàÊ≥®ÊÑèÔºåÊ≠§Â§ÑDS‰∏éSSÊöÇÊó∂Áõ∏ÂêåÔºâ</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">STOP</span><span class="w">        </span><span class="c1">; ÂèñÂæóÊ†áÂè∑STOPÁöÑÂÅèÁßªÔºåÂáÜÂ§áËÆæÁΩÆSP</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">SP</span><span class="p">,</span><span class="nb">AX</span><span class="w">                 </span><span class="c1">; SPËÆæÁΩÆ‰∏∫STOPÁöÑÂÅèÁßªÂú∞ÂùÄÔºåÂ†ÜÊ†àÁßªÂä®Âà∞Êñ∞‰ΩçÁΩÆ</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="nf">STI</span><span class="w">                       </span><span class="c1">; ÂÖÅËÆ∏‰∏≠Êñ≠</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nf">...</span><span class="w">                       </span><span class="c1">; ÂÖ∂‰ªñÊìç‰Ωú</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="nb">AX</span><span class="w">                 </span><span class="c1">; Âç†‰ΩçÔºàÊó†ÂÆûÈôÖ‰ΩúÁî®Ôºâ</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AX</span><span class="p">,</span><span class="nb">AX</span><span class="w">                 </span><span class="c1">; Âêå‰∏ä</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="nf">LSS</span><span class="w"> </span><span class="nb">SP</span><span class="p">,</span><span class="nv">SADDR</span><span class="w">              </span><span class="c1">; ‰∏ÄÊù°Êåá‰ª§ÂêåÊó∂ÊÅ¢Â§çÂéüÊù•ÁöÑSSÂíåSPÔºåSADDR‰øùÂ≠ò‰∫ÜÂéüSSÂíåSPÁöÑÂÄºÔºåÂÆûÁé∞Â†ÜÊ†àÂå∫ÁöÑÊÅ¢Â§ç</span>
</span></code></pre></div>
<p>CLIÔºàÊ∏ÖÈô§‰∏≠Êñ≠Ê†áÂøóÔºåÁ¶ÅÊ≠¢‰∏≠Êñ≠ÔºâÂíå STIÔºàËÆæÁΩÆ‰∏≠Êñ≠Ê†áÂøóÔºåÂÖÅËÆ∏‰∏≠Êñ≠ÔºâÊåá‰ª§ÂøÖÈ°ªÂåÖÂê´Âú®ÂÜÖÔºå‰ª•ÂÆûÁé∞Âú®ÂàáÊç¢Â†ÜÊ†àÊó∂ÂÖ≥Èó≠‰∏≠Êñ≠ÁöÑÂäüËÉΩ„ÄÇ</p>
<h2 id="string-data-transfers">STRING DATA TRANSFERS<a class="headerlink" href="#string-data-transfers" title="Permanent link">&para;</a></h2>
<p>‰∫îÁßçÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆ‰º†ÈÄÅÊåá‰ª§Ôºö</p>
<ul>
<li>LODS, STOS, MOVS, INS, OUTS</li>
</ul>
<p>‰∏§ÁßçÂ≠óÁ¨¶‰∏≤ÊØîËæÉÊåá‰ª§Ôºö</p>
<ul>
<li>SCAS, CMPS</li>
</ul>
<blockquote>
<p>ÊØèÊù°Êåá‰ª§ÁöÑÂâç2-3‰∏™Â≠óÊØçÈÉΩ‰ΩìÁé∞‰∫ÜËØ•Êåá‰ª§ÁöÑÊìç‰ΩúÂê´‰πâ„ÄÇÂÖ∂‰∏≠ÊâÄÊúâÊåá‰ª§‰∏≠ÁöÑ‚ÄúS‚Äù‰ª£Ë°®‚ÄúString‚ÄùÔºàÂ≠óÁ¨¶‰∏≤Ôºâ„ÄÇ</p>
</blockquote>
<p>ÊØèÊù°Êåá‰ª§ÈÉΩÂèØ‰ª•ÂÆûÁé∞‰ª•Â≠óËäÇ„ÄÅÂ≠óÔºàwordÔºâÊàñÂèåÂ≠óÔºàdoublewordÔºâ‰∏∫Âçï‰ΩçÁöÑÊï∞ÊçÆ‰º†ÈÄÅÊàñÊØîËæÉÊìç‰ΩúÔºåÂπ∂‰∏îÈöêÂºèÂú∞‰ΩøÁî® DI„ÄÅSI Êàñ‰∫åËÄÖÂØÑÂ≠òÂô®Êù•ËøõË°åÂÜÖÂ≠òÂØªÂùÄ„ÄÇÂ≠óÁ¨¶‰∏≤Êåá‰ª§ÊâßË°åÊïàÁéáÈ´òÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ËÉΩÂ§üËá™Âä®ÈáçÂ§çÂπ∂‰∏îËá™Âä®‰øÆÊîπÊï∞ÁªÑ‰∏ãÊ†áÔºàÊåáÈíàÔºâ„ÄÇ</p>
<div class="admonition example">
<p class="admonition-title">string comparison</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nf">REPE</span><span class="w"> </span><span class="nv">CMPSB</span><span class="w">    </span><span class="c1">; ÂΩì‰∏î‰ªÖÂΩì ZF=1ÔºàÂâç‰∏ÄÊ¨°ÊØîËæÉÁªìÊûúÁõ∏Á≠âÔºâÊó∂ÔºåÈáçÂ§çÊâßË°åCMPSBÔºåECX=0ÊàñÂèëÁé∞‰∏çÁõ∏Á≠â‰∏∫Ê≠¢</span>
</span></code></pre></div>
<p>ËøôÊù°ÁÆÄÁü≠ÁöÑÊåá‰ª§Ê∂âÂèäÂà∞ÂæàÂ§öÁªÜËäÇÔºåÈ¶ñÂÖàREPEÊòØÈáçÂ§çÂâçÁºÄÔºårepeat when equalÔºåÂêåÊó∂‰ΩøÁî®‰∫ÜEDIÂíåESI‰Ωú‰∏∫Ê∫êÂØÑÂ≠òÂô®ÂíåÁõÆÁöÑÂØÑÂ≠òÂô®ÔºåËøòÊúâDFÊ†áÂøó‰ΩçÊù•ÊéßÂà∂ÊñπÂêëÔºåECX ÂØÑÂ≠òÂô®Êù•ËÆæÁΩÆÊØîËæÉÊ¨°Êï∞Ôºå‰ª•Âèäzero flagÊù•ÊéßÂà∂ÊòØÂê¶ÁªßÁª≠ÊØîËæÉ„ÄÇ</p>
</div>
<h3 id="di-and-si">DI and SI<a class="headerlink" href="#di-and-si" title="Permanent link">&para;</a></h3>
<ul>
<li>DI/EDI ÈÄöÂ∏∏‰∏éÈôÑÂä†ÊÆµ ES ‰∏ÄËµ∑‰ΩøÁî®Ôºå‰∏îÊÆµÂØÑÂ≠òÂô®‰∏çÂèØÊõ¥ÊîπÔºå<strong>Â≠óÁ¨¶‰∏≤Êåá‰ª§ÁöÑÁõÆÁöÑÊìç‰ΩúÊï∞ÂøÖÈ°ª‰ΩøÁî®ESÊÆµÔºå‰∏çÂèØÊõ¥Êîπ</strong></li>
<li>SI/ESI ÈÄöÂ∏∏‰∏éÊï∞ÊçÆÊÆµ DS ‰∏ÄËµ∑‰ΩøÁî®Ôºå‰∏îÊÆµÂØÑÂ≠òÂô®ÂèØÊõ¥ÊîπÔºåËôΩÁÑ∂SIÈªòËÆ§‰ΩøÁî®DSÊÆµÔºå‰ΩÜÂèØÈÄöËøáÊÆµË∂ÖË∂äÂâçÁºÄÊòæÂºèÊåáÂÆöÂÖ∂‰ªñÊÆµÂØÑÂ≠òÂô®ÔºàÂ¶ÇCS„ÄÅES„ÄÅFSÁ≠âÔºâÔºö</li>
</ul>
<p>Âú® 32 ‰ΩçÊ®°Âºè‰∏ãÔºåEDI Âíå ESI ÂØÑÂ≠òÂô®Âèñ‰ª£‰∫Ü DI Âíå SI ÁöÑ‰ΩúÁî®ÔºåËøô‰ΩøÂæóÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÂèØ‰ª•ËÆøÈóÆÊï¥‰∏™ 4GB Âèó‰øùÊä§Ê®°Âºè‰∏ãÁöÑÊâÄÊúâÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ</p>
<h3 id="the-direction-flag-df">The Direction Flag, DF<a class="headerlink" href="#the-direction-flag-df" title="Permanent link">&para;</a></h3>
<div align="center">
<img src="../img/chap4/df.png" width="500">
</div>

<ul>
<li>DF=0ÔºåËá™Âä®ÈÄíÂ¢ûÊåáÈíà</li>
<li>DF=1ÔºåËá™Âä®ÈÄíÂáèÊåáÈíà</li>
</ul>
<p>ÊñπÂêëÊ†áÂøó‰ΩçÔºàD ‰ΩçÔºå‰Ωç‰∫éÊ†áÂøóÂØÑÂ≠òÂô®‰∏≠ÔºâÁî®‰∫éÈÄâÊã©Âú®Â≠óÁ¨¶‰∏≤Êìç‰Ωú‰∏≠ DI Âíå SI ÂØÑÂ≠òÂô®ÊòØËá™Âä®ÈÄíÂ¢ûËøòÊòØËá™Âä®ÈÄíÂáè„ÄÇ</p>
<ul>
<li>ËØ•Ê†áÂøó‰ªÖË¢´Â≠óÁ¨¶‰∏≤Êåá‰ª§‰ΩøÁî®„ÄÇ</li>
<li>CLD Êåá‰ª§Áî®‰∫éÊ∏ÖÈô§ D Ê†áÂøó‰ΩçÔºàDF=0ÔºâÔºåSTD Êåá‰ª§Áî®‰∫éËÆæÁΩÆ D Ê†áÂøó‰ΩçÔºàDF=1Ôºâ„ÄÇ</li>
<li>ÊâßË°å CLD Êåá‰ª§Êó∂ÔºåÈÄâÊã©Ëá™Âä®ÈÄíÂ¢ûÊ®°ÂºèÔºõ</li>
<li>ÊâßË°å STD Êåá‰ª§Êó∂ÔºåÈÄâÊã©Ëá™Âä®ÈÄíÂáèÊ®°Âºè„ÄÇ</li>
</ul>
<h3 id="rep-prefix">REP prefix<a class="headerlink" href="#rep-prefix" title="Permanent link">&para;</a></h3>
<p>‰∏ÄÊù°Â≠óÁ¨¶‰∏≤Âü∫Êú¨Êåá‰ª§Âè™ËÉΩÂ§ÑÁêÜ‰∏Ä‰∏™ÂÜÖÂ≠òÂÄºÊàñ‰∏ÄÂØπÂÜÖÂ≠òÂÄº„ÄÇÂ¶ÇÊûúÊ∑ªÂä†ÈáçÂ§çÂâçÁºÄÔºàREPÔºâÔºåÊåá‰ª§‰ºöÈáçÂ§çÊâßË°åÔºå‰ΩøÁî® CX Êàñ ECX ‰Ωú‰∏∫ËÆ°Êï∞Âô®„ÄÇ</p>
<ul>
<li>ÈáçÂ§çÂâçÁºÄÂÖÅËÆ∏ÈÄöËøá‰∏ÄÊù°Êåá‰ª§Â§ÑÁêÜÊï¥‰∏™Êï∞ÁªÑ„ÄÇ</li>
<li>ÈÄöÂ∏∏‰ΩøÁî®‰ª•‰∏ãÂá†ÁßçÈáçÂ§çÂâçÁºÄÔºö</li>
</ul>
<table>
<thead>
<tr>
<th>ÂâçÁºÄ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody>
<tr>
<td>REP</td>
<td>ÂΩì ECX &gt; 0 Êó∂ÈáçÂ§çÊâßË°åÊåá‰ª§</td>
</tr>
<tr>
<td>REPZ, REPE</td>
<td>ÂΩìÈõ∂Ê†áÂøóÔºàZFÔºâ‰∏∫1 ‰∏î ECX &gt; 0 Êó∂ÈáçÂ§çÊâßË°åÊåá‰ª§</td>
</tr>
<tr>
<td>REPNZ, REPNE</td>
<td>ÂΩìÈõ∂Ê†áÂøóÔºàZFÔºâ‰∏∫0 ‰∏î ECX &gt; 0 Êó∂ÈáçÂ§çÊâßË°åÊåá‰ª§</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li><strong>REP</strong>Ôºö‰ªÖ‰æùËµñ‰∫éËÆ°Êï∞Âô® ECXÔºåÂ∏∏Áî®‰∫éÊó†Êù°‰ª∂ÈáçÂ§ç„ÄÇ</li>
<li><strong>REPZ/REPE</strong>ÔºàRepeat while EqualÔºâÔºöÈÄöÂ∏∏ÈÖçÂêà CMPS/SCASÔºåË°®Á§∫Ââç‰∏ÄÊ¨°ÁªìÊûú‰∏∫Áõ∏Á≠âÊó∂ÁªßÁª≠ÔºåZF=1„ÄÇ</li>
<li><strong>REPNZ/REPNE</strong>ÔºàRepeat while Not EqualÔºâÔºöÈÄöÂ∏∏ÈÖçÂêà CMPS/SCASÔºåË°®Á§∫Ââç‰∏ÄÊ¨°ÁªìÊûú‰∏çÁ≠âÊó∂ÁªßÁª≠ÔºåZF=0„ÄÇ</li>
</ul>
</blockquote>
<div class="admonition example">
<p class="admonition-title">copy a string</p>
<p>Âú®‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåMOVSB Êåá‰ª§Â∞Ü 10 ‰∏™Â≠óËäÇ‰ªé string1 Êã∑Ë¥ùÂà∞ string2„ÄÇ
ÂΩìÈáçÂ§çÊâßË°å MOVSB Êåá‰ª§Êó∂ÔºåESI Âíå EDI ‰ºöË¢´Ëá™Âä®ÈÄíÂ¢û„ÄÇËøô‰∏™Ë°å‰∏∫Áî±ÊñπÂêëÊ†áÂøóÔºàDirection Flag, DFÔºâÊéßÂà∂„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nf">cld</span><span class="w">                     </span><span class="c1">; clear direction flagÔºàÊñπÂêëÊ†áÂøó‰∏∫0ÔºåËá™Âä®ÈÄíÂ¢ûÔºâ</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">esi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">string1</span><span class="w"> </span><span class="c1">; ESI ÊåáÂêëÊ∫êÂ≠óÁ¨¶‰∏≤</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">edi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">string2</span><span class="w"> </span><span class="c1">; EDI ÊåáÂêëÁõÆÊ†áÂ≠óÁ¨¶‰∏≤</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">ecx</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w">             </span><span class="c1">; ËÆ°Êï∞Âô®ËÆæÁΩÆ‰∏∫10</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="nf">rep</span><span class="w"> </span><span class="nv">movsb</span><span class="w">               </span><span class="c1">; ËøûÁª≠ÁßªÂä®10‰∏™Â≠óËäÇ</span>
</span></code></pre></div>
<p><div align="center">
<img src="../img/chap4/rep_exp.png" width="500">
</div></p>
</div>
<h3 id="suffix">Suffix<a class="headerlink" href="#suffix" title="Permanent link">&para;</a></h3>
<ul>
<li>BÔºöÂ≠óËäÇÔºàbyteÔºâ</li>
<li>WÔºöÂ≠óÔºàwordÔºâ</li>
<li>DÔºöÂèåÂ≠óÔºàdoublewordÔºâ</li>
<li>‰æãÂ¶ÇÔºö <ul>
<li>MOVSBÔºåÊåâÂ≠óËäÇËøõË°åÁöÑ MOVS Êìç‰Ωú</li>
<li>LODSWÔºåÊåâÂ≠óËøõË°åÁöÑ LODS Êìç‰Ωú</li>
</ul>
</li>
</ul>
<h3 id="lods">LODS<a class="headerlink" href="#lods" title="Permanent link">&para;</a></h3>
<blockquote>
<p>ËøôÊòØÂîØ‰∏Ä‰∏ÄÊù°‰∏çÈúÄË¶ÅREPÂâçÁºÄÁöÑÂ≠óÁ¨¶‰∏≤Êåá‰ª§</p>
</blockquote>
<p>LODS ‰ΩøÁî®ÈöêÂê´Êìç‰ΩúÊï∞ÔºàAL„ÄÅAX„ÄÅEAXÔºâÔºåËøô‰∫õÂØÑÂ≠òÂô®‰∏ç‰ºöÂú®Êåá‰ª§ÊàñÊìç‰ΩúÁ†Å‰∏≠ÊòæÂºèÂú∞ÊèêÂèä„ÄÇ</p>
<ul>
<li>LODS Êåá‰ª§Â∞ÜÂ≠óËäÇ„ÄÅÂ≠óÊàñÂèåÂ≠ó‰ªéÊ∫êÂú∞ÂùÄÔºàDS:SI Êàñ ESIÔºâ‰º†ÈÄÅÂà∞ AL„ÄÅAX Êàñ EAX„ÄÇ</li>
<li>Êåá‰ª§ÂêéÁºÄË°®Á§∫Êìç‰ΩúÁöÑÊï∞ÊçÆÂ§ßÂ∞èÔºö<ul>
<li>LODSBÔºöSI/ESI Â¢ûÂáè ¬±1</li>
<li>LODSWÔºöSI/ESI Â¢ûÂáè ¬±2</li>
<li>LODSDÔºöSI/ESI Â¢ûÂáè ¬±4</li>
</ul>
</li>
</ul>
<div align="center">
<img src="../img/chap4/lodsw_exp.png" width="500">
</div>

<p>Â¶ÇÊûú DS=1000HÔºåSI=1000HÔºåÊñπÂêëÊ†áÂøó D=0 Êó∂ÔºåLODSW Êåá‰ª§ÁöÑÊìç‰ΩúËøáÁ®ãÂ¶Ç‰∏ãÔºöÊ≠§Êó∂ AX Â∑≤Áªè‰ªéÂÜÖÂ≠ò‰∏≠Ë£ÖËΩΩ‰∫ÜÊï∞ÊçÆÔºå‰ΩÜ SI Â∞öÊú™Ëá™Â¢û 2„ÄÇ</p>
<h3 id="stos">STOS<a class="headerlink" href="#stos" title="Permanent link">&para;</a></h3>
<p>STOSB„ÄÅSTOSW Âíå STOSD ÂàÜÂà´Â∞Ü AL„ÄÅAX Êàñ EAX ÁöÑÂÄºÂ≠òÂÇ®Âà∞ÁõÆÁöÑÂú∞ÂùÄ ES:DIÔºàÊàñ EDIÔºâ‰∏≠„ÄÇ</p>
<ul>
<li>STOSBÔºöÂØπ ES:DI/EDI Â¢ûÂä†ÊàñÂáèÂ∞ë ¬±1</li>
<li>STOSWÔºöÂØπ ES:DI/EDI Â¢ûÂä†ÊàñÂáèÂ∞ë ¬±2</li>
<li>STOSDÔºöÂØπ ES:DI/EDI Â¢ûÂä†ÊàñÂáèÂ∞ë ¬±4</li>
</ul>
<p>STOS ‰ΩøÁî®ÈöêÂê´Êìç‰ΩúÊï∞ÔºàAL„ÄÅAX„ÄÅEAXÔºâÔºåËøô‰∫õÂØÑÂ≠òÂô®Âú®Êåá‰ª§ÂèÇÊï∞ÊàñÊìç‰ΩúÁ†Å‰∏≠‰∏ç‰ºöË¢´ÊòæÂºèÂÜôÂá∫„ÄÇ</p>
<p><em>Èô§‰∫Ü LODS ‰πãÂ§ñÔºå‰ªª‰ΩïÂ≠óÁ¨¶‰∏≤Êï∞ÊçÆ‰º†ÈÄÅÊåá‰ª§ÈÉΩÂèØ‰ª•Âä†‰∏ä REP ÂâçÁºÄÔºå‰ª•ÈÅøÂÖçÂØÑÂ≠òÂô®‰∏≠ÁöÑÊï∞ÊçÆË¢´ÊîπÂÜô</em>„ÄÇ</p>
<ul>
<li>Â¶ÇÊûú CX ÁöÑÂÄºÂáèÂà∞ 0ÔºåÊåá‰ª§Â∞±‰ºöÁªìÊùüÔºåÁ®ãÂ∫èÁªßÁª≠ÊâßË°åÂêéÁª≠ÂÜÖÂÆπ„ÄÇ</li>
<li>Â¶ÇÊûúÂ∞Ü CX ËÆæ‰∏∫ 100 Âπ∂ÊâßË°å REP STOSB Êåá‰ª§ÔºåÂæÆÂ§ÑÁêÜÂô®‰ºöËá™Âä®ÈáçÂ§çÊâßË°å STOSB 100 Ê¨°„ÄÇ</li>
</ul>
<p><em>REP ÂâçÁºÄ‰∏é STOS ËøûÁî®Êó∂ÔºåÂèØ‰ª•ËÆ© STOS Êåá‰ª§ÈùûÂ∏∏Êñπ‰æøÂú∞Â∞ÜÊüê‰∏™ÂÄºÊâπÈáèÂ°´ÂÖÖÂà∞Â≠óÁ¨¶‰∏≤ÊàñÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†</em>„ÄÇ</p>
<ul>
<li>‰æãÂ¶ÇÔºå‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂèØ‰ª•Êää string1 ‰∏≠ÁöÑÊØè‰∏™Â≠óËäÇÈÉΩËµãÂÄº‰∏∫ 0FFh„ÄÇ</li>
</ul>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nf">.DATA</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nf">Count</span><span class="w">   </span><span class="err">=</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nf">string1</span><span class="w"> </span><span class="kt">BYTE</span><span class="w"> </span><span class="nv">Count</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nf">.CODE</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">al</span><span class="p">,</span><span class="w"> </span><span class="mh">0FFh</span><span class="w">           </span><span class="c1">; Ë¶ÅÂ≠òÂÇ®ÁöÑÂÄº</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">edi</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">string1</span><span class="w"> </span><span class="c1">; ÁõÆÊ†áÂú∞ÂùÄÔºàES:DI/EDIÔºâ</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">ecx</span><span class="p">,</span><span class="w"> </span><span class="nv">Count</span><span class="w">         </span><span class="c1">; Â≠óÁ¨¶Êï∞Èáè</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="nf">cld</span><span class="w">                    </span><span class="c1">; ÊñπÂêëÊ†áÂøó = Ê≠£Âêë</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="nf">rep</span><span class="w"> </span><span class="nv">stosb</span><span class="w">              </span><span class="c1">; Áî® AL Â°´ÂÖÖÊï¥‰∏™ string1</span>
</span></code></pre></div>
<h3 id="movs">MOVS<a class="headerlink" href="#movs" title="Permanent link">&para;</a></h3>
<ul>
<li>MOVS Êåá‰ª§Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Â≠óËäÇ„ÄÅÂ≠óÊàñÂèåÂ≠ó‰ªé DS:SI ‰º†ÈÄÅÂà∞ ES:DIÔºåÂπ∂Ê†πÊçÆÊï∞ÊçÆÂ§ßÂ∞èËá™Âä®Êõ¥Êñ∞ SI Âíå DI ÁöÑÂÄº„ÄÇ</li>
<li>ÂêéÁºÄÔºàB„ÄÅW Êàñ DÔºâÊåáÁ§∫Êìç‰ΩúÊï∞ÊçÆÁöÑ‰ΩçÂÆΩÔºö<ul>
<li>MOVSBÔºöDS:SI Âíå ES:DI ÈÉΩÂ¢ûÂä†ÊàñÂáèÂ∞ë ¬±1</li>
<li>MOVSWÔºöDS:SI Âíå ES:DI ÈÉΩÂ¢ûÂä†ÊàñÂáèÂ∞ë ¬±2</li>
<li>MOVSDÔºöDS:SI Âíå ES:DI ÈÉΩÂ¢ûÂä†ÊàñÂáèÂ∞ë ¬±4</li>
</ul>
</li>
<li>MOVS Â∏∏Áî®‰∫éÂú®ÂÜÖÂ≠ò‰πãÈó¥ÊâπÈáè‰º†ËæìÊï∞ÊçÆÂùó„ÄÇ</li>
</ul>
<p><span style="color:red;">8086 Âà∞ Pentium 4 ÂæÆÂ§ÑÁêÜÂô®‰∏≠ÔºåMOVS ÊòØÂîØ‰∏ÄÂÖÅËÆ∏ÂÜÖÂ≠òÂØπÂÜÖÂ≠òÁõ¥Êé•‰º†ÈÄÅÁöÑÊåá‰ª§„ÄÇ</span></p>
<div class="admonition example">
<p class="admonition-title">transferring two blocks of doubleword memory</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">TransferBlocks</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">blockSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">blockA</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">blockB</span><span class="p">)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p">{</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">blockSize</span><span class="p">;</span><span class="w"> </span><span class="n">a</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="p">{</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="o">*</span><span class="n">blockB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">blockA</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">blockB</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">}</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">; ‰øùÂ≠òÂØÑÂ≠òÂô®</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nf">push</span><span class="w">    </span><span class="nb">es</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nf">push</span><span class="w">    </span><span class="nb">edi</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="nf">push</span><span class="w">    </span><span class="nb">esi</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="nf">push</span><span class="w">    </span><span class="nb">ds</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="nf">pop</span><span class="w">     </span><span class="nb">es</span><span class="w">              </span><span class="c1">; Â∞Ü DS ÁöÑÂÄºÂ§çÂà∂Âà∞ ES</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="nf">mov</span><span class="w">     </span><span class="nb">esi</span><span class="p">,</span><span class="w"> </span><span class="nv">blockA</span><span class="w">     </span><span class="c1">; Ê∫êÂú∞ÂùÄ blockA -&gt; ESI</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="nf">mov</span><span class="w">     </span><span class="nb">edi</span><span class="p">,</span><span class="w"> </span><span class="nv">blockB</span><span class="w">     </span><span class="c1">; ÁõÆÊ†áÂú∞ÂùÄ blockB -&gt; EDI</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nf">mov</span><span class="w">     </span><span class="nb">ecx</span><span class="p">,</span><span class="w"> </span><span class="nv">blockSize</span><span class="w">  </span><span class="c1">; ‰º†ÈÄÅÁöÑ doubleword Êï∞Èáè</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="nf">rep</span><span class="w">     </span><span class="nv">movsd</span><span class="w">           </span><span class="c1">; ÊâπÈáè‰º†ÈÄÅ doubleword Êï∞ÊçÆ</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="nf">pop</span><span class="w">     </span><span class="nb">esi</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="nf">pop</span><span class="w">     </span><span class="nb">edi</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="nf">pop</span><span class="w">     </span><span class="nb">es</span><span class="w">              </span><span class="c1">; ÊÅ¢Â§çÂØÑÂ≠òÂô®</span>
</span></code></pre></div>
</div>
<h3 id="ins">INS<a class="headerlink" href="#ins" title="Permanent link">&para;</a></h3>
<div align="center">
<img src="../img/chap4/INS.png" width="500">
</div>

<p>Â∞Ü‰∏Ä‰∏™Â≠óËäÇ„ÄÅÂ≠óÊàñÂèåÂ≠óÁöÑÊï∞ÊçÆ‰ªé I/O ËÆæÂ§á‰º†ÈÄÅÂà∞È¢ùÂ§ñÊÆµÔºàESÔºâÊâÄÊåáÂÆöÁöÑÂÜÖÂ≠ò‰ΩçÁΩÆ‰∏≠„ÄÇINS Êåá‰ª§‰ΩøÁî® DX Êàñ EDX ‰Ωú‰∏∫Ê∫êÊìç‰ΩúÊï∞Áî®‰∫éÊåáÂÆö I/O Âú∞ÂùÄÊàñÁ´ØÂè£„ÄÇÁõÆÁöÑÊìç‰ΩúÊï∞ÊòØ ES:DI Êàñ ES:EDI ÊâÄÊåáÂêëÁöÑÂÜÖÂ≠ò‰ΩçÁΩÆ„ÄÇ</p>
<ul>
<li>ÈÄÇÁî®‰∫éÂ∞ÜÂ§ñÈÉ® I/O ËÆæÂ§áÁöÑÊï∞ÊçÆÂùóÁõ¥Êé•ËæìÂÖ•Âà∞ÂÜÖÂ≠ò‰∏≠„ÄÇ</li>
<li>
<p>‰∏Ä‰∏™ÂÖ∏ÂûãÂ∫îÁî®Â∞±ÊòØÂ∞ÜÊï∞ÊçÆ‰ªéÁ£ÅÁõòÈ©±Âä®Âô®ËΩ¨ÁßªÂà∞ÂÜÖÂ≠ò„ÄÇ</p>
<ul>
<li>Âú®ËÆ°ÁÆóÊú∫Á≥ªÁªü‰∏≠ÔºåÁ£ÅÁõòÈ©±Âä®Âô®ÈÄöÂ∏∏Ë¢´ËßÜ‰∏∫ I/O ËÆæÂ§áËøõË°åÊé•Âè£ËøûÊé•„ÄÇ</li>
</ul>
</li>
<li>
<p>INS Êåá‰ª§Êúâ‰∏§ÁßçÂΩ¢ÂºèÔºöÊòæÂºèÊìç‰ΩúÊï∞ÂíåÊó†Êìç‰ΩúÊï∞ÂΩ¢Âºè„ÄÇ</p>
</li>
<li>ÊòæÂºèÊìç‰ΩúÊï∞ÂΩ¢ÂºèÂÖÅËÆ∏ÊòéÁ°ÆÊåáÂÆöÊ∫êÂíåÁõÆÁöÑÊìç‰ΩúÊï∞Ôºå‰æãÂ¶Ç INS WORD PTR [DI], DX„ÄÇ</li>
<li>Ê∫êÊìç‰ΩúÊï∞ÂøÖÈ°ªÊòØ DXÔºåÁõÆÊ†áÊìç‰ΩúÊï∞Â∫î‰∏∫ ES:DI Êàñ ES:EDI„ÄÇ</li>
<li>Êó†Êìç‰ΩúÊï∞ÂΩ¢ÂºèÂàô‰∏∫Â≠óËäÇ„ÄÅÂ≠óÂíåÂèåÂ≠óÁâàÊú¨Êèê‰æõÁÆÄÂÜôÊñπÂºè„ÄÇ</li>
<li>Êó†Êìç‰ΩúÊï∞ÂΩ¢ÂºèÊúâ‰∏âÁßçÂü∫Êú¨Êåá‰ª§Ôºö<ul>
<li>INSBÔºö‰ªé 8 ‰Ωç I/O ËÆæÂ§áËæìÂÖ•Êï∞ÊçÆÔºåÂπ∂Â≠òÂÇ®Âà∞Áî± DI Á¥¢ÂºïÁöÑÂÜÖÂ≠ò„ÄÇ</li>
<li>INSWÔºöËæìÂÖ• 16 ‰Ωç I/O Êï∞ÊçÆÔºåÂ≠òÂÇ®Âà∞Â≠óÂ§ßÂ∞èÁöÑÂÜÖÂ≠ò‰ΩçÁΩÆ„ÄÇ</li>
<li>INSDÔºöËæìÂÖ• 32 ‰Ωç I/O Êï∞ÊçÆÔºåÂ≠òÂÇ®Âà∞ÂèåÂ≠óÂ§ßÂ∞èÁöÑÂÜÖÂ≠ò„ÄÇ</li>
</ul>
</li>
<li>Ëøô‰∫õÊåá‰ª§ÂèØ‰ª•ÈÄöËøá REP ÂâçÁºÄÈáçÂ§çÊâßË°åÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Â∞ÜÊï¥‰∏™Êï∞ÊçÆÂùó‰ªé I/O ËÆæÂ§áËæìÂÖ•Âà∞ÂÜÖÂ≠ò‰∏≠„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/INS_exp.png" width="500">
</div>

<p>ËØ•Êåá‰ª§Â∫èÂàó‰ªé I/O Á´ØÂè£ 03ACH ÁöÑËÆæÂ§áËæìÂÖ• 50 ‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÔºåÂπ∂Â∞ÜËøô‰∫õÊï∞ÊçÆÂ≠òÂÇ®Âà∞ÈôÑÂä†ÊÆµÔºàESÔºâ‰∏≠ÁöÑÂÜÖÂ≠òÊï∞ÁªÑ LISTS„ÄÇ</p>
<p>ËøôÈáåËÆæÁΩÆDF=0,Áî®Êù•ËÆæÁΩÆËØª‰∫Ü‰∏Ä‰∏™‰πãÂêéDIÊòØÂ¢ûËøòÊòØÂáè„ÄÇ</p>
<h3 id="outs">OUTS<a class="headerlink" href="#outs" title="Permanent link">&para;</a></h3>
<p>‰ªéÊï∞ÊçÆÊÆµÂÜÖÂ≠òÂú∞ÂùÄÂà∞ I/O ËÆæÂ§á‰∏≠„ÄÇ</p>
<ul>
<li>Ê∫êÊìç‰ΩúÊï∞ÊòØÁî± DS:SI Êàñ DS:ESI ÊåáÂÆöÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</li>
<li>ÁõÆÊ†áÊìç‰ΩúÊï∞ÔºàI/O Âú∞ÂùÄÊàñ I/O Á´ØÂè£Ôºâ‰∏é INS Êåá‰ª§‰∏ÄÊ†∑ÔºåÂåÖÂê´Âú® DX ÂØÑÂ≠òÂô®‰∏≠„ÄÇ</li>
<li>Âú® Pentium 4 Âíå Core2 ÁöÑ 64 ‰ΩçÊ®°Âºè‰∏ãÔºå‰∏çÊîØÊåÅ 64 ‰ΩçËæìÂá∫Ôºå‰ΩÜ RSI ‰∏≠ÁöÑÂú∞ÂùÄÂÆΩÂ∫¶‰∏∫ 64 ‰Ωç„ÄÇ</li>
</ul>
<p>OUTS Êåá‰ª§ÂêåÊ†∑ÂÖÅËÆ∏‰∏§ÁßçÂΩ¢ÂºèÔºöÊòæÂºèÊìç‰ΩúÊï∞ÂΩ¢ÂºèÂíåÊó†Êìç‰ΩúÊï∞ÂΩ¢Âºè„ÄÇ</p>
<ul>
<li>ÊòæÂºèÊìç‰ΩúÊï∞ÂΩ¢ÂºèÔºåÂÖÅËÆ∏ÊòéÁ°ÆÊåáÂÆöÊ∫êÂíåÁõÆÁöÑÊìç‰ΩúÊï∞Ôºå‰æãÂ¶Ç OUTS DX, WORD PTR [SI]„ÄÇ</li>
<li>
<p>Ê∫êÊìç‰ΩúÊï∞Â∫îËØ•‰∏∫ DS:SI Êàñ DS:ESIÔºåÁõÆÊ†áÊìç‰ΩúÊï∞ÊòØ DX„ÄÇ</p>
</li>
<li>
<p>Êó†Êìç‰ΩúÊï∞ÂΩ¢ÂºèÊèê‰æõ‰∫Ü OUTS Êåá‰ª§ÁöÑÂ≠óËäÇ„ÄÅÂ≠óÂíåÂèåÂ≠óÁöÑÁÆÄÂÜôÂΩ¢Âºè„ÄÇ</p>
<ul>
<li>OUTSB Êåá‰ª§Â∞Ü SI Á¥¢ÂºïÁöÑ‰∏Ä‰∏™Â≠óËäÇÂ§ßÂ∞èÁöÑÂÜÖÂ≠òÊï∞ÊçÆËæìÂá∫Âà∞ 8 ‰Ωç I/O ËÆæÂ§á„ÄÇ</li>
<li>OUTSW Êåá‰ª§ËæìÂá∫‰∏Ä‰∏™Â≠óÔºà16 ‰ΩçÔºâÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂà∞ 16 ‰Ωç I/O ËÆæÂ§á„ÄÇ</li>
<li>OUTSD Êåá‰ª§ËæìÂá∫‰∏Ä‰∏™ÂèåÂ≠óÔºà32 ‰ΩçÔºâÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂà∞ 32 ‰Ωç I/O ËÆæÂ§á„ÄÇ</li>
</ul>
</li>
</ul>
<div align="center">
<img src="../img/chap4/OUTS_exp.png" width="500">
</div>

<p>ËØ•Êåá‰ª§Â∫èÂàóÊºîÁ§∫‰∫Ü‰∏ÄÊÆµÁÆÄÁü≠ÁöÑÊåá‰ª§ÊµÅÁ®ãÔºåÂ∞ÜÊï∞ÊçÆÊÆµÂÜÖÂ≠òÊï∞ÁªÑÔºàARRAYÔºâ‰∏≠ÁöÑÊï∞ÊçÆ‰º†ÈÄÅÂà∞ I/O Âú∞ÂùÄ‰∏∫ 3ACH ÁöÑ I/O ËÆæÂ§á„ÄÇ</p>
<h2 id="miscellaneous-data-transfer-instructions">MISCELLANEOUS DATA TRANSFER INSTRUCTIONS<a class="headerlink" href="#miscellaneous-data-transfer-instructions" title="Permanent link">&para;</a></h2>
<p>Âú®Á®ãÂ∫è‰∏≠‰ΩøÁî®ÁöÑÊï∞ÊçÆ‰º†ÈÄÅÊåá‰ª§ÔºåÂåÖÂê´ÔºöXCHG„ÄÅLAHF„ÄÅSAHF„ÄÅXLAT„ÄÅIN„ÄÅOUT„ÄÅBSWAP„ÄÅMOVSX„ÄÅMOVZX Âíå CMO„ÄÇ</p>
<h3 id="xchg">XCHG<a class="headerlink" href="#xchg" title="Permanent link">&para;</a></h3>
<blockquote>
<p>exchange</p>
</blockquote>
<p>‰∫§Êç¢ÂØÑÂ≠òÂô®‰∏éÂè¶‰∏Ä‰∏™ÂØÑÂ≠òÂô®ÊàñÂÜÖÂ≠òÂçïÂÖÉÁöÑÂÜÖÂÆπ„ÄÇ</p>
<ul>
<li>‰∏çËÉΩ‰∫§Êç¢ÊÆµÂØÑÂ≠òÂô®Ôºå‰πü‰∏çËÉΩËøõË°åÂÜÖÂ≠òÂà∞ÂÜÖÂ≠òÁöÑÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</li>
<li>ËøôÊòØ‰∏ÄÁßçÂ∞ëËßÅÁöÑÂÖ∑Êúâ‰∏§‰∏™ËæìÂá∫ÁöÑÊåá‰ª§„ÄÇ</li>
<li>ÂèØ‰∫§Êç¢Â≠óËäÇ„ÄÅÂ≠óÊàñÂèåÂ≠óÔºåÂπ∂‰∏îÂèØ‰ª•‰ΩøÁî®Èô§Á´ãÂç≥ÂØªÂùÄ‰ª•Â§ñÁöÑÊâÄÊúâÂØªÂùÄÊñπÂºè„ÄÇ</li>
<li>‰ΩøÁî®16‰ΩçAXÂØÑÂ≠òÂô®‰∏éÂè¶‰∏Ä‰∏™16‰ΩçÂØÑÂ≠òÂô®ËøõË°å‰∫§Êç¢Êó∂ÔºåXCHGÊåá‰ª§ÊúÄÈ´òÊïàÔºåËØ•Êåá‰ª§Âè™Âç†Áî®1Â≠óËäÇÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/XCHG.png" width="500">
</div>

<p>ÂΩì‰ΩøÁî®ÂÜÖÂ≠òÂØªÂùÄÊñπÂºèÂíåÊ±áÁºñÂô®Êó∂ÔºåÂì™‰∏™Êìç‰ΩúÊï∞ÊòØÂÜÖÂ≠òÊìç‰ΩúÊï∞Âπ∂‰∏çÈáçË¶Å„ÄÇ‰æãÂ¶ÇÔºåXCHG AL,[DI] ‰∏é XCHG [DI],AL ÊòØÁ≠âÊïàÁöÑ„ÄÇXCHG Êåá‰ª§Â∏∏Áî®‰∫éÂÆûÁé∞ËøõÁ®ãÂêåÊ≠•‰∏≠ÁöÑ‰ø°Âè∑Èáè„ÄÇÔºàÁõ∏ÂΩì‰∫éÊìç‰ΩúÁ≥ªÁªü‰∏≠ÊèêÂà∞ÁöÑswapÔºâ</p>
<div class="admonition example">
<p class="admonition-title">acquire the spinlock</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">; acquire the spinlock</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">; lock variable. 1 = locked, 0 = unlocked.</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="nf">locked</span><span class="w">  </span><span class="nv">dd</span><span class="w">  </span><span class="mi">0</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c1">; Set the EAX register to 1.</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="nl">spin_lock:</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="nf">mov</span><span class="w">     </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1">; Atomically swap the EAX with the lock.</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="nf">lock</span><span class="w"> </span><span class="nv">xchg</span><span class="w"> </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nv">locked</span><span class="p">]</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="c1">; Test EAX with itself.</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="nf">test</span><span class="w">    </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="nb">eax</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="c1">; If EAX is 0, we just obtain and lock it.</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="c1">; Otherwise, repeatedly request the lock.</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">    </span><span class="nf">jnz</span><span class="w">     </span><span class="nv">spin_lock</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">    </span><span class="nf">ret</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="c1">; release the spinlock</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="c1">; Set the EAX register to 0.</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="nl">spin_unlock:</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">    </span><span class="nf">mov</span><span class="w">     </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="c1">; Atomically swap the EAX register with the lock variable.</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a><span class="w">    </span><span class="nf">lock</span><span class="w"> </span><span class="nv">xchg</span><span class="w"> </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nv">locked</span><span class="p">]</span>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">    </span><span class="nf">ret</span>
</span></code></pre></div>
<p>Ëé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú‰∫§Êç¢‰πãÂêéEAXËøòÊòØ1ÔºåËØ¥ÊòéÂà´ÁöÑËøõÁ®ãÂ∑≤ÁªèÊää„Äêlocked„ÄëÁΩÆ‰∏∫1‰∫ÜÔºåËé∑ÂèñÈîÅÂ§±Ë¥•</p>
</div>
<h3 id="lahf-and-sahf">LAHF and SAHF<a class="headerlink" href="#lahf-and-sahf" title="Permanent link">&para;</a></h3>
<p>LAHFÊåá‰ª§Â∞ÜEFLAGSÂØÑÂ≠òÂô®ÁöÑ‰Ωé8‰Ωç‰º†ÈÄÅÂà∞AHÂØÑÂ≠òÂô®„ÄÇ
- AH := EFLAGS (SF:ZF:0:AF:0:PF:1:CF)
    - Âç≥Â∞ÜÁ¨¶Âè∑Ê†áÂøóÔºàSFÔºâ„ÄÅÈõ∂Ê†áÂøóÔºàZFÔºâ„ÄÅËæÖÂä©Ëøõ‰ΩçÊ†áÂøóÔºàAFÔºâ„ÄÅÂ•áÂÅ∂Ê†áÂøóÔºàPFÔºâÂíåËøõ‰ΩçÊ†áÂøóÔºàCFÔºâ‰øùÂ≠òÂà∞AHÂØÑÂ≠òÂô®ÂØπÂ∫î‰Ωç‰∏≠„ÄÇ
    - EFLAGSÁöÑ‰øùÁïô‰Ωç1„ÄÅ3„ÄÅ5‰ºöÂàÜÂà´Ë¢´ËÆæÁΩÆ‰∏∫1„ÄÅ0„ÄÅ0</p>
<blockquote>
<p>Â¶ÇÊûúCPUID.80000001H:ECXÂØÑÂ≠òÂô®ÁöÑLAHF_SAHFÔºàÁ¨¨0‰ΩçÔºâ‰∏∫1ÔºåÂàôLAHFÊåá‰ª§ÂèØÂú®64‰ΩçÊ®°Âºè‰∏ã‰ΩøÁî®„ÄÇ</p>
</blockquote>
<p>SAHFÊåá‰ª§‰ºöÊääAHÂØÑÂ≠òÂô®‰∏≠ÂØπÂ∫î‰ΩçÔºà‰Ωç7„ÄÅ6„ÄÅ4„ÄÅ2„ÄÅ0ÔºâÁöÑÂÄºÔºå‰º†ÈÄÅÂà∞EFLAGSÂØÑÂ≠òÂô®ÁöÑSF„ÄÅZF„ÄÅAF„ÄÅPFÂíåCFÊ†áÂøó‰Ωç‰∏≠„ÄÇ</p>
<ul>
<li>SAHFÊåá‰ª§‰ºöÂøΩÁï•AHÁöÑ1„ÄÅ3„ÄÅ5‰ΩçÔºåÂπ∂‰∏îÂú®EFLAGSÂØÑÂ≠òÂô®‰∏≠Â∞ÜËøô‰∏â‰∏™‰ΩçÁΩÆ‰∏∫1„ÄÅ0„ÄÅ0„ÄÇ</li>
</ul>
<blockquote>
<p>Â¶ÇÊûúCPUID.80000001H:ECXÂØÑÂ≠òÂô®ÁöÑLAHF_SAHFÔºàÁ¨¨0‰ΩçÔºâ‰∏∫1ÔºåÂàôSAHFÊåá‰ª§ÂèØÂú®64‰ΩçÊ®°Âºè‰∏ã‰ΩøÁî®„ÄÇ</p>
</blockquote>
<h3 id="xlat">XLAT<a class="headerlink" href="#xlat" title="Permanent link">&para;</a></h3>
<p>XLATÔºàË°®Êü•ÊâæËΩ¨Êç¢ÔºâÊåá‰ª§‰ΩøÁî®ÈöêÂºèÊìç‰ΩúÊï∞ÔºàAL Âíå BXÔºâÔºö</p>
<ul>
<li>Â∞Ü AL ÂØÑÂ≠òÂô®‰∏≠ÁöÑÊó†Á¨¶Âè∑Êï¥Êï∞‰Ωú‰∏∫ÂÅèÁßªÈáèÔºåÂä†Âà∞ BX ÊåáÂÆöÁöÑË°®Âú∞ÂùÄ‰∏äÔºåÂπ∂ÊääËØ•‰ΩçÁΩÆ‰∏äÁöÑÂÜÖÂÆπÔºà[BX+AL]ÔºâÂ§çÂà∂Âà∞ AL ÂØÑÂ≠òÂô®‰∏≠„ÄÇ</li>
<li>XLAT ÁöÑÊïàÊûúÁ±ª‰ºº‰∫é MOV AL, [seg:BX + AL]„ÄÇ</li>
<li>ÂÖ∂‰∏≠ seg:[BX] ÊòØË°®ÁöÑÂü∫Âú∞ÂùÄÔºåÈªòËÆ§ÊÆµÂØÑÂ≠òÂô®‰∏∫ DSÔºå‰πüÂèØ‰ª•‰ΩøÁî®ÊÆµÂâçÁºÄ‰øÆÊîπ„ÄÇ</li>
<li>Ê≥®ÊÑèÔºå[seg:BX + AL] ËøôÁßçÂÜÖÂ≠òÊìç‰ΩúÊï∞Âú®ÂÖ∂‰ªñÊåá‰ª§‰∏≠Âπ∂‰∏çÂêàÊ≥ïÔºåÂè™Êúâ XLAT Êåá‰ª§ÊâçÂèØ‰ª•‰ΩøÁî®„ÄÇ</li>
</ul>
<p>XLAT Â∏∏Áî®Êù•ÂÆûÁé∞Êï∞ÊçÆÁöÑÊ†ºÂºèËΩ¨Êç¢„ÄÇ‰æãÂ¶ÇÔºåÂ∞ÜËèúÂçï‰∏≠È£üÂìÅÁöÑÁ¥¢ÂºïÂè∑ËΩ¨Êç¢‰∏∫ÂØπÂ∫î‰ª∑Ê†ºÔºö</p>
<ul>
<li>È¶ñÂÖàÔºå‰∏∫Â≠òÊîæ‰ª∑Ê†ºÁöÑË°®È¢ÑÁïô 256 Â≠óËäÇÁ©∫Èó¥Ôºõ</li>
<li>ÁÑ∂ÂêéÔºåÂ∞ÜËØ•Ë°®ÁöÑÂú∞ÂùÄÂä†ËΩΩÂà∞ DS:BX ‰∏≠ÔºåÊääÈ£üÂìÅÁöÑÁ¥¢ÂºïÂè∑ÊîæÂÖ• ALÔºõ</li>
<li>Êé•ÁùÄÔºåXLAT ‰ºöÊ†πÊçÆÁ¥¢ÂºïÔºåÊääÂØπÂ∫îÁöÑ‰ª∑Ê†ºÊü•Âá∫Êù•Â≠òÂÖ• AL„ÄÇ</li>
</ul>
<p><span style="color:red;">XLAT ‰ºöÂÜôÂÖ• ALÔºå‰ΩÜ‰∏ç‰ºöÊîπÂèò EAX[31:8] ËøôÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ</span></p>
<div align="center">
<img src="../img/chap4/XLAT.png" width="500">
</div>

<p>ÂÅáËÆæ7ÊÆµÊï∞Á†ÅÁÆ°ÊòæÁ§∫ÁöÑÊï∞ÊçÆÊü•ÊâæË°®Â≠òÂÇ®Âú®ÂÜÖÂ≠òÂú∞ÂùÄTABLEÂ§ÑÔºåXLATÊåá‰ª§ÂèØ‰ª•Âà©Áî®ËØ•Êü•ÊâæË°®ÔºåÂ∞ÜAL‰∏≠ÁöÑBCDÊï∞Â≠óËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ7ÊÆµÊòæÁ§∫ÁºñÁ†ÅÔºåÂπ∂Â≠òÂõûAL‰∏≠„ÄÇ</p>
<div align="center">
<img src="../img/chap4/XLAT_exp.png" width="500">
</div>

<p>TABLE = 1000HÔºåDS = 1000HÔºå‰∏î AL ÁöÑÂàùÂÄº‰∏∫ 05HÔºàBCDÔºâÔºåÂàô‰∏äËø∞Á§∫‰æãÁ®ãÂ∫èÁöÑËøêË°åËøáÁ®ãÂ¶Ç‰∏ãÔºöÁªèËøáÊü•Ë°®ËΩ¨Êç¢ÂêéÔºåAL Âèò‰∏∫ 6DH„ÄÇ</p>
<h3 id="input-and-output-ports">Input and Output Ports<a class="headerlink" href="#input-and-output-ports" title="Permanent link">&para;</a></h3>
<p>ËØ∏Â¶ÇÂ±èÂπï„ÄÅÊòæÁ§∫Âô®„ÄÅÈîÆÁõò„ÄÅÈº†Ê†á„ÄÅÁ°¨ÁõòÂíåÁΩëÁªúÁ≠âÂ§ñÈÉ®ËÆæÂ§áÔºåÈÄöËøáËæìÂÖ•Á´ØÂè£ÂíåËæìÂá∫Á´ØÂè£‰∏éÊï∞ÊçÆÊÄªÁ∫øÁõ∏Ëøû„ÄÇ
ÊØè‰∏™ËæìÂÖ•ÊàñËæìÂá∫Á´ØÂè£ÈÉΩÂÖ∑ÊúâÂîØ‰∏ÄÁöÑÂú∞ÂùÄÔºåËøôÁ±ª‰ºº‰∫éÂÜÖÂ≠ò‰∏≠ÁöÑÊØè‰∏™Â≠óËäÇÂçïÂÖÉÈÉΩÊúâÂîØ‰∏ÄÁöÑÂú∞ÂùÄ„ÄÇ</p>
<div align="center">
<img src="../img/chap4/output.png" width="500">
</div>

<p>‰∏Ä‰∏™ËæìÂá∫Á´ØÂè£ÂåÖÂê´‰∏Ä‰∏™ÊØîËæÉÂô®ÔºåÁî®‰∫éÂ∞ÜÂõ∫ÂÆöÂú∞ÂùÄ‰∏éÂú∞ÂùÄÊÄªÁ∫ø‰∏äÁöÑÂÄºËøõË°åÊØîËæÉ„ÄÇÂΩìÂú∞ÂùÄ‰∏éÁ´ØÂè£Âú∞ÂùÄÁõ∏Á≠â‰∏îÊéßÂà∂ÊÄªÁ∫ø‰∏äÊúâÂÜô‰ø°Âè∑Êó∂ÔºåÈîÅÂ≠òÂô®‰ºö‰ªéÊï∞ÊçÆÊÄªÁ∫øÂ≠òÂÇ®ËØ•ÂÄº„ÄÇ</p>
<div align="center">
<img src="../img/chap4/input.png" width="500">
</div>

<p>Â§ñÈÉ®ËÆæÂ§áÁöÑÊØè‰∏™ËæìÂÖ•‰ø°Âè∑ÈÉΩÈÄöËøá‰∏âÊÄÅÁºìÂÜ≤Âô®ÈÄÅÂà∞Êï∞ÊçÆÊÄªÁ∫ø„ÄÇÂΩìÂú∞ÂùÄÊÄªÁ∫ø‰∏äÁöÑÂú∞ÂùÄ‰∏éËæìÂÖ•Á´ØÂè£ÁöÑÂõ∫ÂÆöÂú∞ÂùÄÁõ∏Á≠âÔºåÂπ∂‰∏îÊéßÂà∂ÊÄªÁ∫øÊúâËØª‰ø°Âè∑Êó∂Ôºå‰∏âÊÄÅÁºìÂÜ≤Âô®Ë¢´‰ΩøËÉΩ„ÄÇ</p>
<h3 id="in-out">IN &amp; OUT<a class="headerlink" href="#in-out" title="Permanent link">&para;</a></h3>
<p>IN Âíå OUT Êåá‰ª§Áî®‰∫éÊâßË°åËæìÂÖ•/ËæìÂá∫ÔºàI/OÔºâÊìç‰Ωú„ÄÇ </p>
<ul>
<li>AL„ÄÅAX Êàñ EAX ÂØÑÂ≠òÂô®ÁöÑÂÜÖÂÆπÔºå‰ªÖÂú® I/O ËÆæÂ§á‰∏éÂæÆÂ§ÑÁêÜÂô®‰πãÈó¥‰º†ÈÄí„ÄÇ</li>
<li>IN Êåá‰ª§Â∞ÜÂ§ñÈÉ® I/O ËÆæÂ§áÁöÑÊï∞ÊçÆËØªÂÖ• AL„ÄÅAX Êàñ EAXÔºå‰æãÂ¶Ç IN AL, 19H</li>
<li>OUT Êåá‰ª§Â∞Ü AL„ÄÅAX Êàñ EAX ÁöÑÊï∞ÊçÆËæìÂá∫Âà∞Â§ñÈÉ® I/O ËÆæÂ§áÔºå‰æãÂ¶Ç OUT 32H, AX</li>
<li>Âè™Êúâ 80386 Âèä‰ª•‰∏äÂ§ÑÁêÜÂô®ÂåÖÂê´ EAX ÂØÑÂ≠òÂô®</li>
</ul>
<p>Êåá‰ª§ÈÄöÂ∏∏Â≠òÂÇ®Âú® ROMÔºàÂè™ËØªÂ≠òÂÇ®Âô®Ôºâ‰∏≠„ÄÇ</p>
<ul>
<li>Â≠òÂÇ®Âú® ROM ‰∏≠ÁöÑÂÆöÁ´ØÂè£Ôºàfixed-portÔºâÊåá‰ª§ÔºåÁî±‰∫é ROM ÁöÑÂè™ËØªÂ±ûÊÄßÔºåÂÖ∂Á´ØÂè£Âè∑ÊòØÊ∞∏‰πÖÂõ∫ÂÆöÁöÑ</li>
<li>Â≠òÂÇ®Âú® RAM ‰∏≠ÁöÑÂÆöÁ´ØÂè£Âú∞ÂùÄÂèØ‰ª•Ë¢´Êõ¥ÊîπÔºå‰ΩÜËøôÁßçÂÅöÊ≥ïÂπ∂‰∏çÁ¨¶ÂêàËâØÂ•ΩÁöÑÁºñÁ®ã‰π†ÊÉØ„ÄÇI/O Êìç‰ΩúÊúüÈó¥ÔºåÁ´ØÂè£Âú∞ÂùÄ‰ºöÂá∫Áé∞Âú®Âú∞ÂùÄÊÄªÁ∫ø‰∏ä„ÄÇ</li>
</ul>
<p>I/O Á´ØÂè£ÂØªÂùÄÊúâ‰∏§ÁßçÂΩ¢ÂºèÔºö</p>
<ul>
<li>Âõ∫ÂÆöÁ´ØÂè£ÂØªÂùÄÔºàfixed-port addressingÔºâÔºöÂÖÅËÆ∏‰ΩøÁî® 8 ‰Ωç I/O Á´ØÂè£Âú∞ÂùÄÔºàÂ¶Ç IN AL, 12H Êàñ OUT 25H, AXÔºâÂú® AL„ÄÅAX Êàñ EAX ÂíåÁ´ØÂè£‰πãÈó¥‰º†ËæìÊï∞ÊçÆ</li>
<li>
<p>Á´ØÂè£Âè∑ÊòØÁ¥ßË∑üÂú®Êåá‰ª§Êìç‰ΩúÁ†ÅÂêéÁöÑ‰∏Ä‰∏™Â≠óËäÇÁ´ãÂç≥Êï∞Ôºà00h Âà∞ FFhÔºâ</p>
</li>
<li>
<p>ÂèØÂèòÁ´ØÂè£ÂØªÂùÄÔºàvariable-port addressingÔºâÔºöÂÖÅËÆ∏Âú® AL„ÄÅAX Êàñ EAX ‰∏é 16 ‰ΩçÁ´ØÂè£Âú∞ÂùÄ‰πãÈó¥‰º†ÈÄíÊï∞ÊçÆÔºàÂ¶Ç IN AL, DX Êàñ OUT DX, AXÔºâ</p>
</li>
<li>I/O Á´ØÂè£Âè∑Â≠òÂÇ®Âú® DX ÂØÑÂ≠òÂô®‰∏≠Ôºà0000h Âà∞ FFFFhÔºâÔºåÂπ∂‰∏îÂèØÂú®Á®ãÂ∫èÊâßË°åËøáÁ®ã‰∏≠Âä®ÊÄÅÊîπÂèò</li>
</ul>
<div align="center">
<img src="../img/chap4/OUT_exp.png" width="500">
</div>

<p>ËØ•ÂõæÂ±ïÁ§∫‰∫ÜÊåá‰ª§ OUT 19H,AX ÁöÑÊâßË°åËøáÁ®ãÔºåÂç≥Â∞Ü AX ÁöÑÂÜÖÂÆπËæìÂá∫Âà∞ I/O Á´ØÂè£ 19H„ÄÇOUT Êåá‰ª§‰∏≠‰ΩøÁî®ÁöÑÊ∫êÂØÑÂ≠òÂô®ÂÜ≥ÂÆö‰∫ÜÁ´ØÂè£ÁöÑÊï∞ÊçÆÂÆΩÂ∫¶</p>
<div align="center">
<img src="../img/chap4/IN_OUT.png" width="500">
<center> IN and OUT instructions</center>
</div>

<div class="admonition example">
<p class="admonition-title">Example</p>
<p>‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ±ïÁ§∫‰∫Ü‰∏Ä‰∏™ËÆ©ÁîµËÑëÊâ¨Â£∞Âô®ÂèëÂá∫‚ÄúÂíîÂìí‚ÄùÂ£∞ÁöÑÁ®ãÂ∫è„ÄÇ
- Âú® DOS ‰∏ãÔºåÊâ¨Â£∞Âô®ÈÄöËøáËÆøÈóÆ I/O Á´ØÂè£ 61H ÊéßÂà∂„ÄÇÂ¶ÇÊûúËØ•Á´ØÂè£ÁöÑÊúÄ‰Ωé‰∏§‰ΩçË¢´ËÆæÁΩÆ‰∏∫ 1Ôºà11ÔºâÔºåÁÑ∂ÂêéÂÜçÊ∏ÖÈõ∂‰∏∫ 0Ôºà00ÔºâÔºåÊâ¨Â£∞Âô®Â∞±‰ºöÂèëÂá∫ÂíîÂìíÂ£∞„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nf">.MODEL</span><span class="w"> </span><span class="nv">TINY</span><span class="w">               </span><span class="c1">; ÈÄâÊã© TINY Ê®°Âûã</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nf">.CODE</span><span class="w">                     </span><span class="c1">; ÂºÄÂßã‰ª£Á†ÅÊÆµ</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nf">.STARTUP</span><span class="w">                 </span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nf">IN</span><span class="w">   </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="mh">61H</span><span class="w">         </span><span class="c1">; ‰ªéÁ´ØÂè£ 61H ËØªÂÖ• AL</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="nf">OR</span><span class="w">   </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w">           </span><span class="c1">; ‰ª§ÊúÄ‰Ωé‰∏§‰ΩçÂèò‰∏∫ 1ÔºåÂºÄÂêØÊâ¨Â£∞Âô®</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="nf">OUT</span><span class="w">  </span><span class="mh">61H</span><span class="p">,</span><span class="w"> </span><span class="nb">AL</span><span class="w">         </span><span class="c1">; ÂÜôÂõûÂà∞Á´ØÂè£ 61H</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">  </span><span class="nb">CX</span><span class="p">,</span><span class="w"> </span><span class="mh">8000H</span><span class="w">       </span><span class="c1">; Âª∂Êó∂ÔºàÂæ™ÁéØÊ¨°Êï∞ÂèØ‰ª•Ë∞ÉÊï¥Ôºâ32768Ê¨°Ôºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÂæàÁü≠ÂæàÁü≠</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="nl">L1:</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="nf">LOOP</span><span class="w"> </span><span class="nv">L1</span><span class="w">              </span><span class="c1">; Âæ™ÁéØÈÄ†Êàê‰∏ÄÂÆöÂª∂Êó∂</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="nf">IN</span><span class="w">   </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="mh">61H</span><span class="w">         </span><span class="c1">; ÈáçÊñ∞‰ªé 61H Á´ØÂè£ËØª AL</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="nf">AND</span><span class="w">  </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="mh">0FCH</span><span class="w">        </span><span class="c1">; ‰ª§ÊúÄ‰Ωé‰∏§‰ΩçÊ∏ÖÈõ∂ÔºåÂÖ≥Èó≠Êâ¨Â£∞Âô®</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="nf">OUT</span><span class="w">  </span><span class="mh">61H</span><span class="p">,</span><span class="w"> </span><span class="nb">AL</span><span class="w">         </span><span class="c1">; ÂÜôÂõûÁ´ØÂè£ 61H</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="nf">.EXIT</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="nf">END</span>
</span></code></pre></div>
</div>
<h3 id="movsx-and-movzx">MOVSX and MOVZX<a class="headerlink" href="#movsx-and-movzx" title="Permanent link">&para;</a></h3>
<p>MOVZXÔºàÁßªÂä®Âπ∂Èõ∂Êâ©Â±ïÔºâÂíå MOVSXÔºàÁßªÂä®Âπ∂Á¨¶Âè∑Êâ©Â±ïÔºâÊåá‰ª§Âá∫Áé∞Âú® 80386 Âà∞ Pentium 4 ÁöÑÊåá‰ª§ÈõÜ‰∏≠„ÄÇ‰æãÂ¶ÇÔºö</p>
<ul>
<li>Â¶ÇÊûúÂ∞Ü‰∏Ä‰∏™ 8 ‰ΩçÁöÑ 8FH ËøõË°åÈõ∂Êâ©Â±ï‰∏∫ 16 ‰ΩçÊï∞ÊçÆÔºåÂàôÂæóÂà∞ 008FH„ÄÇ</li>
<li>Â¶ÇÊûúÂ∞Ü‰∏Ä‰∏™ 8 ‰ΩçÁöÑ 8FH ËøõË°åÁ¨¶Âè∑Êâ©Â±ï‰∏∫ 16 ‰ΩçÊï∞ÊçÆÔºåÂàôÂæóÂà∞ FF8FH„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/MOVSX_MOVZX.png" width="500">
</div>

<div align="center">
<img src="../img/chap4/MOVSX_MOVZX_inst.png" width="500">
</div>

<h3 id="bswap">BSWAP<a class="headerlink" href="#bswap" title="Permanent link">&para;</a></h3>
<p>BSWAPÔºàÂ≠óËäÇ‰∫§Êç¢ÔºâÊåá‰ª§Áî®‰∫éÂèçËΩ¨32‰ΩçÊàñ64‰ΩçÂØÑÂ≠òÂô®Êìç‰ΩúÊï∞‰∏≠ÁöÑÂ≠óËäÇÈ°∫Â∫è„ÄÇ</p>
<ul>
<li>BSWAPÊåá‰ª§Â∏∏Áî®‰∫éÂú®Â§ßÁ´ØÂíåÂ∞èÁ´ØÊ†ºÂºè‰πãÈó¥ËΩ¨Êç¢Êï∞ÊçÆ„ÄÇ</li>
<li>ÂÆÉÂ∞Ü‰ªªÊÑè32‰ΩçÂØÑÂ≠òÂô®‰∏≠ÁöÑÁ¨¨1‰∏™Â≠óËäÇ‰∏éÁ¨¨4‰∏™Â≠óËäÇ‰∫§Êç¢ÔºåÁ¨¨2‰∏™Â≠óËäÇ‰∏éÁ¨¨3‰∏™Â≠óËäÇ‰∫§Êç¢„ÄÇ</li>
<li>‰æãÂ¶ÇÔºåBSWAP EAX Êåá‰ª§Âú® EAX=12345678H Êó∂Ôºå‰∫§Êç¢Âêé EAX=78563412H„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/BSWAP.png" width="400">
</div>

<p>‰∏ç‰ΩøÁî® BSWAP ÁöÑÊ≠£Á°ÆÂ≠óËäÇ‰∫§Êç¢ÊñπÊ≥ïÊòØÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nf">XCHG</span><span class="w"> </span><span class="nb">AH</span><span class="p">,</span><span class="w"> </span><span class="nb">AL</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nf">ROR</span><span class="w"> </span><span class="nb">EAX</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="c1">; rotate right of EAX</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="nf">XCHG</span><span class="w"> </span><span class="nb">AH</span><span class="p">,</span><span class="w"> </span><span class="nb">AL</span>
</span></code></pre></div>
<p>Âú®64‰ΩçÊìç‰ΩúÔºàÂ§ÑÁêÜ‰∏Ä‰∏™ÂõõÂ≠óËäÇÊï∞ÊçÆÔºâÊó∂Ôºå‰Ωç7:0‰∏é‰Ωç63:56‰∫§Êç¢Ôºå‰Ωç15:8‰∏é‰Ωç55:48‰∫§Êç¢Ôºå‰Ωç23:16‰∏é‰Ωç47:40‰∫§Êç¢Ôºå‰Ωç31:24‰∏é‰Ωç39:32‰∫§Êç¢„ÄÇÂú®64‰ΩçÊ®°Âºè‰∏ãÔºåËØ•Êåá‰ª§ÁöÑÈªòËÆ§Êìç‰ΩúÊï∞Â§ßÂ∞è‰∏∫32‰Ωç„ÄÇÈÄöËøá‰ΩøÁî®REXÂâçÁºÄÔºåÂèØ‰ª•ËÆøÈóÆÊõ¥Â§öÂØÑÂ≠òÂô®ÔºàR8-R15Ôºâ„ÄÇ</p>
<table>
<thead>
<tr>
<th>Instruction</th>
<th>OPcode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BSWAP reg32</td>
<td>0F C8 + rd</td>
<td>Reverses the byte order of a 32-bit register</td>
</tr>
<tr>
<td>BSWAP reg64</td>
<td>REX.W + 0F C8 + rd</td>
<td>Reverses the byte order of a 64-bit register</td>
</tr>
</tbody>
</table>
<p>Âú®‚ÄúOpcode‚ÄùÂàó‰∏≠Ôºå+rd Ë°®Á§∫Êìç‰ΩúÁ†ÅÂ≠óËäÇÁöÑ‰Ωé‰∏â‰ΩçÁî®‰∫éÁºñÁ†ÅÂØÑÂ≠òÂô®Êìç‰ΩúÊï∞ÔºåËÄåÊó†ÈúÄ‰ΩøÁî® modR/M Â≠óËäÇÔºå</p>
<div align="center">
<img src="../img/chap4/BSWAP_inst.png" width="400">
</div>

<p>OpcodeÔºàÊìç‰ΩúÁ†ÅÔºâÔºö0F C8 ÊòØÂü∫Á°ÄÊìç‰ΩúÁ†Å„ÄÇ</p>
<blockquote>
<p>ÂØÑÂ≠òÂô® ID (0-7)ÔºöRAX=0, RCX=1, RDX=2, RBX=3, RSP=4, RBP=5, RSI=6, RDI=7„ÄÇ</p>
</blockquote>
<p>+rd ÁöÑÂê´‰πâÔºöËøôÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÁºñÁ†ÅÊñπÂºè„ÄÇÈÄöÂ∏∏ x86 Êåá‰ª§ÈúÄË¶Å‰∏Ä‰∏™È¢ùÂ§ñÁöÑÂ≠óËäÇÔºàModR/MÔºâÊù•ÊåáÂÆöÊìç‰ΩúÊï∞ÂØÑÂ≠òÂô®Ôºå‰ΩÜ‰∏∫‰∫ÜËäÇÁúÅÁ©∫Èó¥ÔºåÊüê‰∫õÊåá‰ª§ÂÖÅËÆ∏Â∞ÜÂØÑÂ≠òÂô®ÁöÑ ID Áõ¥Êé•Âä†Âà∞Êìç‰ΩúÁ†ÅÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óËäÇ‰∏ä„ÄÇËøôÈáåÁúüÁöÑÊòØÂä†Ê≥ï„ÄÇ</p>
<p>ÂØπ16‰ΩçÂØÑÂ≠òÂô®‰ΩøÁî®BSWAPÊåá‰ª§ÁöÑÁªìÊûúÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ</p>
<ul>
<li>Ëã•Ë¶Å‰∫§Êç¢16‰ΩçÂØÑÂ≠òÂô®ÁöÑ‰∏§‰∏™Â≠óËäÇÔºåÂ∫î‰ΩøÁî®XCHGÊåá‰ª§„ÄÇ</li>
<li>‰æãÂ¶ÇÔºåË¶Å‰∫§Êç¢AXÂØÑÂ≠òÂô®ÁöÑÈ´ò‰ΩéÂ≠óËäÇÔºåÂèØ‰ΩøÁî®XCHG AL, AH„ÄÇ</li>
</ul>
<h3 id="cmov">CMOV<a class="headerlink" href="#cmov" title="Permanent link">&para;</a></h3>
<p>ÊØè‰∏™ CMOVcc Êåá‰ª§Âú® EFLAGS ÂØÑÂ≠òÂô®ÔºàCF„ÄÅOF„ÄÅPF„ÄÅSF Âíå ZFÔºâ‰∏≠ÁöÑÊ†áÂøó‰ΩçÂ§Ñ‰∫éÁâπÂÆöÁä∂ÊÄÅÔºàÊàñÊù°‰ª∂ÔºâÊó∂ÊâçÊâßË°åÊï∞ÊçÆÁßªÂä®Êìç‰Ωú„ÄÇ</p>
<ul>
<li>ÊØèÊù°Êåá‰ª§ÈÉΩÂ∏¶Êúâ‰∏Ä‰∏™Êù°‰ª∂Á†ÅÔºàccÔºâÔºåÁî®‰∫éÊåáÁ§∫Ë¶ÅÊ£ÄÊµãÁöÑÊù°‰ª∂„ÄÇ</li>
<li>Âè™ÊúâÂú®Êù°‰ª∂‰∏∫ÁúüÊó∂ÔºåÊâçËøõË°åÊï∞ÊçÆÁßªÂä®„ÄÇ</li>
<li>Â¶ÇÊûúÊù°‰ª∂‰∏çÊª°Ë∂≥ÔºåÂàô‰∏çËøõË°åÁßªÂä®ÔºåÁ®ãÂ∫èÁªßÁª≠ÊâßË°å CMOVcc Êåá‰ª§ÂêéÁöÑ‰∏ã‰∏ÄÊù°Êåá‰ª§„ÄÇ</li>
<li>‰æãÂ¶ÇÔºåCMOVZ Êåá‰ª§Âè™Âú®Ââç‰∏ÄÊù°Êåá‰ª§ÁöÑÁªìÊûú‰∏∫Èõ∂Êó∂ÊâçÁßªÂä®Êï∞ÊçÆ„ÄÇ</li>
<li>ÁõÆÁöÑÊìç‰ΩúÊï∞Âè™ËÉΩÊòØ16‰Ωç„ÄÅ32‰ΩçÊàñ64‰ΩçÁöÑÂØÑÂ≠òÂô®Ôºå‰ΩÜÊ∫êÊìç‰ΩúÊï∞ÂèØ‰ª•ÊòØ16‰Ωç„ÄÅ32‰ΩçÊàñ64‰ΩçÁöÑÂØÑÂ≠òÂô®ÊàñÂÜÖÂ≠ò‰ΩçÁΩÆ„ÄÇ</li>
<li>Áî±‰∫éËøôÊòØÊñ∞ÂºïÂÖ•ÁöÑÊåá‰ª§ÔºåËã•Ë¶ÅÂú®Ê±áÁºñÂô®‰∏≠‰ΩøÁî®ÂÆÉÔºåÂøÖÈ°ªÂú®Á®ãÂ∫è‰∏≠Ê∑ªÂä† .686 ÂºÄÂÖ≥„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/CMOV.png" width="400">
</div>

<p>CMOV Êåá‰ª§ÁöÑÁõÆÁöÑÊòØÈÅøÂÖç‰ΩøÁî®ÂàÜÊîØÊåá‰ª§„ÄÇ ÂΩì CPU ÈÅáÂà∞ÂàÜÊîØÔºà‰æãÂ¶Ç JNEÔºâÊó∂Ôºå‰ºöÈ¢ÑÊµãÂàÜÊîØÊòØÂê¶‰ºöË¢´ÊâßË°åÔºåÂπ∂Âü∫‰∫éËØ•È¢ÑÊµãÂºÄÂßãÊé®ÊµãÊÄßÂú∞ÊâßË°åÂêéÁª≠Êåá‰ª§„ÄÇ</p>
<p>Â¶ÇÊûúÈ¢ÑÊµãÈîôËØØÔºå‰ºö‰∫ßÁîüÊÄßËÉΩÊçüÂ§±ÔºåÂõ†‰∏∫CPUÈúÄË¶Å‰∏¢ÂºÉÊâÄÊúâÂ∑≤Êé®ÊµãÊâßË°åÁöÑÂ∑•‰ΩúÔºåÁÑ∂ÂêéÈáçÊñ∞Ëé∑ÂèñÂπ∂ÊâßË°åÊ≠£Á°ÆÁöÑË∑ØÂæÑ„ÄÇ</p>
<p>ÂØπ‰∫éÊù°‰ª∂ËµãÂÄºÊåá‰ª§ÔºàÂ¶Ç CMOVE eax, edxÔºâÔºåCPU Êó†ÈúÄÁåúÊµãÂ∞ÜÊâßË°åÂì™ÊÆµ‰ª£Á†ÅÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÅøÂÖçÂõ†ÂàÜÊîØÈ¢ÑÊµãÂ§±Ë¥•Â∏¶Êù•ÁöÑ‰ª£‰ª∑„ÄÇ</p>
<p>ÂÅáËÆæÈúÄË¶ÅÊ†πÊçÆ <code>condition</code>ÔºåÂÜ≥ÂÆöÂèòÈáè <code>a</code> ÊòØË¢´ËµãÂÄº‰∏∫ <code>b</code> ËøòÊòØ <code>c</code>ÔºåÂèØÁî®‰º†ÁªüÁöÑÂàÜÊîØÂÆûÁé∞Ôºå‰πüÂèØÁî®Êó†ÂàÜÊîØÁöÑ CMOV Êåá‰ª§Ôºö</p>
<div class="language-c highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nf">cmp</span><span class="w">   </span><span class="nv">condition</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nf">jz</span><span class="w">    </span><span class="nv">else</span><span class="w">        </span><span class="c1">; Ëã•condition‰∏∫0ÔºåË∑≥ËΩ¨Âà∞else</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nf">mov</span><span class="w">   </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w">        </span><span class="c1">; if ÈÉ®ÂàÜÔºåa = b</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="nf">jmp</span><span class="w">   </span><span class="nv">endif</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="nl">else:</span><span class="w"> </span><span class="nf">mov</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w">    </span><span class="c1">; else ÈÉ®ÂàÜÔºåa = c</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="nl">endif:</span>
</span></code></pre></div>
<p><div class="language-asm highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nf">cmp</span><span class="w">    </span><span class="nv">condition</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="nf">mov</span><span class="w">    </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="w">       </span><span class="c1">; ÈªòËÆ§ËµãÂÄº‰∏∫cÔºàelseÈÉ®ÂàÜÔºâ</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nf">cmovnz</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w">       </span><span class="c1">; Ëã•conditionÈùûÈõ∂ÔºåÂàôa = bÔºàÂè™Âú®ZF=0Êó∂ËµãÂÄºÔºâ</span>
</span></code></pre></div>
ÂÖ∂‰∏≠ <code>cmovnz</code> Ë°®Á§∫‚Äúzero flag ‰∏ç‰∏∫Èõ∂ÔºåÂàôËµãÂÄº‚Äù„ÄÇÂÖ∂ÂÆÉÊù°‰ª∂ÂèØÂèÇËÄÉCMOVÂÆ∂ÊóèÔºàÂ¶Çcmovz„ÄÅcmovgÁ≠âÔºâ„ÄÇ</p>
<p>Ê≠§Â§ñÔºåCMOVcc Êåá‰ª§ËÉΩÂ§üÂ∞ÜÊéßÂà∂‰æùËµñËΩ¨Âåñ‰∏∫Êï∞ÊçÆ‰æùËµñÔºåÂπ∂Â∞ÜÂ§öÊù°Ë∑ØÂæÑ‰∏äÁöÑÊåá‰ª§ÂêàÂπ∂Âà∞Âêå‰∏Ä‰∏™Âü∫Êú¨Âùó‰∏≠„ÄÇËøô‰ΩøÂæóÂü∫Êú¨ÂùóÂåÖÂê´‰∫ÜÊõ¥Â§öÊåá‰ª§Ôºå‰ªéËÄåÊâ©Â±ï‰∫ÜÊåá‰ª§Ë∞ÉÂ∫¶ÁöÑÁ©∫Èó¥„ÄÇ</p>
<h2 id="segment-override-prefix">SEGMENT OVERRIDE PREFIX<a class="headerlink" href="#segment-override-prefix" title="Permanent link">&para;</a></h2>
<p>Âá†‰πéÂèØ‰ª•Ê∑ªÂä†Âà∞‰ªª‰ΩïÂØªÂùÄÊ®°Âºè‰∏ãÁöÑÊåá‰ª§‰∏≠„ÄÇ  </p>
<ul>
<li>ÂÖÅËÆ∏Á®ãÂ∫èÂëòÂÅèÁ¶ªÈªòËÆ§ÁöÑÊÆµËøõË°åËÆøÈóÆ„ÄÇ</li>
<li>ÂîØ‰∏Ä‰∏çËÉΩÂä†ÂâçÁºÄÁöÑÊåá‰ª§ÊòØ‰ΩøÁî®‰ª£Á†ÅÊÆµÂØÑÂ≠òÂô®ËøõË°åÂú∞ÂùÄÁîüÊàêÁöÑË∑≥ËΩ¨ÂíåË∞ÉÁî®Êåá‰ª§„ÄÇ(<code>JMP label</code> Âíå <code>CALL label</code>)</li>
<li>ÈÄöËøáÂú®Êåá‰ª§ÂºÄÂ§¥Ê∑ªÂä†‰∏Ä‰∏™È¢ùÂ§ñÁöÑÂ≠óËäÇÔºåÊù•ÈÄâÊã©Â§áÁî®ÊÆµÂØÑÂ≠òÂô®„ÄÇ</li>
</ul>
<div align="center">
<img src="../img/chap4/SEGMENT_OVERRIDE.png" width="400">
</div>

<h3 id="directives-vs-instructions">Directives Vs Instructions<a class="headerlink" href="#directives-vs-instructions" title="Permanent link">&para;</a></h3>
<div class="admonition info">
<p class="admonition-title">ASSEMBLER DETAIL</p>
<p>Ê±áÁºñÂô®Êúâ‰∏§Áßç‰ΩøÁî®ÊñπÂºèÔºö</p>
<ul>
<li>‰∏ÄÁßçÊòØ‰ΩøÁî®ÁâπÂÆöÊ±áÁºñÂô®Áã¨ÊúâÁöÑ‚ÄúÊ®°Âûã‚Äù</li>
<li>Âè¶‰∏ÄÁßçÊòØ‰ΩøÁî®ÂÆåÊï¥ÁöÑÊÆµÂÆö‰πâÔºåËøôÂÖÅËÆ∏ÂØπÊ±áÁºñËøáÁ®ãËøõË°åÂÖ®Èù¢ÊéßÂà∂ÔºåÂπ∂‰∏îÂØπÊâÄÊúâÊ±áÁºñÂô®ÈÉΩÊòØÈÄöÁî®ÁöÑ</li>
</ul>
</div>
<p>Ê±áÁºñËØ≠Ë®ÄËØ≠Âè•ÂàÜ‰∏∫‰∏§Á±ªÔºö‰º™Êåá‰ª§ÔºàdirectivesÔºâÂíåÊåá‰ª§ÔºàinstructionsÔºâ„ÄÇ</p>
<ul>
<li>‰º™Êåá‰ª§ÔºöÂëäËØâÊ±áÁºñÂô®Â¶Ç‰ΩïÂ∑•‰ΩúÔºåÊØîÂ¶ÇÁîüÊàêÊú∫Âô®Á†Å„ÄÅÂàÜÈÖçÂ≠òÂÇ®Á©∫Èó¥Á≠â„ÄÇÂè™Âú®Ê±áÁºñÊó∂Ëµ∑‰ΩúÁî®ÔºåÊú¨Ë∫´‰∏ç‰ºöÁîüÊàê‰ªª‰ΩïÊú∫Âô®‰ª£Á†Å„ÄÇ</li>
<li>Êåá‰ª§ÔºöÂëäËØâCPUË¶ÅÂÅö‰ªÄ‰πàÔºå‰ºöË¢´Ê±áÁºñ‰∏∫Êú∫Âô®Á†ÅÔºåÂπ∂ÊúÄÁªàÈìæÊé•Âà∞ÂèØÊâßË°åÊñá‰ª∂‰∏≠„ÄÇÂú®Á®ãÂ∫èËøêË°åÊó∂Áî±CPUÊâßË°å„ÄÇ</li>
</ul>
<h4 id="directives-in-masm">Directives in MASM<a class="headerlink" href="#directives-in-masm" title="Permanent link">&para;</a></h4>
<p>ÊåáÁ§∫Ê±áÁºñÂô®Â¶Ç‰ΩïÂ§ÑÁêÜÊìç‰ΩúÊï∞ÊàñÁ®ãÂ∫èÁöÑÊüê‰∏ÄÈÉ®ÂàÜ„ÄÇÊúâ‰∫õ‰º™Êåá‰ª§‰ºöÂú®ÂÜÖÂ≠ò‰∏≠ÁîüÊàêÂπ∂Â≠òÂÇ®‰ø°ÊÅØÔºåËÄåÊúâ‰∫õÂàô‰∏ç‰ºö„ÄÇ</p>
<p>‰æãÂ¶ÇÔºö</p>
<ul>
<li>BYTE PTR Áî®‰∫éÊåáÊòéÊåáÈíàÊàñÂèòÂùÄÂØÑÂ≠òÂô®ÊâÄÂºïÁî®ÁöÑÊï∞ÊçÆÂ§ßÂ∞è„ÄÇ</li>
<li>DBÔºàÂÆö‰πâÂ≠óËäÇÔºâÊåá‰ª§Áî®‰∫éÂú®ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®Â≠óËäÇÊï∞ÊçÆ„ÄÇ</li>
</ul>
<table>
<thead>
<tr>
<th>Ëã±ÊñáÂàÜÁ±ª (Category)</th>
<th>‰∏≠ÊñáÂàÜÁ±ª</th>
<th>Êåá‰ª§/ÂÖ≥ÈîÆÂ≠ó</th>
<th>ÁÆÄË¶ÅËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data Allocation</td>
<td>Êï∞ÊçÆÂÆö‰πâ/ÂàÜÈÖç</td>
<td>DB, DW, DD, DQ, DT</td>
<td>ÂàÜÈÖçÂπ∂ÂàùÂßãÂåñÂÜÖÂ≠òÊï∞ÊçÆ<br>‚Ä¢ <code>DB</code>: 8 ‰ΩçÂ≠óËäÇ<br>‚Ä¢ <code>DW</code>: 16 ‰ΩçÂ≠ó<br>‚Ä¢ <code>DD</code>: 32 ‰ΩçÂèåÂ≠ó<br>‚Ä¢ <code>DQ</code>: 64 ‰ΩçÂõõÂ≠ó<br>‚Ä¢ <code>DT</code>: 80 ‰ΩçÂçÅÂ≠óËäÇ</td>
</tr>
<tr>
<td>Structure</td>
<td>ÁªìÊûÑ‰ΩìÂÆö‰πâ</td>
<td>STRUCT, RECORD</td>
<td>ÂÆö‰πâÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑ<br>‚Ä¢ <code>STRUCT</code>: Á±ª‰ºº C ËØ≠Ë®Ä struct<br>‚Ä¢ <code>RECORD</code>: ÂÆö‰πâ‰ΩçÂüü(bit fields)</td>
</tr>
<tr>
<td>Code Labels</td>
<td>Âú∞ÂùÄ/Ê†áÁ≠æÊéßÂà∂</td>
<td>ALIGN, ORG</td>
<td>ÊéßÂà∂ÂÜÖÂ≠òÂØπÈΩêÂíåÂÅèÁßªÂú∞ÂùÄ<br>‚Ä¢ <code>ALIGN</code>: ÂÜÖÂ≠òÂØπÈΩêÔºàÂ¶Ç 4 Â≠óËäÇÔºâ<br>‚Ä¢ <code>ORG</code>: ËÆæÁΩÆÂΩìÂâçÂÅèÁßªÂú∞ÂùÄ</td>
</tr>
<tr>
<td>Segment</td>
<td>Ê†áÂáÜÊÆµÂÆö‰πâ</td>
<td>SEGMENT, ENDS, ASSUME</td>
<td>ÂÆåÊï¥ÊÆµÂÆö‰πâÊñπÂºè<br>‚Ä¢ <code>SEGMENT</code>/<code>ENDS</code>: ÊÆµÂºÄÂßã‰∏éÁªìÊùü<br>‚Ä¢ <code>ASSUME</code>: ÂÖ≥ËÅîÊÆµÂØÑÂ≠òÂô®</td>
</tr>
<tr>
<td>Simplified Segment</td>
<td>ÁÆÄÂåñÊÆµÂÆö‰πâ</td>
<td>.CODE, .DATA, .STACK, .MODEL, .EXIT</td>
<td>ÁÆÄÂåñÊÆµÂÆö‰πâÊñπÂºè<br>‚Ä¢ <code>.MODEL</code>: ÂÜÖÂ≠òÊ®°Âûã<br>‚Ä¢ <code>.CODE</code>/<code>.DATA</code>: Âø´ÈÄüÂÆö‰πâÊÆµ<br>‚Ä¢ <code>.EXIT</code>: Á®ãÂ∫èÈÄÄÂá∫</td>
</tr>
<tr>
<td>Procedures</td>
<td>ËøáÁ®ãÔºàÂáΩÊï∞Ôºâ</td>
<td>PROC, ENDP</td>
<td>Â≠êÁ®ãÂ∫èÂÆö‰πâ<br>‚Ä¢ <code>PROC</code>: ËøáÁ®ãÂºÄÂßã<br>‚Ä¢ <code>ENDP</code>: ËøáÁ®ãÁªìÊùü</td>
</tr>
<tr>
<td>Macros</td>
<td>ÂÆè</td>
<td>MACRO, ENDM</td>
<td>ÂÆèÂÆö‰πâ‰∏éÁªìÊùü<br>‚Ä¢ <code>MACRO</code>: ÂÆèÂÆö‰πâÂºÄÂßã<br>‚Ä¢ <code>ENDM</code>: ÂÆèÂÆö‰πâÁªìÊùü</td>
</tr>
<tr>
<td>Miscellaneous</td>
<td>ÊùÇÈ°π/ÂÖ∂‰ªñ</td>
<td>EQU, INCLUDE</td>
<td>ÊùÇÈ°πËæÖÂä©Êåá‰ª§<br>‚Ä¢ <code>EQU</code>: Á¨¶Âè∑Â∏∏Èáè<br>‚Ä¢ <code>INCLUDE</code>: ÂåÖÂê´ÂÖ∂‰ªñÊ∫êÊñá‰ª∂</td>
</tr>
<tr>
<td>Processor</td>
<td>Â§ÑÁêÜÂô®Êåá‰ª§ÈõÜ</td>
<td>.386, .486, .586</td>
<td>ÊåáÂÆöÂèØÁî® CPU Êåá‰ª§ÈõÜ<br>Â¶Ç <code>.386</code> ÂÖÅËÆ∏ 32 ‰ΩçÂØÑÂ≠òÂô®ÔºàEAXÔºâ</td>
</tr>
</tbody>
</table>
<h4 id="storing-data-in-memory">Storing Data in Memory<a class="headerlink" href="#storing-data-in-memory" title="Permanent link">&para;</a></h4>
<p>DBÔºàDefine ByteÔºâ„ÄÅDWÔºàDefine WordÔºâ„ÄÅDDÔºàDefine DoublewordÔºâÊòØ MASM ‰∏≠ÊúÄÂ∏∏Áî®Êù•ÂÆö‰πâÂíåÂ≠òÂÇ®ÂÜÖÂ≠òÊï∞ÊçÆÁöÑÊåá‰ª§„ÄÇ</p>
<ul>
<li>Â¶ÇÊûúÁ≥ªÁªü‰∏≠ÊúâÊï∞ÂÄºÂçèÂ§ÑÁêÜÂô®ÔºåDQÔºàDefine QuadwordÔºâÂíå DTÔºàDefine Ten BytesÔºâÊåá‰ª§‰πüÂæàÂ∏∏ËßÅ„ÄÇ</li>
<li>Ëøô‰∫õÊåá‰ª§‰ºö‰∏∫ÂÜÖÂ≠ò‰ΩçÁΩÆÂàÜÈÖç‰∏Ä‰∏™Á¨¶Âè∑ÂêçÁß∞ÔºåÂπ∂ÊåáÊòéÂÖ∂Â§ßÂ∞è„ÄÇ</li>
<li>DUP Êåá‰ª§ÂèØÁî®‰∫éÂ∞ÜÂ§ö‰∏™ÂàùÂßãÂÄºËÆæÁΩÆ‰∏∫Âêå‰∏Ä‰∏™ÂÄº„ÄÇ‰æãÂ¶ÇÔºöDB 100 DUP(6) ‰ºöÂàÜÈÖç 100 ‰∏™Â≠óËäÇÔºåÊØè‰∏™Â≠óËäÇÁöÑÂÄºÂùá‰∏∫ 6„ÄÇ</li>
<li>‰ΩøÁî® ‚ÄúÔºü‚Äù ‰Ωú‰∏∫ DB„ÄÅDW Êàñ DD Êåá‰ª§ÁöÑÊìç‰ΩúÊï∞Êó∂Ôºå‰ºö‰øùÁïôÂÜÖÂ≠òÁ©∫Èó¥‰ΩÜ‰∏çÂØπÂÖ∂ËøõË°åÂàùÂßãÂåñÔºåÊ±áÁºñÂô®‰ªÖ‰∏∫ÂÖ∂ÂàÜÈÖç‰ΩçÁΩÆÔºå‰∏çËµãÂÖ∑‰ΩìÂÄº„ÄÇ</li>
<li>ALIGN Êåá‰ª§Áî®‰∫éÂ∞Ü‰∏ã‰∏Ä‰∏™Êï∞ÊçÆÂÖÉÁ¥†ÊàñÊåá‰ª§ÂØπÈΩêÂà∞ÂÖ∂ÂèÇÊï∞ÔºàÂøÖÈ°ªÊòØ 2 ÁöÑÂπÇÔºåÂ¶Ç 1„ÄÅ2„ÄÅ4„ÄÅ8Ôºå‰∏î‰∏çÂ§ß‰∫éÊÆµÂØπÈΩêÂÄºÔºâÁöÑÊï¥Êï∞ÂÄçÂú∞ÂùÄ‰∏ä„ÄÇ</li>
</ul>
<p>‰∏ãÈù¢ÊòØ MASM ‰∏≠Â∏∏ËßÅÁöÑÊï∞ÊçÆÂÆö‰πâÂèäÂØπÈΩêÁ§∫‰æãÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nf">LIST_SEG</span><span class="w">  </span><span class="ow">SEG</span><span class="nv">MENT</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="nf">DATA1</span><span class="w">   </span><span class="nv">DB</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="w">           </span><span class="c1">; ÂÆö‰πâÂ≠óËäÇ</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">            </span><span class="kd">DB</span><span class="w">  </span><span class="mh">45H</span><span class="w">             </span><span class="c1">; ÂçÅÂÖ≠ËøõÂà∂Â≠óËäÇ</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="nf">DATA3</span><span class="w">   </span><span class="nv">DD</span><span class="w">  </span><span class="mh">300H</span><span class="w">            </span><span class="c1">; ÂÆö‰πâÂèåÂ≠óÔºàÂçÅÂÖ≠ËøõÂà∂Êï∞Ôºâ</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">            </span><span class="kd">DD</span><span class="w">  </span><span class="mf">2.123</span><span class="w">           </span><span class="c1">; ÂÆûÊï∞</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">            </span><span class="kd">DD</span><span class="w">  </span><span class="mf">3.34</span><span class="nv">E</span><span class="o">+</span><span class="mi">12</span><span class="w">        </span><span class="c1">; ÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÂÆûÊï∞</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="nf">LISTA</span><span class="w">   </span><span class="nv">DB</span><span class="w">  </span><span class="nv">?</span><span class="w">               </span><span class="c1">; Âè™‰øùÁïô 1 Â≠óËäÇÔºåÊú™ÂàùÂßãÂåñ</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="nf">LISTB</span><span class="w">   </span><span class="nv">DB</span><span class="w">  </span><span class="mi">10</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span><span class="w">       </span><span class="c1">; ‰øùÁïô 10 Â≠óËäÇÔºåÊú™ÂàùÂßãÂåñ</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="k">ALIGN</span><span class="w">   </span><span class="mi">2</span><span class="w">                   </span><span class="c1">; ËÆæÁΩÆÂ≠óÔºàwordÔºâÂØπÈΩê</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">    </span><span class="nf">LISTC</span><span class="w">   </span><span class="nv">DW</span><span class="w">  </span><span class="mh">100H</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">     </span><span class="c1">; ‰øùÁïô 100HÔºà256Ôºâ‰∏™Â≠óÔºåÂàùÂßãÂåñ‰∏∫ 0</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">    </span><span class="nf">LISTD</span><span class="w">   </span><span class="nv">DD</span><span class="w">  </span><span class="mi">22</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span><span class="w">       </span><span class="c1">; ‰øùÁïô 22 ‰∏™ÂèåÂ≠óÔºåÊú™ÂàùÂßãÂåñ</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="nf">LIST_SEG</span><span class="w">  </span><span class="nv">ENDS</span>
</span></code></pre></div>
<p>Â∞ÜÂ≠óÔºàwordÔºâÂ§ßÂ∞èÁöÑÊï∞ÊçÆÊîæÂú®Â≠óËæπÁïå‰∏ä„ÄÅÂèåÂ≠óÔºàdoublewordÔºâÂ§ßÂ∞èÁöÑÊï∞ÊçÆÊîæÂú®ÂèåÂ≠óËæπÁïå‰∏äÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇÂê¶ÂàôÔºåÂæÆÂ§ÑÁêÜÂô®Âú®ËÆøÈóÆËøô‰∫õÊï∞ÊçÆÁ±ªÂûãÊó∂‰ºöËä±Ë¥πÈ¢ùÂ§ñÁöÑÊó∂Èó¥„ÄÇ</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Please determine the value in the register AX after the instruction is executed.</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nf">.data</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kd">DB</span><span class="w"> </span><span class="mh">33H</span><span class="p">,</span><span class="w"> </span><span class="mh">34H</span><span class="p">,</span><span class="w"> </span><span class="mh">0AH</span><span class="p">,</span><span class="w"> </span><span class="mh">06H</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="kd">DW</span><span class="w"> </span><span class="mh">1B7CH</span><span class="p">,</span><span class="w"> </span><span class="mh">674CH</span><span class="p">,</span><span class="w"> </span><span class="mh">07H</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;12&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;1&#39;</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="nf">.code</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">ax</span><span class="p">,</span><span class="w"> </span><span class="err">@</span><span class="nv">data</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="nf">mov</span><span class="w"> </span><span class="nb">ds</span><span class="p">,</span><span class="w"> </span><span class="nb">ax</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="nf">xor</span><span class="w"> </span><span class="nb">si</span><span class="p">,</span><span class="w"> </span><span class="nb">si</span>
</span></code></pre></div>
<p>È¶ñÂÖàÔºå<code>@data</code> ÊòØ‰∏Ä‰∏™Á¨¶Âè∑ÔºåË°®Á§∫Êï∞ÊçÆÊÆµÁöÑËµ∑ÂßãÂú∞ÂùÄ„ÄÇ
mov ax, <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/data" title="GitHub User: data">@data</a> Â∞ÜÊï∞ÊçÆÊÆµÁöÑËµ∑ÂßãÂú∞ÂùÄÂ≠òÂÇ®Âà∞ AX ÂØÑÂ≠òÂô®‰∏≠„ÄÇÁÑ∂ÂêéÂ∞ÜÂÖ∂ËÆæÁΩÆ‰ΩçÊï∞ÊçÆÊÆµÁöÑÂÄºÔºåÊé•‰∏ãÊù•xor si, si Â∞Ü SI ÂØÑÂ≠òÂô®Ê∏ÖÈõ∂„ÄÇ</p>
<p>Ê≠§Êó∂Êï∞ÊçÆÊÆµÁöÑÂ∏ÉÂ±ÄÂíåÂÖ∂Â≠òÊîæÁöÑÂÄºÊòØËøôÊ†∑ÁöÑ,ËØ¶ÁªÜÁöÑËß£ÈáäËØ∑ÂèÇËÄÉ<a href="../mem_layout.html">ËøôÈáå</a></p>
<p><div align="center">
<img src="../img/chap4/mem_layout.png" width="400">
</div></p>
<ul>
<li><code>mov ax [si]</code>,‰ªéÊï∞ÊçÆÊÆµÂºÄÂ§¥ËØªÂèñ‰∏§‰∏™Â≠óËäÇÂà∞ax‰∏≠ÔºåÊ≥®ÊÑèÊòØÂ∞èÁ´ØÂ∫èÔºåax=<code>3433H</code></li>
<li><code>mov ax [si+4]</code>,ax=<code>1B7CH</code></li>
<li><code>mov ax [si+5]</code>,ax=<code>4C1BH</code></li>
<li><code>mov ax [si+8]</code>,ax=<code>0007H</code></li>
<li><code>mov ax [si+10]</code>,ax=<code>3231H</code></li>
</ul>
</div>
<h4 id="assume-equ-and-org">Assume EQU and ORG<a class="headerlink" href="#assume-equ-and-org" title="Permanent link">&para;</a></h4>
<p>Á≠âÂÄºÊåá‰ª§ÔºàEQUÔºâÁî®‰∫éÂ∞Ü‰∏Ä‰∏™Êï∞ÂÄº„ÄÅASCIIÁ†ÅÊàñÊ†áÁ≠æÁ≠âÂêåÔºàËµãÂÄºÔºâÁªôÂè¶‰∏Ä‰∏™Ê†áÁ≠æ„ÄÇEQU ‰∏ªË¶ÅÁî®‰∫éÂÆö‰πâÂ∏∏Èáè„ÄÇ
EQU Êåá‰ª§ÁöÑËØ≠Ê≥ïÂΩ¢Âºè‰∏∫Ôºö</p>
<p><div class="language-asm highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="err">Â∏∏ÈáèÂêç</span><span class="w"> </span><span class="nf">EQU</span><span class="w"> </span><span class="err">Ë°®ËææÂºè</span>
</span></code></pre></div>
‰ΩøÁî®Á≠âÂÄºÊåá‰ª§ÂèØ‰ª•ËÆ©Á®ãÂ∫èÊõ¥Âä†Ê∏ÖÊô∞„ÄÅÊòì‰∫éË∞ÉËØï„ÄÇ‰æãÂ¶ÇÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="no">TEN</span><span class="w"> </span><span class="kd">EQU</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="no">NINE</span><span class="w"> </span><span class="kd">EQU</span><span class="w"> </span><span class="mi">9</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nf">MOV</span><span class="w"> </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="nv">TEN</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="nf">ADD</span><span class="w"> </span><span class="nb">AL</span><span class="p">,</span><span class="w"> </span><span class="nv">NINE</span>
</span></code></pre></div>
<ul>
<li>Ê±áÁºñÂô®Âè™ËÉΩÂ∞ÜÊ†áÁ≠æÂàÜÈÖç‰∏∫Â≠óËäÇ„ÄÅÂ≠óÔºàwordÔºâÊàñÂèåÂ≠óÔºàdoublewordÔºâÁöÑÂú∞ÂùÄ„ÄÇ</li>
<li>Â¶ÇÊûúÈúÄË¶ÅÂ∞Ü‰∏Ä‰∏™Â≠óËäÇÂûãÊ†áÁ≠æËΩ¨‰∏∫Â≠óÂûãÔºåÂàôÂèØÁî® THIS Êåá‰ª§„ÄÇ</li>
<li>THIS Êåá‰ª§ÁöÑÁî®Ê≥ïÔºöTHIS BYTE„ÄÅTHIS WORD„ÄÅTHIS DWORD Êàñ THIS QWORD„ÄÇ</li>
</ul>
<p>ORGÔºàoriginÔºåËµ∑ÂßãÂú∞ÂùÄÔºâËØ≠Âè•Áî®‰∫éÊîπÂèòÊï∞ÊçÆÊÆµÊàñ‰ª£Á†ÅÊÆµÂÜÖÊï∞ÊçÆÔºàÊàñ‰ª£Á†ÅÔºâÁöÑËµ∑ÂßãÂÅèÁßªÂú∞ÂùÄ„ÄÇ</p>
<ul>
<li>ÊúâÊó∂ÔºåÈúÄË¶ÅÁî® ORG Êåá‰ª§Â∞ÜÊï∞ÊçÆÊàñ‰ª£Á†ÅÂàÜÈÖçÂà∞Êüê‰∏™ÁªùÂØπÂÅèÁßªÂú∞ÂùÄ„ÄÇ</li>
<li>‰æãÂ¶ÇÔºåBoot Sector ÂøÖÈ°ªÂàÜÈÖçÂà∞ 07c00h Ëøô‰∏™Âú∞ÂùÄ„ÄÇ</li>
</ul>
<p>ASSUME Êåá‰ª§Áî®‰∫éÂëäËØâÊ±áÁºñÂô®Âì™‰∫õÊÆµÂØÑÂ≠òÂô®ÂàÜÂà´ÂØπÂ∫î‰ªÄ‰πàÂêçÂ≠óÔºàÂç≥ code„ÄÅdata„ÄÅextra Âíå stack ÊÆµÔºâ„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nf">ASSUME</span><span class="w"> </span><span class="nb">CS</span><span class="p">:</span><span class="nv">CODE</span><span class="p">,</span><span class="w"> </span><span class="nb">DS</span><span class="p">:</span><span class="nv">DATA</span><span class="p">,</span><span class="w"> </span><span class="nb">SS</span><span class="p">:</span><span class="nv">STACK</span><span class="p">,</span><span class="w"> </span><span class="nb">ES</span><span class="p">:</span><span class="nv">EXTRA</span>
</span></code></pre></div>
<div align="center">
<img src="../img/chap4/AEO.png" width="400">
</div>

<p>ÂØπ‰∫é<code>DATA1 EQU THIS BYTE</code>ÔºåÂÖ∂ÂÄº‰∏∫ÂΩìÂâçÁöÑÂú∞ÂùÄÔºå‰ΩÜÂ∞ÜÂÖ∂ËßÜ‰∏∫‰∏Ä‰∏™ BYTE Á±ªÂûã„ÄÇ
ÁÑ∂Âêé<code>DATA2 DW Ôºü</code> ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Â≠óÔºå‰ΩÜÊú™ÂàùÂßãÂåñ„ÄÇ</p>
<p>Ê≥®ÊÑè<code>DATA 1</code>Âíå<code>DATA 2</code>ÈÉΩÊåáÂêë‰∫ÜORGÂÆö‰πâÁöÑ300H.<code>DATA1</code>ËÆ§‰∏∫ÂÆÉÊòØÂ≠óËäÇÔºå<code>DATA2</code>ËÆ§‰∏∫ÂÆÉÊòØÂ≠ó„ÄÇ</p>
<p>Êé•‰∏ãÊù•<code>MOV BL DATA1</code>Â∞Ü300HÂ§ÑÂèñÂá∫‰∏Ä‰∏™Â≠óËäÇÔºå„ÄÇ<code>MOV AX, DATA2</code>Â∞Ü300HÂ§ÑÂèñÂá∫‰∏Ä‰∏™Â≠óÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âà∞AX‰∏≠„ÄÇÁÑ∂Âêé<code>MOV BH, DATA1+1</code>Â∞Ü301HÂ§ÑÂèñÂá∫‰∏Ä‰∏™Â≠óËäÇÂ≠òÂà∞BH‰∏≠„ÄÇ</p>
<p>ÊúÄÂêéBXÂíåAXÁöÑÂÜÖÂÆπÊòØÁõ∏ÂêåÁöÑ„ÄÇ</p>
<h3 id="proc-and-endp">PROC and ENDP<a class="headerlink" href="#proc-and-endp" title="Permanent link">&para;</a></h3>
<p>PROC Âíå ENDP ‰º™Êåá‰ª§Áî®‰∫éÊ†áËÆ∞‰∏Ä‰∏™ËøáÁ®ãÔºàÂç≥Â≠êÁ®ãÂ∫èÔºâÁöÑÂºÄÂßãÂíåÁªìÊùüÔºå‰∏îÊØè‰∏™ËøáÁ®ãÂøÖÈ°ªË¢´ÂàÜÈÖç‰∏Ä‰∏™ÂêçÁß∞„ÄÇ‰π¶ÂÜôÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nf">name</span><span class="w"> </span><span class="nv">PROC</span><span class="w"> </span><span class="p">[</span><span class="nv">near</span><span class="o">/</span><span class="nv">far</span><span class="p">]</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="nf">statements</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nf">ret</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="nf">name</span><span class="w"> </span><span class="nv">ENDP</span>
</span></code></pre></div>
<p>PROC Êåá‰ª§ÂêéÈÄöÂ∏∏ÈúÄË¶ÅÊåáÂÆö NEAR Êàñ FARÔºà‰ªÖÂú® 32 ‰ΩçÁ≥ªÁªüÊúâÊïàÔºâ„ÄÇ</p>
<ul>
<li>NEARÔºàËøëÔºâËøáÁ®ãÊåáÁöÑÊòØ‰∏éÁ®ãÂ∫èÂú®Âêå‰∏Ä‰∏™‰ª£Á†ÅÊÆµ‰∏≠ÁöÑËøáÁ®ãÔºåÈÄöÂ∏∏Ë¢´ËÆ§‰∏∫ÊòØÂ±ÄÈÉ®ËøáÁ®ã„ÄÇ</li>
<li>FARÔºàËøúÔºâËøáÁ®ãÂèØ‰ª•‰Ωç‰∫éÂÜÖÂ≠òÁ≥ªÁªüÁöÑ‰ªªÊÑè‰ΩçÁΩÆÔºåË¢´ËÆ§‰∏∫ÊòØÂÖ®Â±ÄËøáÁ®ã„ÄÇ</li>
<li>NEAR Á±ªÂûãËøáÁ®ãË¢´ËÆ§‰∏∫ÊòØÂ±ÄÈÉ®ÔºàlocalÔºâÔºåFAR Á±ªÂûãËøáÁ®ã‰∏∫ÂÖ®Â±ÄÔºàglobalÔºâ„ÄÇ</li>
<li>Âú®ËøáÁ®ãÂùóÂÜÖÈÉ®ÂÆö‰πâÁöÑ‰ªª‰ΩïÊ†áÁ≠æÔºåÈÉΩË¢´ËßÜ‰∏∫Â±ÄÈÉ®ÔºàNEARÔºâÊàñÂÖ®Â±ÄÔºàFARÔºâ,Âç≥ÁªßÊâø„ÄÇ</li>
</ul>
<p>‰æãÂ¶ÇÔºåÊúâ‰∏Ä‰∏™Âêç‰∏∫ SumOf ÁöÑËøáÁ®ãÔºåÈÄöËøá‰º†ÈÄíÂØÑÂ≠òÂô®ÂèÇÊï∞ÔºåËÆ°ÁÆó‰∏â‰∏™ 32 ‰ΩçÊï¥Êï∞ÁöÑÂíå„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">; ÂÆö‰πâ‰∏Ä‰∏™ËÆ°ÁÆó‰∏â‰∏™ 32 ‰ΩçÊï¥Êï∞ÂíåÁöÑËøáÁ®ã SumOf</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="nf">SumOf</span><span class="w"> </span><span class="nv">PROC</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nf">add</span><span class="w"> </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="nb">ebx</span><span class="w">            </span><span class="c1">; eax = eax + ebx</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">    </span><span class="nf">add</span><span class="w"> </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="nb">ecx</span><span class="w">            </span><span class="c1">; eax = eax + ecx</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">    </span><span class="nf">ret</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="nf">SumOf</span><span class="w"> </span><span class="nv">ENDP</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="nf">.data</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="nf">theSum</span><span class="w">   </span><span class="nv">DD</span><span class="w"> </span><span class="nv">?</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="nf">.code</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="nf">main</span><span class="w"> </span><span class="nv">PROC</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">eax</span><span class="p">,</span><span class="w"> </span><span class="mh">10000h</span><span class="w">         </span><span class="c1">; </span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">ebx</span><span class="p">,</span><span class="w"> </span><span class="mh">20000h</span><span class="w">         </span><span class="c1">; </span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">ecx</span><span class="p">,</span><span class="w"> </span><span class="mh">30000h</span><span class="w">         </span><span class="c1">; </span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">    </span><span class="nf">call</span><span class="w"> </span><span class="nv">SumOf</span><span class="w">              </span><span class="c1">; Ë∞ÉÁî®ËøáÁ®ãÔºåÁªìÊûúÂ≠ò‰∫éeax</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nv">theSum</span><span class="p">,</span><span class="w"> </span><span class="nb">eax</span><span class="w">         </span><span class="c1">; ‰øùÂ≠òÁªìÊûúÂà∞ÂèòÈáètheSum</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="nf">main</span><span class="w"> </span><span class="nv">ENDP</span>
</span></code></pre></div>
<h3 id="macro-and-endm">MACRO and ENDM<a class="headerlink" href="#macro-and-endm" title="Permanent link">&para;</a></h3>
<p>MACRO Âíå ENDM ‰º™Êåá‰ª§Áî®Êù•ÂÆö‰πâÂÆèÔºàÂç≥‰∏ÄÁªÑÊúâÂêçÂ≠óÁöÑÊ±áÁºñËØ≠Ë®ÄËØ≠Âè•ÂùóÔºâ„ÄÇ</p>
<ul>
<li>ÂΩì‰Ω†Ë∞ÉÁî®Ôºà‰ΩøÁî®Ôºâ‰∏Ä‰∏™ÂÆèÊó∂ÔºåÂÆèÁöÑ‰ª£Á†Å‰ºöË¢´Áõ¥Êé•ÊèíÂÖ•Âà∞Ë∞ÉÁî®ÂÆÉÁöÑÁ®ãÂ∫è‰ΩçÁΩÆ„ÄÇ</li>
<li>ËøôÁßçËá™Âä®‰ª£Á†ÅÊèíÂÖ•ÊñπÂºè‰πüË¢´Áß∞‰∏∫ÂÜÖËÅîÊâ©Â±ïÔºàinline expansionÔºâ„ÄÇ</li>
</ul>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nf">name</span><span class="w"> </span><span class="nv">MACRO</span><span class="w"> </span><span class="p">[</span><span class="nv">para1</span><span class="p">,</span><span class="nv">para2</span><span class="p">,</span><span class="err">‚Ä¶</span><span class="p">]</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="nf">statements</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nf">ENDM</span>
</span></code></pre></div>
<p>‰æãÂ¶ÇÔºåÊúâ‰∏Ä‰∏™Âêç‰∏∫ mPutchar ÁöÑÂÆèÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ËæìÂÖ•ÔºåÂπ∂ÈÄöËøáË∞ÉÁî® WriteChar Âú®ÊéßÂà∂Âè∞ÊòæÁ§∫ËØ•Â≠óÁ¨¶„ÄÇ</p>
<div align="center">
<img src="../img/chap4/m_putchar.png" width="400">
</div>

<p>ËØ≠Âè• ‚ÄúmPutchar 'A'‚Äù ‰ºöË∞ÉÁî® mPutcharÔºåÂπ∂Â∞ÜÂ≠óÊØç A ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂÆÉ„ÄÇ</p>
<p>ÂÆè‰πüÂèØ‰ª•Âú®Êï∞ÊçÆÊÆµ‰∏≠‰ΩøÁî®„ÄÇ‰æãÂ¶ÇÔºåÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫é GDT ÊèèËø∞Á¨¶ÁöÑÂÆè„ÄÇ</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">; ÂÆö‰πâÁî®‰∫éÊèèËø∞Á¨¶Ë°®ÔºàÂ¶Ç GDTÔºâÂàùÂßãÂåñÁöÑ Descriptor ÂÆè</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nf">Descriptor</span><span class="w"> </span><span class="nv">MACRO</span><span class="w"> </span><span class="nv">Base</span><span class="p">,</span><span class="w"> </span><span class="nv">Limit</span><span class="p">,</span><span class="w"> </span><span class="nv">Attr</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="kd">dw</span><span class="w">  </span><span class="nv">Limit</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0FFFFh</span><span class="w">                              </span><span class="c1">; ÊÆµÁïåÈôêÁöÑ‰Ωé 2 Â≠óËäÇ</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="kd">dw</span><span class="w">  </span><span class="nv">Base</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0FFFFh</span><span class="w">                               </span><span class="c1">; ÊÆµÂü∫ÂùÄÁöÑ‰Ωé 2 Â≠óËäÇ</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">    </span><span class="kd">db</span><span class="w">  </span><span class="p">(</span><span class="nv">Base</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0FFh</span><span class="w">                         </span><span class="c1">; ÊÆµÂü∫ÂùÄÁöÑÁ¨¨ 3 Â≠óËäÇ</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="kd">dw</span><span class="w">  </span><span class="p">((</span><span class="nv">Limit</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0F00h</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="nv">Attr</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0F0FFh</span><span class="p">)</span><span class="w">    </span><span class="c1">; Attr 1 + Limit 2 + Attr 2</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">    </span><span class="kd">db</span><span class="w">  </span><span class="p">(</span><span class="nv">Base</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0FFh</span><span class="w">                         </span><span class="c1">; ÊÆµÂü∫ÂùÄÁöÑÁ¨¨ 4 Â≠óËäÇ</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="nf">ENDM</span><span class="w">    </span><span class="c1">; ÂÖ±8Â≠óËäÇ</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="c1">; Á§∫‰æãÔºöGDT ÊÆµÊèèËø∞Á¨¶ÁöÑÂÆö‰πâ</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="nf">GDT</span><span class="w"> </span><span class="ow">SEG</span><span class="nv">MENT</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">    </span><span class="nf">Null_desc</span><span class="w">   </span><span class="nv">Descriptor</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">    </span><span class="nf">Normal_desc</span><span class="w"> </span><span class="nv">Descriptor</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0ffffh</span><span class="p">,</span><span class="w"> </span><span class="nv">DA_DRW</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">    </span><span class="c1">; ...</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="nf">GDT</span><span class="w"> </span><span class="nv">ENDS</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="c1">; ÂÖ∂‰∏≠ DA_DRW ÂèØÂú®Êï∞ÊçÆÊÆµ‰∏≠ÂÆö‰πâ(Â¶Ç equ 42h)</span>
</span></code></pre></div>
<div align="center">
<img src="../img/chap4/descrip.png" width="400">
</div>

<h3 id="include">INCLUDE<a class="headerlink" href="#include" title="Permanent link">&para;</a></h3>
<p>INCLUDE ‰º™Êåá‰ª§Áî®‰∫éÂú®Ê±áÁºñÊó∂ÔºåÂ∞ÜÂè¶‰∏Ä‰∏™Ê∫êÊñá‰ª∂ÔºàÁî±Êñá‰ª∂ÂêçÊåáÂÆöÔºâ‰∏≠ÁöÑ‰ª£Á†ÅÊèíÂÖ•Âà∞ÂΩìÂâçÊ∫êÊñá‰ª∂‰∏≠„ÄÇ</p>
<ul>
<li>ËØ≠Ê≥ï: INCLUDE Êñá‰ª∂Âêç</li>
</ul>
<div align="center">
<img src="../img/chap4/include.png" width="500">
</div>

<h3 id="memory-organization">Memory organization<a class="headerlink" href="#memory-organization" title="Permanent link">&para;</a></h3>
<h4 id="full-segment-definitions">Full-Segment Definitions<a class="headerlink" href="#full-segment-definitions" title="Permanent link">&para;</a></h4>
<p>ÂÆåÊï¥ÁöÑÊÆµÂÆö‰πâËÉΩÂ§üÂØπÊ±áÁºñËØ≠Ë®Ä‰ªªÂä°Êèê‰æõÊõ¥Â•ΩÁöÑÊéßÂà∂ÔºåÂ∞§ÂÖ∂Êé®ËçêÁî®‰∫éÂ§çÊùÇÁ®ãÂ∫è„ÄÇ</p>
<ul>
<li>MASM Ê±áÁºñÂô®Êèê‰æõÂ§öÁßçÂÜÖÂ≠òÊ®°ÂûãÔºå‰ªé tinyÔºàÂæÆÂûãÔºâÂà∞ hugeÔºàÂ∑®ÂûãÔºâÔºåËøô‰∫õÊ®°ÂûãÂÜ≥ÂÆö‰∫ÜÊÆµÂØÑÂ≠òÂô®ÁöÑ‰ΩøÁî®ÊñπÂºèÂíåÊåáÈíàÁöÑÈªòËÆ§Â§ßÂ∞è„ÄÇ</li>
<li>.MODEL ‰º™Êåá‰ª§Áî®‰∫éÊåáÂÆö‰ª£Á†ÅÂíåÊï∞ÊçÆÊåáÈíàÁöÑÂ§ßÂ∞è„ÄÇ</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">Ê®°Âûã</th>
<th style="text-align: center;">Êï∞ÊçÆÊÆµ</th>
<th style="text-align: center;">‰ª£Á†ÅÊÆµ</th>
<th style="text-align: left;">ÂÆö‰πâËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>Tiny</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰ªÖÊúâÂçï‰∏ÄÊÆµÔºåÂêåÊó∂ÂåÖÂê´‰ª£Á†ÅÂíåÊï∞ÊçÆÔºàCS=DS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Small</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰∏Ä‰∏™‰ª£Á†ÅÊÆµÂíå‰∏Ä‰∏™Êï∞ÊçÆÊÆµÔºàDS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Medium</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÔºå‰∏Ä‰∏™Êï∞ÊçÆÊÆµÔºàDS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Compact</strong></td>
<td style="text-align: center;">far</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰∏Ä‰∏™‰ª£Á†ÅÊÆµÔºåÂ§ö‰∏™Êï∞ÊçÆÊÆµ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Large</strong></td>
<td style="text-align: center;">far</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÂíåÂ§ö‰∏™Êï∞ÊçÆÊÆµ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Huge</strong></td>
<td style="text-align: center;">huge</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÂíåÂ§ö‰∏™Êï∞ÊçÆÊÆµÔºåÂçï‰∏™Êï∞ÁªÑÂèØ‰ª•Â§ß‰∫é‰∏Ä‰∏™ÊÆµÔºà&gt;64KBÔºâ</td>
</tr>
</tbody>
</table>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nf">.MODEL</span><span class="w"> </span><span class="nv">tiny</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="nf">.STACK</span><span class="w"> </span><span class="mh">100h</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="nf">.DATA</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="nf">.CODE</span>
</span></code></pre></div>
<p>ÂÆåÊï¥ÊÆµÂÆö‰πâ‰ΩøÁî® SEGMENT„ÄÅENDS Âíå ASSUME Êåá‰ª§Êù•ÂÆö‰πâÊÆµÔºåÂπ∂ÂëäÁü•Ê±áÁºñÂô®ÂíåÈìæÊé•Âô®„ÄÇ
<div class="language-asm highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nf">name</span><span class="w"> </span><span class="ow">SEG</span><span class="nv">MENT</span><span class="w"> </span><span class="p">[</span><span class="nv">readonly</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nv">align</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nv">combine</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nv">use</span><span class="p">]</span><span class="w"> </span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w"> </span><span class="err">[‚Äò</span><span class="nf">combine</span><span class="o">-</span><span class="nv">class</span><span class="err">‚Äô</span><span class="p">]</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">  </span><span class="c1">; statements</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="nf">name</span><span class="w"> </span><span class="nv">ENDS</span>
</span></code></pre></div></p>
<p>‰ª•‰∏ãÊòØÊØè‰∏™ÂèÇÊï∞ÁöÑËØ¶ÁªÜËß£ÈáäÔºö</p>
<ul>
<li><strong>name</strong> (ÊÆµÂêç): ËøôÊòØ‰Ω†ÁªôËØ•ÊÆµËµ∑ÁöÑÊ†áÂè∑ÔºàLabelÔºâ„ÄÇÂøÖÈ°ª‰∏éÁªìÂ∞æÁöÑ <code>name ENDS</code> ‰∏≠ÁöÑÂêçÂ≠ó‰∏ÄËá¥„ÄÇ</li>
<li><strong>[readonly]</strong> (Âè™ËØªÂ±ûÊÄß): ÂèØÈÄâ„ÄÇÂ¶ÇÊûúÊåáÂÆöÔºåË°®Á§∫ËØ•ÊÆµÂÜÖÁöÑÂÜÖÂÆπÊòØÂè™ËØªÁöÑ„ÄÇÊ±áÁºñÂô®‰ºöÊ£ÄÊü•ÊòØÂê¶ÊúâÊåá‰ª§ËØïÂõæ‰øÆÊîπËØ•ÊÆµÂÜÖÁöÑÂÜÖÂÆπ„ÄÇ</li>
<li><strong>[align]</strong> (ÂØπÈΩêÊñπÂºè): ÊåáÂÆöËØ•ÊÆµÂú®ÂÜÖÂ≠ò‰∏≠Ëµ∑ÂßãÂú∞ÂùÄÁöÑÂØπÈΩêË¶ÅÊ±Ç„ÄÇ<ul>
<li><code>BYTE</code>: ‰ªªÊÑèÂú∞ÂùÄ„ÄÇ</li>
<li><code>WORD</code>: ÂÅ∂Êï∞Âú∞ÂùÄ„ÄÇ</li>
<li><code>DWORD</code>: 4 ÁöÑÂÄçÊï∞Âú∞ÂùÄ„ÄÇ</li>
<li><code>PARA</code> (<strong>ÈªòËÆ§ÂÄº</strong>): 16 ÁöÑÂÄçÊï∞Âú∞ÂùÄ„ÄÇ</li>
<li><code>PAGE</code>: È°µËæπÁïåÔºàÈÄöÂ∏∏ 256 Êàñ 4096Ôºâ„ÄÇ</li>
</ul>
</li>
<li><strong>[combine]</strong> (ÁªÑÂêàÁ±ªÂûã): ÂëäËØâÈìæÊé•Âô®Â¶Ç‰ΩïÂ§ÑÁêÜ‰∏çÂêåÊ®°Âùó‰∏≠ÂÖ∑Êúâ <strong>Áõ∏ÂêåÊÆµÂêç</strong> ÁöÑÊÆµ„ÄÇ<ul>
<li><code>PRIVATE</code> (<strong>ÈªòËÆ§ÂÄº</strong>): Áã¨Á´ãÊÆµÔºå‰∏çÂêàÂπ∂„ÄÇ</li>
<li><code>PUBLIC</code>: ËøûÊé•ÊâÄÊúâÂêåÂêçÊÆµ„ÄÇ</li>
<li><code>STACK</code>: ÂÆö‰πâÂ†ÜÊ†àÊÆµÔºåËøûÊé•Âπ∂ÂàùÂßãÂåñ SP„ÄÇ</li>
<li><code>COMMON</code>: ÈáçÂè†ÊÆµÔºàËµ∑ÂßãÂú∞ÂùÄÁõ∏ÂêåÔºâÔºåÈïøÂ∫¶ÂèñÊúÄÂ§ßËÄÖ„ÄÇ</li>
<li><code>AT address</code>: ÁªùÂØπÁâ©ÁêÜÂú∞ÂùÄ„ÄÇ</li>
</ul>
</li>
<li><strong>[use]</strong> (‰ΩçÂÆΩÂ±ûÊÄß): ÊåáÂÆöÊÆµÁöÑÈªòËÆ§Êìç‰ΩúÊï∞Â§ßÂ∞èÂíåÂØªÂùÄÊñπÂºèÂ§ßÂ∞è„ÄÇ<ul>
<li><code>USE16</code> (<strong>ÈªòËÆ§ÂÄº</strong>): 16 ‰ΩçÊÆµÔºàÂÆûÊ®°ÂºèÔºâ„ÄÇ</li>
<li><code>USE32</code>: 32 ‰ΩçÊÆµÔºà‰øùÊä§Ê®°ÂºèÔºâ„ÄÇ</li>
</ul>
</li>
<li><strong>['combine-class']</strong> (Á±ªÂà´): ÂçïÂºïÂè∑Êã¨Ëµ∑Êù•ÁöÑÂ≠óÁ¨¶‰∏≤ÔºàÂ¶Ç <code>'CODE'</code>Ôºâ„ÄÇÈìæÊé•Âô®‰ºöÂ∞ÜÊâÄÊúâ <strong>Á±ªÂà´ÂêçÁõ∏Âêå</strong> ÁöÑÊÆµÂú®ÂÜÖÂ≠ò‰∏≠ËøûÁª≠Â≠òÊîæ„ÄÇ MyCode SEGMENT 'CODE' Âíå LibCode SEGMENT 'CODE'ÔºåÈìæÊé•Âô®‰ºöÊääÂÆÉ‰ª¨ÊîæÂú®ÂÜÖÂ≠ò‰∏≠Áõ∏ÈÇªÁöÑ‰ΩçÁΩÆ„ÄÇËøôÊúâÂä©‰∫éÊìç‰ΩúÁ≥ªÁªüÂä†ËΩΩÁ®ãÂ∫èÊó∂ËÆæÁΩÆÂÜÖÂ≠òÊùÉÈôêÔºà‰æãÂ¶ÇÂ∞ÜÊï¥‰∏™‰ª£Á†ÅÂå∫ÂüüËÆæ‰∏∫Âè™ËØªÔºâ</li>
</ul>
<p>‰æãÂ¶Ç
<div class="language-asm highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nf">cseg</span><span class="w"> </span><span class="ow">SEG</span><span class="nv">MENT</span><span class="w"> </span><span class="nv">readonly</span><span class="w"> </span><span class="kt">word</span><span class="w"> </span><span class="nv">use32</span><span class="w"> </span><span class="s">&#39;code&#39;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">    </span><span class="nf">mov</span><span class="w"> </span><span class="nb">ax</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nf">inc</span><span class="w"> </span><span class="nb">ax</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="nf">ret</span><span class="w"> </span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="nf">cseg</span><span class="w"> </span><span class="nv">ENDS</span>
</span></code></pre></div></p>
<h4 id="assume">Assume<a class="headerlink" href="#assume" title="Permanent link">&para;</a></h4>
<ul>
<li>segment Êåá‰ª§Êú¨Ë∫´Âπ∂‰∏çÂëäÁü•ÊÆµÁöÑÁî®ÈÄîÁ±ªÂûã„ÄÇassume Êåá‰ª§ÂàôÂêëÊ±áÁºñÂô®ÊåáÊòéÂêÑÊÆµÂØÑÂ≠òÂô®ÊâÄÂØπÂ∫îÁöÑÊÆµ„ÄÇ</li>
<li>assume Êåá‰ª§ÁöÑÂü∫Êú¨Ê†ºÂºèÂ¶Ç‰∏ãÔºö
  assume [CS:ÊÆµÂêç,] [DS:ÊÆµÂêç,] [ES:ÊÆµÂêç,]
         [FS:ÊÆµÂêç,] [GS:ÊÆµÂêç,] [SS:ÊÆµÂêç]</li>
<li>ÊúâÊïàÁöÑ assume Êåá‰ª§Á§∫‰æãÔºö</li>
<li>assume DS:DSEG</li>
<li>assume CS:CSEG, DS:DSEG, ES:DSEG, SS:SSEG</li>
<li>assume CS:CSEG, DS:NOTHING</li>
<li>ÂΩìÊ±áÁºñÂô®ÈÅáÂà∞‰∏ÄÊù°Êåá‰ª§ÔºàÂ¶Ç mov var,0ÔºâÊó∂ÔºåÈ¶ñÂÖà‰ºöÂà§Êñ≠ var ÊâÄÂ§ÑÁöÑÊÆµ„ÄÇ</li>
<li>Â¶ÇÊûúÂèòÈáè var Ê≤°ÊúâÂ£∞ÊòéÂú®ÂΩìÂâç assume ËÆæÂÆöÁöÑ‰ªª‰ΩïÊÆµ‰∏≠ÔºåÊ±áÁºñÂô®Â∞±‰ºöÊä•ÈîôÔºåÊèêÁ§∫Êó†Ê≥ïËÆøÈóÆËØ•ÂèòÈáè„ÄÇ</li>
<li>ÊúÄÁêÜÊÉ≥ÁöÑÂÅöÊ≥ïÊòØÂú®ÊØè‰∏™ËøáÁ®ãÔºàprocedureÔºâÂâç‰π¶ÂÜôÂØπÂ∫îÁöÑ assume Êåá‰ª§„ÄÇÂõ†‰∏∫ÔºåÁ®ãÂ∫èËøêË°å‰∏≠ÊÆµÂØÑÂ≠òÂô®ÊåáÂêëÁöÑÊÆµ‰∏ÄËà¨Âè™‰ºöÂú®ËøõÂÖ•„ÄÅÈÄÄÂá∫ËøáÁ®ãÊó∂ÂèëÁîüÂèòÂåñ„ÄÇ</li>
</ul>
<h4 id="end">END<a class="headerlink" href="#end" title="Permanent link">&para;</a></h4>
<p>END Êåá‰ª§Áî®‰∫éÂëäÁü•Ê±áÁºñÂô®Ê®°ÂùóÁöÑÁªìÊùü„ÄÇ</p>
<ul>
<li>ÈÄöÂ∏∏ÔºåÊØè‰∏™Ê∫ê‰ª£Á†ÅÊ®°ÂùóÁöÑÊúÄÂêé‰∏ÄË°åÈÉΩ‰ºöÊúâ‰∏ÄÊù° END ËØ≠Âè•„ÄÇ</li>
<li>Âè™Êúâ‰∏Ä‰∏™Ê®°ÂùóÂèØ‰ª•ÂÜôÊàêÂ∏¶Ê†áÁ≠æÁöÑ END ËØ≠Âè•„ÄÇ</li>
<li>END Êåá‰ª§ËøòÂèØ‰ª•Áî®Êù•ÊåáÂÆöÁ®ãÂ∫èÁöÑÂÖ•Âè£Âú∞ÂùÄ„ÄÇ</li>
<li>ËØ≠Ê≥ïÔºöEND label</li>
<li>‰æãÂ¶ÇÔºöEND start</li>
<li>Ê≠§Êó∂Ôºåstart Ê†áÁ≠æÂ∞±ÊòØÁ®ãÂ∫èÁöÑÂÖ•Âè£ÁÇπÔºåDOS ‰ºö‰ªéËØ•Âú∞ÂùÄÂºÄÂßãÊâßË°åÁ®ãÂ∫è„ÄÇ</li>
</ul>
<p>‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ MASM Ê†ºÂºèÁöÑÊÆµÂÆö‰πâ‰∏éÊï∞ÊçÆÊê¨ËøêÁ§∫‰æãÔºåÂÆûÁé∞Â∞Ü‰∏Ä‰∏™Êï∞ÊçÆÊÆµ LISTA ÁöÑ 100 Â≠óËäÇÂÜÖÂÆπÊâπÈáèÂ§çÂà∂Âà∞ LISTBÔºö</p>
<div class="language-asm highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nf">STACK_SEG</span><span class="w">  </span><span class="ow">SEG</span><span class="nv">MENT</span><span class="w">  </span><span class="s">&#39;STACK&#39;</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span><span class="kd">DW</span><span class="w">  </span><span class="mh">100H</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="nf">STACK_SEG</span><span class="w">  </span><span class="nv">ENDS</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="nf">DATA_SEG</span><span class="w">   </span><span class="ow">SEG</span><span class="nv">MENT</span><span class="w">  </span><span class="s">&#39;DATA&#39;</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="nf">LISTA</span><span class="w">      </span><span class="nv">DB</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="nf">LISTB</span><span class="w">      </span><span class="nv">DB</span><span class="w">  </span><span class="mi">100</span><span class="w"> </span><span class="nv">DUP</span><span class="p">(</span><span class="nv">?</span><span class="p">)</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="nf">DATA_SEG</span><span class="w">   </span><span class="nv">ENDS</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="nf">CODE_SEG</span><span class="w">   </span><span class="ow">SEG</span><span class="nv">MENT</span><span class="w">  </span><span class="s">&#39;CODE&#39;</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">    </span><span class="nf">ASSUME</span><span class="w"> </span><span class="nb">CS</span><span class="p">:</span><span class="nv">CODE_SEG</span><span class="p">,</span><span class="w"> </span><span class="nb">DS</span><span class="p">:</span><span class="nv">DATA_SEG</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">    </span><span class="nf">ASSUME</span><span class="w"> </span><span class="nb">SS</span><span class="p">:</span><span class="nv">STACK_SEG</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="nf">MAIN</span><span class="w"> </span><span class="nv">PROC</span><span class="w"> </span><span class="nv">FAR</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">    </span><span class="c1">; ËÆæÁΩÆÊï∞ÊçÆÊÆµÂíåÈôÑÂä†ÊÆµÂØÑÂ≠òÂô®</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">AX</span><span class="p">,</span><span class="w"> </span><span class="nv">DATA_SEG</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">DS</span><span class="p">,</span><span class="w"> </span><span class="nb">AX</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">ES</span><span class="p">,</span><span class="w"> </span><span class="nb">AX</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">    </span><span class="nf">CLD</span><span class="w">                 </span><span class="c1">; Ê∏ÖÈô§ÊñπÂêëÊ†áÂøóÔºåÊ≠£Â∫èÂ§çÂà∂</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">    </span><span class="c1">; SI ÊåáÂêëÊ∫êÔºåDI ÊåáÂêëÁõÆÊ†á</span>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">SI</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">LISTA</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">DI</span><span class="p">,</span><span class="w"> </span><span class="nv">OFFSET</span><span class="w"> </span><span class="nv">LISTB</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">CX</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="w">    </span><span class="nf">REP</span><span class="w"> </span><span class="nv">MOVSB</span><span class="w">           </span><span class="c1">; ÊâπÈáèÂ§çÂà∂ 100 Â≠óËäÇ</span>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="w">    </span><span class="c1">; Á®ãÂ∫èÁªìÊùüÔºåËøîÂõû DOS</span>
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="w">    </span><span class="nf">MOV</span><span class="w">     </span><span class="nb">AH</span><span class="p">,</span><span class="w"> </span><span class="mh">4CH</span>
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="w">    </span><span class="nf">INT</span><span class="w">     </span><span class="mh">21H</span><span class="w">          </span><span class="c1">; ÂΩì CPU ÊâßË°åËøôÊù°Êåá‰ª§Êó∂Ôºå‰ºöÊü•Áúã AH ÂØÑÂ≠òÂô®‰∏≠ÁöÑÂÄºÊù•ÂÜ≥ÂÆöÂÖ∑‰ΩìÂÅö‰ªÄ‰πà„ÄÇÂõ†‰∏∫ AH ÊòØ 4CHÔºåÊâÄ‰ª•Êìç‰ΩúÁ≥ªÁªü‰ºöÊ∏ÖÁêÜÂÜÖÂ≠ò„ÄÅÂÖ≥Èó≠Êñá‰ª∂ÔºåÁÑ∂ÂêéÁªìÊùüÂΩìÂâçÁ®ãÂ∫è„ÄÇ</span>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="nf">MAIN</span><span class="w"> </span><span class="nv">ENDP</span>
</span><span id="__span-31-33"><a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="nf">CODE_SEG</span><span class="w">   </span><span class="nv">ENDS</span>
</span><span id="__span-31-34"><a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a>
</span><span id="__span-31-35"><a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a><span class="w">    </span><span class="nf">END</span><span class="w"> </span><span class="nv">MAIN</span>
</span></code></pre></div>
<ul>
<li><code>STACK_SEG</code> ÂÆö‰πâ 256 Â≠óËäÇÂ†ÜÊ†àÂå∫„ÄÇ</li>
<li><code>DATA_SEG</code> ÂÆö‰πâ‰∏§‰∏™ 100 Â≠óËäÇÊï∞ÁªÑÔºöLISTA Âíå LISTB„ÄÇ</li>
<li>ÂÖ•Âè£ÁÇπÊòØÂú® <code>MAIN</code>ÔºåÁ®ãÂ∫èÂ∞Ü LISTA ÊâπÈáèÊê¨ËøêËá≥ LISTB„ÄÇ</li>
<li><code>ASSUME</code> ËØ≠Âè•ÊåáÊòéÂêÑÊÆµÂØÑÂ≠òÂô®Âê´‰πâÔºå‰æø‰∫éÊ±áÁºñÂô®Â§ÑÁêÜÂØªÂùÄ„ÄÇ</li>
</ul>
<p>ÊÆµÂêç DATA_SEG ÂèØ‰ª•Áî®Êù•Âä†ËΩΩÊÆµÂú∞ÂùÄ</p>
<h4 id="memory-models">Memory Models<a class="headerlink" href="#memory-models" title="Permanent link">&para;</a></h4>
<p>ÂÜÖÂ≠òÊ®°ÂûãÔºàMemory modelÔºâÊòØ MASM Áã¨ÊúâÁöÑÊ¶ÇÂøµ„ÄÇ</p>
<ul>
<li>.MODEL ‰º™Êåá‰ª§Âú®ÂÆûÊ®°Âºè‰∏≠ÂåÖÂê´ÂÖ≠ÁßçÂÜÖÂ≠òÊ®°ÂûãÔºåÂàÜÂà´‰∏∫ tiny„ÄÅsmall„ÄÅcompact„ÄÅmedium„ÄÅlarge„ÄÅhuge„ÄÇ</li>
<li>Âú®‰øùÊä§Ê®°Âºè‰∏ãÔºå‰ªÖÊîØÊåÅ flatÔºàÂπ≥Èù¢Ôºâ‰∏ÄÁßçÊ®°Âûã„ÄÇ</li>
<li>ÁâπÊÆä‰º™Êåá‰ª§ <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/DATA" title="GitHub User: DATA">@DATA</a>„ÄÅ<a class="magiclink magiclink-github magiclink-mention" href="https://github.com/STACK" title="GitHub User: STACK">@STACK</a>„ÄÅ<a class="magiclink magiclink-github magiclink-mention" href="https://github.com/CODE" title="GitHub User: CODE">@CODE</a> Áî®‰∫éÊ†áËØÜ‰∏çÂêåÁöÑÊÆµ„ÄÇ</li>
<li>MASM ÁöÑ x64 ‰∏ã‰∏çÂÜç‰ΩøÁî® .MODEL ‰º™Êåá‰ª§„ÄÇ</li>
</ul>
<p>Â∞ΩÈáèÈÄâÊã©ËÉΩÂ§üÂÆπÁ∫≥Êï∞ÊçÆÂíå‰ª£Á†ÅÁöÑÊúÄÂ∞èÂÜÖÂ≠òÊ®°ÂûãÔºåÂõ†‰∏∫ËøëÂºïÁî®Ôºànear referenceÔºâÊØîËøúÂºïÁî®Ôºàfar referenceÔºâÊâßË°åÊïàÁéáÊõ¥È´ò„ÄÇ</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Ê®°Âûã</th>
<th style="text-align: center;">Êï∞ÊçÆÊÆµ</th>
<th style="text-align: center;">‰ª£Á†ÅÊÆµ</th>
<th style="text-align: left;">ÂÆö‰πâËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>Tiny</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰ªÖÊúâÂçï‰∏ÄÊÆµÔºåÂêåÊó∂ÂåÖÂê´‰ª£Á†ÅÂíåÊï∞ÊçÆÔºàCS=DS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Small</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰∏Ä‰∏™‰ª£Á†ÅÊÆµÂíå‰∏Ä‰∏™Êï∞ÊçÆÊÆµÔºàDS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Medium</strong></td>
<td style="text-align: center;">near</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÔºå‰∏Ä‰∏™Êï∞ÊçÆÊÆµÔºàDS=SSÔºâ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Compact</strong></td>
<td style="text-align: center;">far</td>
<td style="text-align: center;">near</td>
<td style="text-align: left;">‰∏Ä‰∏™‰ª£Á†ÅÊÆµÔºåÂ§ö‰∏™Êï∞ÊçÆÊÆµ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Large</strong></td>
<td style="text-align: center;">far</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÂíåÂ§ö‰∏™Êï∞ÊçÆÊÆµ</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Huge</strong></td>
<td style="text-align: center;">huge</td>
<td style="text-align: center;">far</td>
<td style="text-align: left;">Â§ö‰∏™‰ª£Á†ÅÊÆµÂíåÂ§ö‰∏™Êï∞ÊçÆÊÆµÔºåÂçï‰∏™Êï∞ÁªÑÂèØ‰ª•Â§ß‰∫é‰∏Ä‰∏™ÊÆµÔºà&gt;64KBÔºâ</td>
</tr>
</tbody>
</table>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Small Ê®°ÂºèÊåá‰ª£Á†ÅÊÆµÂíåÊï∞ÊçÆÊÆµÈÉΩÂú® 64KB ‰ª•ÂÜÖ„ÄÇ&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Flat Ê®°ÂºèÊåá‰ª£Á†ÅÂíåÊï∞ÊçÆ‰ΩøÁî®Âêå‰∏Ä‰∏™ 32 ‰ΩçÊÆµÔºåËÆøÈóÆ 4GB Á∫øÊÄßÂú∞ÂùÄÁ©∫Èó¥„ÄÇ&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="ÂØπÊÇ®ÊúâÂ∏ÆÂä©ÁöÑËØùÔºåÁªôÊàë‰∏Ä‰∏™starÂêßÔºÅ" data-md-value="5">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1l-73.6 144.2-159.9 25.4c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2l144.4-73.4L432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2l-25.3-159.9 114.4-114.5c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="‰Ω†ÊÉ≥ËØ∑ÊàëÂñùÊùØÂíñÂï°ÂêóÔºü" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M152-16c-13.3 0-24 10.7-24 24 0 38.9 23.4 59.4 39.1 73.1l1.1 1C184.5 96.4 192 103.9 192 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C183.5 31.7 176 24.1 176 8c0-13.3-10.7-24-24-24M96 192c-17.7 0-32 14.3-32 32v192c0 53 43 96 96 96h192c41.8 0 77.4-26.7 90.5-64h5.5c70.7 0 128-57.3 128-128s-57.3-128-128-128zm352 192V256c35.3 0 64 28.7 64 64s-28.7 64-64 64M288 8c0-13.3-10.7-24-24-24S240-5.3 240 8c0 38.9 23.4 59.4 39.1 73.1l1.1 1C296.5 96.4 304 103.9 304 120c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C295.5 31.7 288 24.1 288 8"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="5" hidden>
              
              
                
              
              
              
                
                
              
              <a href="https://github.com/The0xKa1/The0xKa1.github.io.git">
  <div class="button"  target="_blank">Give me a star‚≠ê</div>
</a>
            </div>
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              <div align="center"> <img src="/static/images/pay.png" width="200" height="200" /> </div>
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


<!-- Insert Giscus generated snippet here -->
<!-- ÊèíÂÖ• Giscus ÁîüÊàêÁöÑ‰ª£Á†ÅÂùó -->
<script src="https://giscus.app/client.js"
data-repo="kailqq/kailqq.github.io"
data-repo-id="R_kgDOMPtz7Q"
data-category="Announcements"
data-category-id="DIC_kwDOMPtz7c4Cge_P"
data-mapping="pathname"
data-strict="0"
data-reactions-enabled="1"
data-emit-metadata="0"
data-input-position="bottom"
data-theme="preferred_color_scheme"
data-lang="zh-CN"
crossorigin="anonymous"
async>
</script>

<!-- ‰∏ãÈù¢‰øùÊåÅ‰∏çÂä®Âç≥ÂèØ -->
<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  ÂõûÂà∞È°µÈù¢È°∂ÈÉ®
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="È°µËÑö" >
        
          
          <a href="../chap3/" class="md-footer__link md-footer__link--prev" aria-label="‰∏ä‰∏ÄÈ°µ: Chapter 3">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ‰∏ä‰∏ÄÈ°µ
              </span>
              <div class="md-ellipsis">
                Chapter 3
              </div>
            </div>
          </a>
        
        
          
          <a href="../chap5/" class="md-footer__link md-footer__link--next" aria-label="‰∏ã‰∏ÄÈ°µ: Chapter 5">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ‰∏ã‰∏ÄÈ°µ
              </span>
              <div class="md-ellipsis">
                Chapter 5
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 ~ now |  The0xKa1
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/The0xKa1" target="_blank" rel="noopener" title="My GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="tencent://message/?uin=2725913404&Site=The0xKa1&Menu=yes" target="_blank" rel="noopener" title="QQ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M434.1 420.4c-11.5 1.4-44.9-52.7-44.9-52.7 0 31.3-16.1 72.2-51 101.8 16.8 5.2 54.8 19.2 45.8 34.4-7.3 12.3-125.5 7.9-159.6 4-34.1 3.8-152.3 8.3-159.6-4-9-15.2 28.9-29.2 45.8-34.4-34.9-29.5-51.1-70.4-51.1-101.8 0 0-33.3 54.1-44.9 52.7-5.4-.6-12.4-29.6 9.3-99.7 10.3-33 22-60.5 40.1-105.8C60.9 98 109.2-.1 224.3-.1 338-.1 387.5 96 384.6 214.9c18.1 45.2 29.9 72.9 40.1 105.8 21.8 70.1 14.7 99.1 9.3 99.7z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://steamcommunity.com/profiles/76561199513750344" target="_blank" rel="noopener" title="Steam" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M504 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L184.6 279c-15.5-.9-30.7 3.4-43.5 12.1L8 236.1C18.2 108.4 125.1 8 255.6 8 392.8 8 504 119 504 256M163.7 384.3l-30.5-12.6c5.6 11.6 15.3 20.8 27.2 25.8 26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3S214 305.6 201 300.2c-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21m173.8-254.5a62.3 62.3 0 1 1 0 124.6 62.3 62.3 0 1 1 0-124.6m.1 109a46.8 46.8 0 1 0 0-93.6 46.8 46.8 0 1 0 0 93.6"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": {"Default": "default-tag", "Hardware": "hardware-tag", "Software": "software-tag"}, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../js/print-site.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
        <script src="../../../javascripts/katex.min.js"></script>
      
        <script src="../../../javascripts/auto-render.min.js"></script>
      
        <script src="../../../javascripts/card.js"></script>
      
        <script src="../../../javascripts/toc.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>